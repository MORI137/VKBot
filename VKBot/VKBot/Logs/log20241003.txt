2024-10-03 22:35:44.780 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 22:35:44.869 +03:00 [DBG] Hosting starting
2024-10-03 22:35:44.960 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 22:35:45.050 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 22:35:45.052 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 22:35:45.054 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 22:35:45.055 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 22:35:45.056 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 22:35:45.057 +03:00 [INF] Hosting environment: Development
2024-10-03 22:35:45.058 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 22:35:45.059 +03:00 [DBG] Hosting started
2024-10-03 22:35:45.161 +03:00 [DBG] Connection id "0HN73SA9JA5KP" received FIN.
2024-10-03 22:35:45.161 +03:00 [DBG] Connection id "0HN73SA9JA5KQ" received FIN.
2024-10-03 22:35:45.175 +03:00 [DBG] Connection id "0HN73SA9JA5KQ" accepted.
2024-10-03 22:35:45.175 +03:00 [DBG] Connection id "0HN73SA9JA5KP" accepted.
2024-10-03 22:35:45.179 +03:00 [DBG] Connection id "0HN73SA9JA5KQ" started.
2024-10-03 22:35:45.179 +03:00 [DBG] Connection id "0HN73SA9JA5KP" started.
2024-10-03 22:35:45.189 +03:00 [DBG] Connection id "0HN73SA9JA5KP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:35:45.189 +03:00 [DBG] Connection id "0HN73SA9JA5KQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:35:45.194 +03:00 [DBG] Connection id "0HN73SA9JA5KP" disconnecting.
2024-10-03 22:35:45.195 +03:00 [DBG] Connection id "0HN73SA9JA5KQ" disconnecting.
2024-10-03 22:35:45.198 +03:00 [DBG] Connection id "0HN73SA9JA5KQ" stopped.
2024-10-03 22:35:45.198 +03:00 [DBG] Connection id "0HN73SA9JA5KP" stopped.
2024-10-03 22:35:45.479 +03:00 [DBG] Connection id "0HN73SA9JA5KR" accepted.
2024-10-03 22:35:45.482 +03:00 [DBG] Connection id "0HN73SA9JA5KR" started.
2024-10-03 22:35:45.483 +03:00 [DBG] Connection id "0HN73SA9JA5KS" accepted.
2024-10-03 22:35:45.486 +03:00 [DBG] Connection id "0HN73SA9JA5KS" started.
2024-10-03 22:35:45.518 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 22:35:45.662 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 22:35:45.669 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 22:35:45.682 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 22:35:45.685 +03:00 [DBG] Request did not match any endpoints
2024-10-03 22:35:45.713 +03:00 [DBG] Connection id "0HN73SA9JA5KR" completed keep alive response.
2024-10-03 22:35:45.719 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 206.6703ms
2024-10-03 22:35:45.724 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 22:35:53.369 +03:00 [DBG] Connection id "0HN73SA9JA5KT" accepted.
2024-10-03 22:35:53.370 +03:00 [DBG] Connection id "0HN73SA9JA5KT" started.
2024-10-03 22:35:53.372 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:35:53.375 +03:00 [DBG] POST requests are not supported
2024-10-03 22:35:53.378 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:35:53.381 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:35:53.384 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:35:53.387 +03:00 [DBG] Connection id "0HN73SA9JA5KT", Request id "0HN73SA9JA5KT:00000001": started reading request body.
2024-10-03 22:35:53.388 +03:00 [DBG] Connection id "0HN73SA9JA5KT", Request id "0HN73SA9JA5KT:00000001": done reading request body.
2024-10-03 22:35:53.390 +03:00 [DBG] Connection id "0HN73SA9JA5KU" accepted.
2024-10-03 22:35:53.391 +03:00 [DBG] Connection id "0HN73SA9JA5KU" started.
2024-10-03 22:35:53.393 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:35:53.401 +03:00 [DBG] POST requests are not supported
2024-10-03 22:35:53.403 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:35:53.410 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:35:53.412 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:35:53.414 +03:00 [DBG] Connection id "0HN73SA9JA5KU", Request id "0HN73SA9JA5KU:00000001": started reading request body.
2024-10-03 22:35:53.423 +03:00 [DBG] Connection id "0HN73SA9JA5KU", Request id "0HN73SA9JA5KU:00000001": done reading request body.
2024-10-03 22:35:53.473 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:35:53.473 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:35:53.508 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:35:53.508 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:35:53.511 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:35:53.512 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:35:53.513 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:35:53.514 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:35:53.516 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:35:53.517 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:35:53.518 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:35:53.523 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:35:53.524 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:35:53.525 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:35:53.527 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:35:53.527 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:35:53.543 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:35:53.543 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:35:53.547 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:35:53.547 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:35:53.549 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:35:53.549 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:35:53.552 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:35:53.552 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:35:53.789 +03:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Nullable`1[VkNet.Enums.MessageType]. Path: $.type | LineNumber: 0 | BytePositionInLine: 42.
2024-10-03 22:35:53.789 +03:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Nullable`1[VkNet.Enums.MessageType]. Path: $.type | LineNumber: 0 | BytePositionInLine: 42.
2024-10-03 22:35:53.790 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:35:53.791 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:35:53.792 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:35:53.793 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:35:53.794 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:35:53.795 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:35:53.800 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:35:53.800 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:35:53.803 +03:00 [DBG] The request has model state errors, returning an error response.
2024-10-03 22:35:53.803 +03:00 [DBG] The request has model state errors, returning an error response.
2024-10-03 22:35:53.804 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-10-03 22:35:53.804 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-10-03 22:35:53.806 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 22:35:53.806 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 22:35:53.810 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 22:35:53.811 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 22:35:53.812 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-03 22:35:53.813 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-03 22:35:53.815 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-03 22:35:53.817 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-03 22:35:53.818 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-10-03 22:35:53.818 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-10-03 22:35:53.842 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 314.2278ms
2024-10-03 22:35:53.842 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 313.2089ms
2024-10-03 22:35:53.843 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:35:53.845 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:35:53.846 +03:00 [DBG] Connection id "0HN73SA9JA5KT" completed keep alive response.
2024-10-03 22:35:53.847 +03:00 [DBG] Connection id "0HN73SA9JA5KU" completed keep alive response.
2024-10-03 22:35:53.848 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 400 null application/problem+json; charset=utf-8 475.8247ms
2024-10-03 22:35:53.848 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 400 null application/problem+json; charset=utf-8 455.6724ms
2024-10-03 22:38:04.406 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 22:38:04.487 +03:00 [DBG] Hosting starting
2024-10-03 22:38:04.540 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 22:38:04.613 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 22:38:04.614 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 22:38:04.615 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 22:38:04.615 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 22:38:04.616 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 22:38:04.617 +03:00 [INF] Hosting environment: Development
2024-10-03 22:38:04.618 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 22:38:04.619 +03:00 [DBG] Hosting started
2024-10-03 22:38:04.898 +03:00 [DBG] Connection id "0HN73SBJ7UE4P" accepted.
2024-10-03 22:38:04.901 +03:00 [DBG] Connection id "0HN73SBJ7UE4P" started.
2024-10-03 22:38:04.919 +03:00 [DBG] Connection id "0HN73SBJ7UE4P" received FIN.
2024-10-03 22:38:04.922 +03:00 [DBG] Connection id "0HN73SBJ7UE4P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:38:04.924 +03:00 [DBG] Connection id "0HN73SBJ7UE4P" disconnecting.
2024-10-03 22:38:04.925 +03:00 [DBG] Connection id "0HN73SBJ7UE4P" stopped.
2024-10-03 22:38:05.239 +03:00 [DBG] Connection id "0HN73SBJ7UE4Q" accepted.
2024-10-03 22:38:05.240 +03:00 [DBG] Connection id "0HN73SBJ7UE4Q" started.
2024-10-03 22:38:05.244 +03:00 [DBG] Connection id "0HN73SBJ7UE4R" accepted.
2024-10-03 22:38:05.245 +03:00 [DBG] Connection id "0HN73SBJ7UE4R" started.
2024-10-03 22:38:05.270 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 22:38:05.387 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 22:38:05.392 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 22:38:05.401 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 22:38:05.403 +03:00 [DBG] Request did not match any endpoints
2024-10-03 22:38:05.417 +03:00 [ERR] Тело body после изменения
2024-10-03 22:38:05.419 +03:00 [ERR] 
2024-10-03 22:38:05.430 +03:00 [DBG] Connection id "0HN73SBJ7UE4Q" completed keep alive response.
2024-10-03 22:38:05.433 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 166.6269ms
2024-10-03 22:38:05.437 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 22:38:07.875 +03:00 [DBG] Connection id "0HN73SBJ7UE4S" accepted.
2024-10-03 22:38:07.876 +03:00 [DBG] Connection id "0HN73SBJ7UE4S" started.
2024-10-03 22:38:07.878 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:38:07.882 +03:00 [DBG] POST requests are not supported
2024-10-03 22:38:07.885 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:38:07.888 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:38:07.892 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:38:07.897 +03:00 [DBG] Connection id "0HN73SBJ7UE4S", Request id "0HN73SBJ7UE4S:00000001": started reading request body.
2024-10-03 22:38:07.898 +03:00 [DBG] Connection id "0HN73SBJ7UE4S", Request id "0HN73SBJ7UE4S:00000001": done reading request body.
2024-10-03 22:38:07.994 +03:00 [ERR] Тело body после изменения
2024-10-03 22:38:07.995 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"8f6fdc6fb5d9a8f93968ff47100f363c492d77d4","v":"5.199","object":{"message":{"date":1727984287,"from_id":651565729,"id":58,"version":10000077,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":54,"fwd_messages":[],"text":"2","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:38:07.996 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:38:08.032 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:38:08.035 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:38:08.036 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:38:08.037 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:38:08.038 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:38:08.039 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:38:08.041 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:38:08.065 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:38:08.074 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:38:08.077 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:38:08.079 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:38:08.414 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 372.0013ms
2024-10-03 22:38:08.442 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:38:08.488 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.Text.Json.Serialization.ReadBufferState.ReadFromStreamAsync(Stream utf8Json, CancellationToken cancellationToken, Boolean fillBuffer)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 73
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:38:08.544 +03:00 [DBG] Connection id "0HN73SBJ7UE4S" completed keep alive response.
2024-10-03 22:38:08.545 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 667.6535ms
2024-10-03 22:38:40.085 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 22:38:40.160 +03:00 [DBG] Hosting starting
2024-10-03 22:38:40.217 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 22:38:40.290 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 22:38:40.292 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 22:38:40.293 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 22:38:40.294 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 22:38:40.295 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 22:38:40.296 +03:00 [INF] Hosting environment: Development
2024-10-03 22:38:40.296 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 22:38:40.297 +03:00 [DBG] Hosting started
2024-10-03 22:38:40.505 +03:00 [DBG] Connection id "0HN73SBTRGV5H" accepted.
2024-10-03 22:38:40.505 +03:00 [DBG] Connection id "0HN73SBTRGV5I" accepted.
2024-10-03 22:38:40.508 +03:00 [DBG] Connection id "0HN73SBTRGV5H" started.
2024-10-03 22:38:40.508 +03:00 [DBG] Connection id "0HN73SBTRGV5I" started.
2024-10-03 22:38:40.523 +03:00 [DBG] Connection id "0HN73SBTRGV5H" received FIN.
2024-10-03 22:38:40.523 +03:00 [DBG] Connection id "0HN73SBTRGV5I" received FIN.
2024-10-03 22:38:40.533 +03:00 [DBG] Connection id "0HN73SBTRGV5H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:38:40.533 +03:00 [DBG] Connection id "0HN73SBTRGV5I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:38:40.535 +03:00 [DBG] Connection id "0HN73SBTRGV5H" disconnecting.
2024-10-03 22:38:40.536 +03:00 [DBG] Connection id "0HN73SBTRGV5I" disconnecting.
2024-10-03 22:38:40.538 +03:00 [DBG] Connection id "0HN73SBTRGV5H" stopped.
2024-10-03 22:38:40.538 +03:00 [DBG] Connection id "0HN73SBTRGV5I" stopped.
2024-10-03 22:38:40.947 +03:00 [DBG] Connection id "0HN73SBTRGV5J" accepted.
2024-10-03 22:38:40.949 +03:00 [DBG] Connection id "0HN73SBTRGV5J" started.
2024-10-03 22:38:40.953 +03:00 [DBG] Connection id "0HN73SBTRGV5K" accepted.
2024-10-03 22:38:40.954 +03:00 [DBG] Connection id "0HN73SBTRGV5K" started.
2024-10-03 22:38:40.978 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 22:38:41.084 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 22:38:41.090 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 22:38:41.100 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 22:38:41.101 +03:00 [DBG] Request did not match any endpoints
2024-10-03 22:38:41.117 +03:00 [ERR] Тело body после изменения
2024-10-03 22:38:41.119 +03:00 [ERR] 
2024-10-03 22:38:41.132 +03:00 [DBG] Connection id "0HN73SBTRGV5J" completed keep alive response.
2024-10-03 22:38:41.134 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 159.8491ms
2024-10-03 22:38:41.140 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 22:38:44.189 +03:00 [DBG] Connection id "0HN73SBTRGV5L" accepted.
2024-10-03 22:38:44.190 +03:00 [DBG] Connection id "0HN73SBTRGV5L" started.
2024-10-03 22:38:44.191 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:38:44.193 +03:00 [DBG] POST requests are not supported
2024-10-03 22:38:44.196 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:38:44.198 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:38:44.202 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:38:44.207 +03:00 [DBG] Connection id "0HN73SBTRGV5L", Request id "0HN73SBTRGV5L:00000001": started reading request body.
2024-10-03 22:38:44.208 +03:00 [DBG] Connection id "0HN73SBTRGV5L", Request id "0HN73SBTRGV5L:00000001": done reading request body.
2024-10-03 22:38:44.301 +03:00 [ERR] Тело body после изменения
2024-10-03 22:38:44.302 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"aa091ea0ef32be21b93d0ef1c88188a6bb0f4e3e","v":"5.199","object":{"message":{"date":1727984323,"from_id":651565729,"id":59,"version":10000078,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":55,"fwd_messages":[],"text":"2","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:38:44.304 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:38:44.337 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:38:44.340 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:38:44.343 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:38:44.345 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:38:44.348 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:38:44.350 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:38:44.353 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:38:44.381 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:38:44.386 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:38:44.390 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:38:44.394 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:38:44.692 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 337.792ms
2024-10-03 22:38:44.716 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:38:44.761 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.Text.Json.Serialization.ReadBufferState.ReadFromStreamAsync(Stream utf8Json, CancellationToken cancellationToken, Boolean fillBuffer)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 73
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:38:44.801 +03:00 [DBG] Connection id "0HN73SBTRGV5L" completed keep alive response.
2024-10-03 22:38:44.803 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 611.4147ms
2024-10-03 22:39:34.411 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 22:39:34.504 +03:00 [DBG] Hosting starting
2024-10-03 22:39:34.561 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 22:39:34.644 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 22:39:34.647 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 22:39:34.653 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 22:39:34.655 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 22:39:34.657 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 22:39:34.659 +03:00 [INF] Hosting environment: Development
2024-10-03 22:39:34.661 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 22:39:34.666 +03:00 [DBG] Hosting started
2024-10-03 22:39:34.871 +03:00 [DBG] Connection id "0HN73SCE203VN" accepted.
2024-10-03 22:39:34.871 +03:00 [DBG] Connection id "0HN73SCE203VM" accepted.
2024-10-03 22:39:34.873 +03:00 [DBG] Connection id "0HN73SCE203VN" started.
2024-10-03 22:39:34.873 +03:00 [DBG] Connection id "0HN73SCE203VM" started.
2024-10-03 22:39:34.886 +03:00 [DBG] Connection id "0HN73SCE203VN" received FIN.
2024-10-03 22:39:34.886 +03:00 [DBG] Connection id "0HN73SCE203VM" received FIN.
2024-10-03 22:39:34.893 +03:00 [DBG] Connection id "0HN73SCE203VM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:39:34.893 +03:00 [DBG] Connection id "0HN73SCE203VN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:39:34.896 +03:00 [DBG] Connection id "0HN73SCE203VM" disconnecting.
2024-10-03 22:39:34.899 +03:00 [DBG] Connection id "0HN73SCE203VN" disconnecting.
2024-10-03 22:39:34.905 +03:00 [DBG] Connection id "0HN73SCE203VN" stopped.
2024-10-03 22:39:34.905 +03:00 [DBG] Connection id "0HN73SCE203VM" stopped.
2024-10-03 22:39:35.327 +03:00 [DBG] Connection id "0HN73SCE203VO" accepted.
2024-10-03 22:39:35.329 +03:00 [DBG] Connection id "0HN73SCE203VO" started.
2024-10-03 22:39:35.329 +03:00 [DBG] Connection id "0HN73SCE203VP" accepted.
2024-10-03 22:39:35.333 +03:00 [DBG] Connection id "0HN73SCE203VP" started.
2024-10-03 22:39:35.362 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 22:39:35.483 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 22:39:35.487 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 22:39:35.498 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 22:39:35.499 +03:00 [DBG] Request did not match any endpoints
2024-10-03 22:39:35.531 +03:00 [DBG] Connection id "0HN73SCE203VO" completed keep alive response.
2024-10-03 22:39:35.535 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 177.9427ms
2024-10-03 22:39:35.540 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 22:39:41.192 +03:00 [DBG] Connection id "0HN73SCE203VQ" accepted.
2024-10-03 22:39:41.193 +03:00 [DBG] Connection id "0HN73SCE203VQ" started.
2024-10-03 22:39:41.195 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:39:41.197 +03:00 [DBG] POST requests are not supported
2024-10-03 22:39:41.199 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:39:41.201 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:39:41.203 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:39:41.206 +03:00 [DBG] Connection id "0HN73SCE203VQ", Request id "0HN73SCE203VQ:00000001": started reading request body.
2024-10-03 22:39:41.207 +03:00 [DBG] Connection id "0HN73SCE203VQ", Request id "0HN73SCE203VQ:00000001": done reading request body.
2024-10-03 22:39:41.285 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"c3ed1889eafc33e0788d4e2217d92f70b78558b9","v":"5.199","object":{"message":{"date":1727984380,"from_id":651565729,"id":60,"version":10000079,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":56,"fwd_messages":[],"text":"2","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:39:41.288 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:39:41.316 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:39:41.319 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:39:41.320 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:39:41.323 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:39:41.325 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:39:41.326 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:39:41.328 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:39:41.344 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:39:41.347 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:39:41.350 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:39:41.352 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:39:41.522 +03:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Nullable`1[VkNet.Enums.MessageType]. Path: $.type | LineNumber: 0 | BytePositionInLine: 42.
2024-10-03 22:39:41.523 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:39:41.525 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:39:41.525 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:39:41.530 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:39:41.532 +03:00 [DBG] The request has model state errors, returning an error response.
2024-10-03 22:39:41.533 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-10-03 22:39:41.536 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 22:39:41.538 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 22:39:41.539 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-03 22:39:41.541 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-03 22:39:41.542 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-10-03 22:39:41.564 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 233.3686ms
2024-10-03 22:39:41.567 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:39:41.568 +03:00 [DBG] Connection id "0HN73SCE203VQ" completed keep alive response.
2024-10-03 22:39:41.570 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 400 null application/problem+json; charset=utf-8 375.38ms
2024-10-03 22:39:42.332 +03:00 [DBG] Connection id "0HN73SCE203VR" accepted.
2024-10-03 22:39:42.333 +03:00 [DBG] Connection id "0HN73SCE203VR" started.
2024-10-03 22:39:42.335 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 552
2024-10-03 22:39:42.337 +03:00 [DBG] POST requests are not supported
2024-10-03 22:39:42.338 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:39:42.339 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:39:42.340 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:39:42.341 +03:00 [DBG] Connection id "0HN73SCE203VR", Request id "0HN73SCE203VR:00000001": started reading request body.
2024-10-03 22:39:42.342 +03:00 [DBG] Connection id "0HN73SCE203VR", Request id "0HN73SCE203VR:00000001": done reading request body.
2024-10-03 22:39:42.343 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"fc9a10ce7aee87140686009c9a479e30d14b618d","v":"5.199","object":{"message":{"date":1727978174,"from_id":651565729,"id":15,"version":10000030,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":11,"fwd_messages":[],"text":"f","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:39:42.344 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:39:42.345 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:39:42.346 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:39:42.348 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:39:42.349 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:39:42.350 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:39:42.352 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:39:42.353 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:39:42.354 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:39:42.356 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:39:42.357 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:39:42.358 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:39:42.411 +03:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Nullable`1[VkNet.Enums.MessageType]. Path: $.type | LineNumber: 0 | BytePositionInLine: 42.
2024-10-03 22:39:42.412 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:39:42.413 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:39:42.414 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:39:42.416 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:39:42.417 +03:00 [DBG] The request has model state errors, returning an error response.
2024-10-03 22:39:42.417 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-10-03 22:39:42.418 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 22:39:42.420 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 22:39:42.421 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-03 22:39:42.423 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-03 22:39:42.424 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-10-03 22:39:42.425 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 71.5481ms
2024-10-03 22:39:42.426 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:39:42.427 +03:00 [DBG] Connection id "0HN73SCE203VR" completed keep alive response.
2024-10-03 22:39:42.428 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 400 null application/problem+json; charset=utf-8 92.8549ms
2024-10-03 22:39:52.411 +03:00 [DBG] Connection id "0HN73SCE203VS" accepted.
2024-10-03 22:39:52.412 +03:00 [DBG] Connection id "0HN73SCE203VS" started.
2024-10-03 22:39:52.413 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:39:52.414 +03:00 [DBG] POST requests are not supported
2024-10-03 22:39:52.415 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:39:52.416 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:39:52.416 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:39:52.417 +03:00 [DBG] Connection id "0HN73SCE203VS", Request id "0HN73SCE203VS:00000001": started reading request body.
2024-10-03 22:39:52.418 +03:00 [DBG] Connection id "0HN73SCE203VS", Request id "0HN73SCE203VS:00000001": done reading request body.
2024-10-03 22:39:52.419 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"c3ed1889eafc33e0788d4e2217d92f70b78558b9","v":"5.199","object":{"message":{"date":1727984380,"from_id":651565729,"id":60,"version":10000079,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":56,"fwd_messages":[],"text":"2","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:39:52.420 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:39:52.420 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:39:52.422 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:39:52.424 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:39:52.425 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:39:52.426 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:39:52.427 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:39:52.428 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:39:52.429 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:39:52.430 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:39:52.432 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:39:52.433 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:39:52.484 +03:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Nullable`1[VkNet.Enums.MessageType]. Path: $.type | LineNumber: 0 | BytePositionInLine: 42.
2024-10-03 22:39:52.485 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:39:52.485 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:39:52.486 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:39:52.487 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:39:52.488 +03:00 [DBG] The request has model state errors, returning an error response.
2024-10-03 22:39:52.488 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-10-03 22:39:52.489 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 22:39:52.491 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 22:39:52.491 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-03 22:39:52.493 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-03 22:39:52.494 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-10-03 22:39:52.495 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 66.4843ms
2024-10-03 22:39:52.496 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:39:52.497 +03:00 [DBG] Connection id "0HN73SCE203VS" completed keep alive response.
2024-10-03 22:39:52.498 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 400 null application/problem+json; charset=utf-8 84.3861ms
2024-10-03 22:40:44.696 +03:00 [DBG] Connection id "0HN73SCE203VP" received FIN.
2024-10-03 22:40:44.700 +03:00 [DBG] Connection id "0HN73SCE203VP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:40:44.702 +03:00 [DBG] Connection id "0HN73SCE203VP" disconnecting.
2024-10-03 22:40:44.708 +03:00 [DBG] Connection id "0HN73SCE203VP" stopped.
2024-10-03 22:48:57.275 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 22:48:57.360 +03:00 [DBG] Hosting starting
2024-10-03 22:48:57.422 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 22:48:57.506 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 22:48:57.508 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 22:48:57.508 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 22:48:57.509 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 22:48:57.510 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 22:48:57.511 +03:00 [INF] Hosting environment: Development
2024-10-03 22:48:57.512 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 22:48:57.513 +03:00 [DBG] Hosting started
2024-10-03 22:48:57.700 +03:00 [DBG] Connection id "0HN73SHLPHVB7" accepted.
2024-10-03 22:48:57.703 +03:00 [DBG] Connection id "0HN73SHLPHVB7" started.
2024-10-03 22:48:57.730 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:48:57.746 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 22:48:57.750 +03:00 [DBG] POST requests are not supported
2024-10-03 22:48:57.759 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:48:57.769 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:48:57.772 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:48:57.777 +03:00 [DBG] Connection id "0HN73SHLPHVB8" accepted.
2024-10-03 22:48:57.788 +03:00 [DBG] Connection id "0HN73SHLPHVB8" received FIN.
2024-10-03 22:48:57.789 +03:00 [DBG] Connection id "0HN73SHLPHVB8" started.
2024-10-03 22:48:57.793 +03:00 [DBG] Connection id "0HN73SHLPHVB7", Request id "0HN73SHLPHVB7:00000001": started reading request body.
2024-10-03 22:48:57.794 +03:00 [DBG] Connection id "0HN73SHLPHVB8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:48:57.795 +03:00 [DBG] Connection id "0HN73SHLPHVB7", Request id "0HN73SHLPHVB7:00000001": done reading request body.
2024-10-03 22:48:57.796 +03:00 [DBG] Connection id "0HN73SHLPHVB8" disconnecting.
2024-10-03 22:48:57.798 +03:00 [DBG] Connection id "0HN73SHLPHVB8" stopped.
2024-10-03 22:48:57.898 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"96a74236a154f47b8f1bc2ade8cda192304e2c1a","v":"5.199","object":{"message":{"date":1727984937,"from_id":651565729,"id":61,"version":10000080,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":57,"fwd_messages":[],"text":"2","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:48:57.902 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:48:57.934 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:48:57.937 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:48:57.939 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:48:57.941 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:48:57.945 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:48:57.947 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:48:57.950 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:48:57.975 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:48:57.981 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:48:57.986 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:48:57.989 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:48:57.994 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:48:58.007 +03:00 [DBG] Connection id "0HN73SHLPHVB9" accepted.
2024-10-03 22:48:58.008 +03:00 [DBG] Connection id "0HN73SHLPHVB9" started.
2024-10-03 22:48:58.012 +03:00 [DBG] Connection id "0HN73SHLPHVBA" accepted.
2024-10-03 22:48:58.013 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 22:48:58.014 +03:00 [DBG] Connection id "0HN73SHLPHVBA" started.
2024-10-03 22:48:58.044 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:48:58.046 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:48:58.048 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:48:58.150 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:12.905 +03:00 [DBG] Connection id "0HN73SHLPHVB7" received FIN.
2024-10-03 22:49:12.905 +03:00 [ERR] 
2024-10-03 22:49:12.906 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 22:49:12.906 +03:00 [DBG] Connection id "0HN73SHLPHVB7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:49:12.907 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 22:49:12.909 +03:00 [DBG] Connection id "0HN73SHLPHVB7" disconnecting.
2024-10-03 22:49:12.910 +03:00 [DBG] Request did not match any endpoints
2024-10-03 22:49:12.912 +03:00 [DBG] Connection id "0HN73SHLPHVB9" completed keep alive response.
2024-10-03 22:49:12.914 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 14900.3159ms
2024-10-03 22:49:12.921 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 22:49:13.065 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 15113.7567ms
2024-10-03 22:49:13.090 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:13.140 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:49:13.190 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 15462.7782ms
2024-10-03 22:49:13.193 +03:00 [DBG] Connection id "0HN73SHLPHVB7" stopped.
2024-10-03 22:49:13.311 +03:00 [DBG] Connection id "0HN73SHLPHVBB" accepted.
2024-10-03 22:49:13.313 +03:00 [DBG] Connection id "0HN73SHLPHVBB" started.
2024-10-03 22:49:13.314 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:49:13.316 +03:00 [DBG] POST requests are not supported
2024-10-03 22:49:13.317 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:49:13.317 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:49:13.320 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:13.320 +03:00 [DBG] Connection id "0HN73SHLPHVBB", Request id "0HN73SHLPHVBB:00000001": started reading request body.
2024-10-03 22:49:13.321 +03:00 [DBG] Connection id "0HN73SHLPHVBB", Request id "0HN73SHLPHVBB:00000001": done reading request body.
2024-10-03 22:49:13.323 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"398edcb246d75f095a077ac5b8fe69a999ab20be","v":"5.199","object":{"message":{"date":1727984152,"from_id":651565729,"id":57,"version":10000076,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":53,"fwd_messages":[],"text":"1","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:49:13.323 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:13.325 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:49:13.326 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:49:13.327 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:49:13.327 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:49:13.329 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:49:13.329 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:49:13.330 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:13.331 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:13.332 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:13.333 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:49:13.348 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:49:13.350 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:49:13.353 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:13.354 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:13.355 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:13.356 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:13.357 +03:00 [ERR] 
2024-10-03 22:49:13.444 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 113.9672ms
2024-10-03 22:49:13.469 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:13.516 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:49:13.523 +03:00 [DBG] Connection id "0HN73SHLPHVBB" completed keep alive response.
2024-10-03 22:49:13.524 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 209.9843ms
2024-10-03 22:49:15.335 +03:00 [DBG] Connection id "0HN73SHLPHVBC" accepted.
2024-10-03 22:49:15.336 +03:00 [DBG] Connection id "0HN73SHLPHVBC" started.
2024-10-03 22:49:15.337 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:49:15.338 +03:00 [DBG] POST requests are not supported
2024-10-03 22:49:15.339 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:49:15.339 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:49:15.340 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:15.341 +03:00 [DBG] Connection id "0HN73SHLPHVBC", Request id "0HN73SHLPHVBC:00000001": started reading request body.
2024-10-03 22:49:15.342 +03:00 [DBG] Connection id "0HN73SHLPHVBC", Request id "0HN73SHLPHVBC:00000001": done reading request body.
2024-10-03 22:49:15.343 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"96a74236a154f47b8f1bc2ade8cda192304e2c1a","v":"5.199","object":{"message":{"date":1727984937,"from_id":651565729,"id":61,"version":10000080,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":57,"fwd_messages":[],"text":"2","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:49:15.343 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:15.344 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:49:15.345 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:49:15.346 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:49:15.346 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:49:15.348 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:49:15.349 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:49:15.350 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:15.350 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:15.351 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:15.353 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:49:15.354 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:49:15.354 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:49:15.355 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:15.356 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:15.357 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:15.358 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:15.359 +03:00 [ERR] 
2024-10-03 22:49:15.444 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 94.8096ms
2024-10-03 22:49:15.466 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:15.510 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:49:15.515 +03:00 [DBG] Connection id "0HN73SHLPHVBC" completed keep alive response.
2024-10-03 22:49:15.516 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 179.6941ms
2024-10-03 22:49:21.936 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 22:49:22.014 +03:00 [DBG] Hosting starting
2024-10-03 22:49:22.073 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 22:49:22.140 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 22:49:22.142 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 22:49:22.143 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 22:49:22.144 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 22:49:22.144 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 22:49:22.145 +03:00 [INF] Hosting environment: Development
2024-10-03 22:49:22.146 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 22:49:22.148 +03:00 [DBG] Hosting started
2024-10-03 22:49:22.511 +03:00 [DBG] Connection id "0HN73SHT65H4I" accepted.
2024-10-03 22:49:22.511 +03:00 [DBG] Connection id "0HN73SHT65H4H" accepted.
2024-10-03 22:49:22.513 +03:00 [DBG] Connection id "0HN73SHT65H4I" started.
2024-10-03 22:49:22.514 +03:00 [DBG] Connection id "0HN73SHT65H4H" started.
2024-10-03 22:49:22.536 +03:00 [DBG] Connection id "0HN73SHT65H4I" received FIN.
2024-10-03 22:49:22.536 +03:00 [DBG] Connection id "0HN73SHT65H4H" received FIN.
2024-10-03 22:49:22.542 +03:00 [DBG] Connection id "0HN73SHT65H4H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:49:22.542 +03:00 [DBG] Connection id "0HN73SHT65H4I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:49:22.544 +03:00 [DBG] Connection id "0HN73SHT65H4H" disconnecting.
2024-10-03 22:49:22.544 +03:00 [DBG] Connection id "0HN73SHT65H4I" disconnecting.
2024-10-03 22:49:22.551 +03:00 [DBG] Connection id "0HN73SHT65H4H" stopped.
2024-10-03 22:49:22.553 +03:00 [DBG] Connection id "0HN73SHT65H4I" stopped.
2024-10-03 22:49:22.918 +03:00 [DBG] Connection id "0HN73SHT65H4J" accepted.
2024-10-03 22:49:22.919 +03:00 [DBG] Connection id "0HN73SHT65H4J" started.
2024-10-03 22:49:22.923 +03:00 [DBG] Connection id "0HN73SHT65H4K" accepted.
2024-10-03 22:49:22.925 +03:00 [DBG] Connection id "0HN73SHT65H4K" started.
2024-10-03 22:49:22.951 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 22:49:23.078 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 22:49:23.083 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 22:49:23.096 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 22:49:23.097 +03:00 [DBG] Request did not match any endpoints
2024-10-03 22:49:23.114 +03:00 [DBG] Connection id "0HN73SHT65H4J" completed keep alive response.
2024-10-03 22:49:23.117 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 171.2357ms
2024-10-03 22:49:23.121 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 22:49:24.936 +03:00 [DBG] Connection id "0HN73SHT65H4L" accepted.
2024-10-03 22:49:24.937 +03:00 [DBG] Connection id "0HN73SHT65H4L" started.
2024-10-03 22:49:24.938 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:49:24.940 +03:00 [DBG] POST requests are not supported
2024-10-03 22:49:24.944 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:49:24.946 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:49:24.948 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:24.951 +03:00 [DBG] Connection id "0HN73SHT65H4L", Request id "0HN73SHT65H4L:00000001": started reading request body.
2024-10-03 22:49:24.953 +03:00 [DBG] Connection id "0HN73SHT65H4L", Request id "0HN73SHT65H4L:00000001": done reading request body.
2024-10-03 22:49:25.045 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"e7fc44400d5f9ce8c55d9d23b9d669e909721c8a","v":"5.199","object":{"message":{"date":1727984964,"from_id":651565729,"id":62,"version":10000081,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":58,"fwd_messages":[],"text":"3","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:49:25.047 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:25.076 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:49:25.078 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:49:25.080 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:49:25.081 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:49:25.082 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:49:25.084 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:49:25.086 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:25.101 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:25.105 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:25.107 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:49:25.109 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:49:25.111 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:49:25.131 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:25.133 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:25.134 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:25.172 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:25.177 +03:00 [ERR] 
2024-10-03 22:49:25.285 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 198.0884ms
2024-10-03 22:49:25.307 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:25.349 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:49:25.390 +03:00 [DBG] Connection id "0HN73SHT65H4L" completed keep alive response.
2024-10-03 22:49:25.391 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 452.8395ms
2024-10-03 22:49:26.488 +03:00 [DBG] Connection id "0HN73SHT65H4M" accepted.
2024-10-03 22:49:26.490 +03:00 [DBG] Connection id "0HN73SHT65H4M" started.
2024-10-03 22:49:26.491 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:49:26.494 +03:00 [DBG] POST requests are not supported
2024-10-03 22:49:26.495 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:49:26.496 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:49:26.497 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:26.498 +03:00 [DBG] Connection id "0HN73SHT65H4M", Request id "0HN73SHT65H4M:00000001": started reading request body.
2024-10-03 22:49:26.499 +03:00 [DBG] Connection id "0HN73SHT65H4M", Request id "0HN73SHT65H4M:00000001": done reading request body.
2024-10-03 22:49:26.500 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"4fd17809c5011b9a99747b16efcd4c7ff6636495","v":"5.199","object":{"message":{"date":1727984966,"from_id":651565729,"id":63,"version":10000082,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":59,"fwd_messages":[],"text":"3","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:49:26.501 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:26.502 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:49:26.503 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:49:26.504 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:49:26.505 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:49:26.507 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:49:26.508 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:49:26.509 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:26.510 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:26.511 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:26.512 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:49:26.513 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:49:26.514 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:49:26.515 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:26.516 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:26.517 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:26.519 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:26.520 +03:00 [ERR] 
2024-10-03 22:49:26.606 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 96.8561ms
2024-10-03 22:49:26.628 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:26.670 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:49:26.675 +03:00 [DBG] Connection id "0HN73SHT65H4M" completed keep alive response.
2024-10-03 22:49:26.676 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 184.9024ms
2024-10-03 22:49:27.607 +03:00 [DBG] Connection id "0HN73SHT65H4N" accepted.
2024-10-03 22:49:27.607 +03:00 [DBG] Connection id "0HN73SHT65H4N" started.
2024-10-03 22:49:27.609 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:49:27.612 +03:00 [DBG] POST requests are not supported
2024-10-03 22:49:27.613 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:49:27.614 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:49:27.615 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:27.616 +03:00 [DBG] Connection id "0HN73SHT65H4N", Request id "0HN73SHT65H4N:00000001": started reading request body.
2024-10-03 22:49:27.618 +03:00 [DBG] Connection id "0HN73SHT65H4N", Request id "0HN73SHT65H4N:00000001": done reading request body.
2024-10-03 22:49:27.619 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"617b832146173468703403bdf872335ad3e8389d","v":"5.199","object":{"message":{"date":1727984967,"from_id":651565729,"id":64,"version":10000083,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":60,"fwd_messages":[],"text":"3","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:49:27.619 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:27.620 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:49:27.621 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:49:27.622 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:49:27.623 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:49:27.624 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:49:27.624 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:49:27.625 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:27.626 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:27.627 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:27.627 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:49:27.628 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:49:27.629 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:49:27.630 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:27.630 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:27.631 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:27.632 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:27.633 +03:00 [ERR] 
2024-10-03 22:49:27.714 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 88.7083ms
2024-10-03 22:49:27.734 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:27.772 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:49:27.778 +03:00 [DBG] Connection id "0HN73SHT65H4N" completed keep alive response.
2024-10-03 22:49:27.779 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 169.7055ms
2024-10-03 22:49:29.302 +03:00 [DBG] Connection id "0HN73SHT65H4O" accepted.
2024-10-03 22:49:29.304 +03:00 [DBG] Connection id "0HN73SHT65H4O" started.
2024-10-03 22:49:29.306 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:49:29.307 +03:00 [DBG] POST requests are not supported
2024-10-03 22:49:29.308 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:49:29.308 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:49:29.309 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:29.310 +03:00 [DBG] Connection id "0HN73SHT65H4O", Request id "0HN73SHT65H4O:00000001": started reading request body.
2024-10-03 22:49:29.311 +03:00 [DBG] Connection id "0HN73SHT65H4O", Request id "0HN73SHT65H4O:00000001": done reading request body.
2024-10-03 22:49:29.312 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"fdcb3c775719724d826f19bb0e610f2994d325f7","v":"5.199","object":{"message":{"date":1727984968,"from_id":651565729,"id":65,"version":10000084,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":61,"fwd_messages":[],"text":"3","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:49:29.313 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:29.314 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:49:29.315 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:49:29.316 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:49:29.316 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:49:29.318 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:49:29.318 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:49:29.319 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:29.320 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:29.321 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:29.321 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:49:29.322 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:49:29.323 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:49:29.324 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:29.324 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:29.325 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:29.326 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:29.326 +03:00 [ERR] 
2024-10-03 22:49:29.420 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 100.7157ms
2024-10-03 22:49:29.443 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:29.489 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:49:29.494 +03:00 [DBG] Connection id "0HN73SHT65H4O" completed keep alive response.
2024-10-03 22:49:29.495 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 189.4007ms
2024-10-03 22:49:30.623 +03:00 [DBG] Connection id "0HN73SHT65H4P" accepted.
2024-10-03 22:49:30.625 +03:00 [DBG] Connection id "0HN73SHT65H4P" started.
2024-10-03 22:49:30.626 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:49:30.627 +03:00 [DBG] POST requests are not supported
2024-10-03 22:49:30.628 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:49:30.628 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:49:30.629 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:30.630 +03:00 [DBG] Connection id "0HN73SHT65H4P", Request id "0HN73SHT65H4P:00000001": started reading request body.
2024-10-03 22:49:30.630 +03:00 [DBG] Connection id "0HN73SHT65H4P", Request id "0HN73SHT65H4P:00000001": done reading request body.
2024-10-03 22:49:30.631 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"bdde8d4f7a8f5e644651cd2a2aa4967f5294dfab","v":"5.199","object":{"message":{"date":1727984970,"from_id":651565729,"id":66,"version":10000085,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":62,"fwd_messages":[],"text":"3","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:49:30.631 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:30.632 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:49:30.633 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:49:30.633 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:49:30.634 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:49:30.636 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:49:30.637 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:49:30.638 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:30.638 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:30.639 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:30.640 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:49:30.641 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:49:30.642 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:49:30.643 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:30.644 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:30.645 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:30.645 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:30.646 +03:00 [ERR] 
2024-10-03 22:49:30.744 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 106.2472ms
2024-10-03 22:49:30.773 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:30.821 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:49:30.827 +03:00 [DBG] Connection id "0HN73SHT65H4P" completed keep alive response.
2024-10-03 22:49:30.827 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 201.958ms
2024-10-03 22:49:31.689 +03:00 [DBG] Connection id "0HN73SHT65H4Q" accepted.
2024-10-03 22:49:31.690 +03:00 [DBG] Connection id "0HN73SHT65H4Q" started.
2024-10-03 22:49:31.691 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:49:31.693 +03:00 [DBG] POST requests are not supported
2024-10-03 22:49:31.693 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:49:31.694 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:49:31.695 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:31.695 +03:00 [DBG] Connection id "0HN73SHT65H4Q", Request id "0HN73SHT65H4Q:00000001": started reading request body.
2024-10-03 22:49:31.696 +03:00 [DBG] Connection id "0HN73SHT65H4Q", Request id "0HN73SHT65H4Q:00000001": done reading request body.
2024-10-03 22:49:31.697 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"ca122d196ebc6469416dab36c877dd5b8ad9d16d","v":"5.199","object":{"message":{"date":1727984971,"from_id":651565729,"id":67,"version":10000086,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":63,"fwd_messages":[],"text":"3","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:49:31.698 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:31.698 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:49:31.699 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:49:31.700 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:49:31.700 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:49:31.701 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:49:31.702 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:49:31.704 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:31.706 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:31.707 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:31.708 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:49:31.710 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:49:31.711 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:49:31.712 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:31.714 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:31.715 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:31.716 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:31.717 +03:00 [ERR] 
2024-10-03 22:49:31.810 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 105.7673ms
2024-10-03 22:49:31.833 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:31.878 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:49:31.882 +03:00 [DBG] Connection id "0HN73SHT65H4Q" completed keep alive response.
2024-10-03 22:49:31.883 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 192.0424ms
2024-10-03 22:49:36.332 +03:00 [DBG] Connection id "0HN73SHT65H4R" accepted.
2024-10-03 22:49:36.339 +03:00 [DBG] Connection id "0HN73SHT65H4R" started.
2024-10-03 22:49:36.340 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:49:36.342 +03:00 [DBG] POST requests are not supported
2024-10-03 22:49:36.342 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:49:36.343 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:49:36.343 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:36.344 +03:00 [DBG] Connection id "0HN73SHT65H4R", Request id "0HN73SHT65H4R:00000001": started reading request body.
2024-10-03 22:49:36.345 +03:00 [DBG] Connection id "0HN73SHT65H4R", Request id "0HN73SHT65H4R:00000001": done reading request body.
2024-10-03 22:49:36.346 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"e7fc44400d5f9ce8c55d9d23b9d669e909721c8a","v":"5.199","object":{"message":{"date":1727984964,"from_id":651565729,"id":62,"version":10000081,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":58,"fwd_messages":[],"text":"3","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:49:36.347 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:36.347 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:49:36.350 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:49:36.352 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:49:36.353 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:49:36.355 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:49:36.356 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:49:36.358 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:36.359 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:36.360 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:36.361 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:49:36.362 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:49:36.362 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:49:36.363 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:36.364 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:36.364 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:36.365 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:36.366 +03:00 [ERR] 
2024-10-03 22:49:36.454 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 96.5366ms
2024-10-03 22:49:36.477 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:36.520 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:49:36.526 +03:00 [DBG] Connection id "0HN73SHT65H4R" completed keep alive response.
2024-10-03 22:49:36.527 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 186.8941ms
2024-10-03 22:49:37.338 +03:00 [DBG] Connection id "0HN73SHT65H4S" accepted.
2024-10-03 22:49:37.339 +03:00 [DBG] Connection id "0HN73SHT65H4S" started.
2024-10-03 22:49:37.340 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:49:37.341 +03:00 [DBG] POST requests are not supported
2024-10-03 22:49:37.342 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:49:37.343 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:49:37.343 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:37.344 +03:00 [DBG] Connection id "0HN73SHT65H4S", Request id "0HN73SHT65H4S:00000001": started reading request body.
2024-10-03 22:49:37.345 +03:00 [DBG] Connection id "0HN73SHT65H4S", Request id "0HN73SHT65H4S:00000001": done reading request body.
2024-10-03 22:49:37.346 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"4fd17809c5011b9a99747b16efcd4c7ff6636495","v":"5.199","object":{"message":{"date":1727984966,"from_id":651565729,"id":63,"version":10000082,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":59,"fwd_messages":[],"text":"3","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:49:37.346 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:37.347 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:49:37.348 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:49:37.349 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:49:37.350 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:49:37.351 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:49:37.353 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:49:37.354 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:37.356 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:37.358 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:37.359 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:49:37.360 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:49:37.362 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:49:37.363 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:37.365 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:37.366 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:37.367 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:37.369 +03:00 [ERR] 
2024-10-03 22:49:37.466 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 112.8973ms
2024-10-03 22:49:37.489 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:37.535 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:49:37.541 +03:00 [DBG] Connection id "0HN73SHT65H4S" completed keep alive response.
2024-10-03 22:49:37.542 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 201.8807ms
2024-10-03 22:49:38.325 +03:00 [DBG] Connection id "0HN73SHT65H4T" accepted.
2024-10-03 22:49:38.326 +03:00 [DBG] Connection id "0HN73SHT65H4T" started.
2024-10-03 22:49:38.327 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:49:38.328 +03:00 [DBG] POST requests are not supported
2024-10-03 22:49:38.328 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:49:38.328 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:49:38.329 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:38.332 +03:00 [DBG] Connection id "0HN73SHT65H4T", Request id "0HN73SHT65H4T:00000001": started reading request body.
2024-10-03 22:49:38.332 +03:00 [DBG] Connection id "0HN73SHT65H4T", Request id "0HN73SHT65H4T:00000001": done reading request body.
2024-10-03 22:49:38.333 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"617b832146173468703403bdf872335ad3e8389d","v":"5.199","object":{"message":{"date":1727984967,"from_id":651565729,"id":64,"version":10000083,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":60,"fwd_messages":[],"text":"3","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:49:38.333 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:38.334 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:49:38.334 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:49:38.334 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:49:38.335 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:49:38.335 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:49:38.336 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:49:38.336 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:38.336 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:38.337 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:38.338 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:49:38.339 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:49:38.339 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:49:38.340 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:38.340 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:38.340 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:38.341 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:38.341 +03:00 [ERR] 
2024-10-03 22:49:38.431 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 95.3031ms
2024-10-03 22:49:38.453 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:38.496 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:49:38.500 +03:00 [DBG] Connection id "0HN73SHT65H4T" completed keep alive response.
2024-10-03 22:49:38.501 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 174.1079ms
2024-10-03 22:49:40.338 +03:00 [DBG] Connection id "0HN73SHT65H4U" accepted.
2024-10-03 22:49:40.339 +03:00 [DBG] Connection id "0HN73SHT65H4U" started.
2024-10-03 22:49:40.340 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:49:40.341 +03:00 [DBG] POST requests are not supported
2024-10-03 22:49:40.341 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:49:40.342 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:49:40.343 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:40.344 +03:00 [DBG] Connection id "0HN73SHT65H4U", Request id "0HN73SHT65H4U:00000001": started reading request body.
2024-10-03 22:49:40.345 +03:00 [DBG] Connection id "0HN73SHT65H4U", Request id "0HN73SHT65H4U:00000001": done reading request body.
2024-10-03 22:49:40.346 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"fdcb3c775719724d826f19bb0e610f2994d325f7","v":"5.199","object":{"message":{"date":1727984968,"from_id":651565729,"id":65,"version":10000084,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":61,"fwd_messages":[],"text":"3","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:49:40.347 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:40.348 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:49:40.348 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:49:40.349 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:49:40.350 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:49:40.352 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:49:40.353 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:49:40.353 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:40.354 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:40.355 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:40.355 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:49:40.356 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:49:40.357 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:49:40.358 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:40.358 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:40.359 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:40.359 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:40.361 +03:00 [ERR] 
2024-10-03 22:49:40.453 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 99.9856ms
2024-10-03 22:49:40.476 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:40.520 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:49:40.526 +03:00 [DBG] Connection id "0HN73SHT65H4U" completed keep alive response.
2024-10-03 22:49:40.527 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 187.0516ms
2024-10-03 22:49:41.309 +03:00 [DBG] Connection id "0HN73SHT65H4V" accepted.
2024-10-03 22:49:41.310 +03:00 [DBG] Connection id "0HN73SHT65H4V" started.
2024-10-03 22:49:41.311 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:49:41.312 +03:00 [DBG] POST requests are not supported
2024-10-03 22:49:41.313 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:49:41.313 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:49:41.314 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:41.315 +03:00 [DBG] Connection id "0HN73SHT65H4V", Request id "0HN73SHT65H4V:00000001": started reading request body.
2024-10-03 22:49:41.315 +03:00 [DBG] Connection id "0HN73SHT65H4V", Request id "0HN73SHT65H4V:00000001": done reading request body.
2024-10-03 22:49:41.316 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"bdde8d4f7a8f5e644651cd2a2aa4967f5294dfab","v":"5.199","object":{"message":{"date":1727984970,"from_id":651565729,"id":66,"version":10000085,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":62,"fwd_messages":[],"text":"3","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:49:41.318 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:41.319 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:49:41.320 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:49:41.320 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:49:41.321 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:49:41.322 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:49:41.323 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:49:41.324 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:41.325 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:41.325 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:41.326 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:49:41.327 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:49:41.327 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:49:41.328 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:41.329 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:41.329 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:41.330 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:41.330 +03:00 [ERR] 
2024-10-03 22:49:41.425 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 100.5054ms
2024-10-03 22:49:41.452 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:41.509 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:49:41.516 +03:00 [DBG] Connection id "0HN73SHT65H4V" completed keep alive response.
2024-10-03 22:49:41.518 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 206.7063ms
2024-10-03 22:49:42.334 +03:00 [DBG] Connection id "0HN73SHT65H50" accepted.
2024-10-03 22:49:42.334 +03:00 [DBG] Connection id "0HN73SHT65H50" started.
2024-10-03 22:49:42.337 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:49:42.338 +03:00 [DBG] POST requests are not supported
2024-10-03 22:49:42.339 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:49:42.339 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:49:42.340 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:42.341 +03:00 [DBG] Connection id "0HN73SHT65H50", Request id "0HN73SHT65H50:00000001": started reading request body.
2024-10-03 22:49:42.341 +03:00 [DBG] Connection id "0HN73SHT65H50", Request id "0HN73SHT65H50:00000001": done reading request body.
2024-10-03 22:49:42.342 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"ca122d196ebc6469416dab36c877dd5b8ad9d16d","v":"5.199","object":{"message":{"date":1727984971,"from_id":651565729,"id":67,"version":10000086,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":63,"fwd_messages":[],"text":"3","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:49:42.343 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:42.343 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:49:42.345 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:49:42.345 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:49:42.346 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:49:42.347 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:49:42.348 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:49:42.348 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:42.349 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:49:42.349 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:42.350 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:49:42.351 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:49:42.352 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:49:42.353 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:42.353 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:42.354 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:49:42.354 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:49:42.355 +03:00 [ERR] 
2024-10-03 22:49:42.444 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 95.3177ms
2024-10-03 22:49:42.469 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:49:42.521 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:49:42.528 +03:00 [DBG] Connection id "0HN73SHT65H50" completed keep alive response.
2024-10-03 22:49:42.529 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 191.9759ms
2024-10-03 22:49:55.928 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 22:49:56.015 +03:00 [DBG] Hosting starting
2024-10-03 22:49:56.074 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 22:49:56.145 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 22:49:56.146 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 22:49:56.147 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 22:49:56.148 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 22:49:56.149 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 22:49:56.150 +03:00 [INF] Hosting environment: Development
2024-10-03 22:49:56.150 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 22:49:56.151 +03:00 [DBG] Hosting started
2024-10-03 22:49:56.332 +03:00 [DBG] Connection id "0HN73SI78N12J" accepted.
2024-10-03 22:49:56.332 +03:00 [DBG] Connection id "0HN73SI78N12I" accepted.
2024-10-03 22:49:56.333 +03:00 [DBG] Connection id "0HN73SI78N12J" started.
2024-10-03 22:49:56.334 +03:00 [DBG] Connection id "0HN73SI78N12I" started.
2024-10-03 22:49:56.339 +03:00 [DBG] Connection id "0HN73SI78N12J" received FIN.
2024-10-03 22:49:56.339 +03:00 [DBG] Connection id "0HN73SI78N12I" received FIN.
2024-10-03 22:49:56.346 +03:00 [DBG] Connection id "0HN73SI78N12J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:49:56.346 +03:00 [DBG] Connection id "0HN73SI78N12I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:49:56.349 +03:00 [DBG] Connection id "0HN73SI78N12J" disconnecting.
2024-10-03 22:49:56.349 +03:00 [DBG] Connection id "0HN73SI78N12I" disconnecting.
2024-10-03 22:49:56.352 +03:00 [DBG] Connection id "0HN73SI78N12J" stopped.
2024-10-03 22:49:56.352 +03:00 [DBG] Connection id "0HN73SI78N12I" stopped.
2024-10-03 22:49:56.570 +03:00 [DBG] Connection id "0HN73SI78N12K" accepted.
2024-10-03 22:49:56.573 +03:00 [DBG] Connection id "0HN73SI78N12K" started.
2024-10-03 22:49:56.573 +03:00 [DBG] Connection id "0HN73SI78N12L" accepted.
2024-10-03 22:49:56.575 +03:00 [DBG] Connection id "0HN73SI78N12L" started.
2024-10-03 22:49:56.603 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 22:49:56.734 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 22:49:56.741 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 22:49:56.754 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 22:49:56.756 +03:00 [DBG] Request did not match any endpoints
2024-10-03 22:49:56.773 +03:00 [DBG] Connection id "0HN73SI78N12K" completed keep alive response.
2024-10-03 22:49:56.776 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 176.8259ms
2024-10-03 22:49:56.780 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 22:50:00.412 +03:00 [DBG] Connection id "0HN73SI78N12M" accepted.
2024-10-03 22:50:00.414 +03:00 [DBG] Connection id "0HN73SI78N12M" started.
2024-10-03 22:50:00.415 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:50:00.417 +03:00 [DBG] POST requests are not supported
2024-10-03 22:50:00.419 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:50:00.421 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:50:00.422 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:50:00.425 +03:00 [DBG] Connection id "0HN73SI78N12M", Request id "0HN73SI78N12M:00000001": started reading request body.
2024-10-03 22:50:00.426 +03:00 [DBG] Connection id "0HN73SI78N12M", Request id "0HN73SI78N12M:00000001": done reading request body.
2024-10-03 22:50:00.508 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"4190b746ebacb9a9d19fc6033b5fc0c13c7d2a74","v":"5.199","object":{"message":{"date":1727985000,"from_id":651565729,"id":68,"version":10000087,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":64,"fwd_messages":[],"text":"2","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:50:00.511 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:50:00.537 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:50:00.539 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:50:00.541 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:50:00.542 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:50:00.544 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:50:00.545 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:50:00.548 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:50:00.566 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:50:00.570 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:50:00.572 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:50:00.573 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:50:00.575 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:50:00.601 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:50:00.603 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:50:00.604 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:50:00.648 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:50:00.651 +03:00 [ERR] 
2024-10-03 22:50:02.992 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 2442.7718ms
2024-10-03 22:50:03.020 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:50:03.066 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:50:03.107 +03:00 [DBG] Connection id "0HN73SI78N12M" completed keep alive response.
2024-10-03 22:50:03.108 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 2693.1419ms
2024-10-03 22:50:13.322 +03:00 [DBG] Connection id "0HN73SI78N12N" accepted.
2024-10-03 22:50:13.324 +03:00 [DBG] Connection id "0HN73SI78N12N" started.
2024-10-03 22:50:13.325 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:50:13.327 +03:00 [DBG] POST requests are not supported
2024-10-03 22:50:13.328 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:50:13.329 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:50:13.330 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:50:13.331 +03:00 [DBG] Connection id "0HN73SI78N12N", Request id "0HN73SI78N12N:00000001": started reading request body.
2024-10-03 22:50:13.332 +03:00 [DBG] Connection id "0HN73SI78N12N", Request id "0HN73SI78N12N:00000001": done reading request body.
2024-10-03 22:50:13.334 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"4190b746ebacb9a9d19fc6033b5fc0c13c7d2a74","v":"5.199","object":{"message":{"date":1727985000,"from_id":651565729,"id":68,"version":10000087,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":64,"fwd_messages":[],"text":"2","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:50:13.335 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:50:13.336 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:50:13.337 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:50:13.338 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:50:13.339 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:50:13.341 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:50:13.342 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:50:13.343 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:50:13.344 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:50:13.345 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:50:13.346 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:50:13.347 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:50:13.348 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:50:13.349 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:50:13.350 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:50:13.351 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:50:13.353 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:50:13.354 +03:00 [ERR] 
2024-10-03 22:50:14.167 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 824.0135ms
2024-10-03 22:50:14.189 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:50:14.233 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:50:14.238 +03:00 [DBG] Connection id "0HN73SI78N12N" completed keep alive response.
2024-10-03 22:50:14.239 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 914.4542ms
2024-10-03 22:50:16.373 +03:00 [DBG] Connection id "0HN73SI78N12O" accepted.
2024-10-03 22:50:16.374 +03:00 [DBG] Connection id "0HN73SI78N12O" started.
2024-10-03 22:50:16.376 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:50:16.379 +03:00 [DBG] POST requests are not supported
2024-10-03 22:50:16.379 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:50:16.380 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:50:16.381 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:50:16.382 +03:00 [DBG] Connection id "0HN73SI78N12O", Request id "0HN73SI78N12O:00000001": started reading request body.
2024-10-03 22:50:16.383 +03:00 [DBG] Connection id "0HN73SI78N12O", Request id "0HN73SI78N12O:00000001": done reading request body.
2024-10-03 22:50:16.384 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"990fcb53453aaf4eaa684e1a7f265cc9147f8344","v":"5.199","object":{"message":{"date":1727982426,"from_id":651565729,"id":33,"version":10000052,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":29,"fwd_messages":[],"text":"2","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:50:16.385 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:50:16.386 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:50:16.388 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:50:16.389 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:50:16.390 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:50:16.391 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:50:16.392 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:50:16.393 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:50:16.394 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:50:16.395 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:50:16.396 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:50:16.397 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:50:16.398 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:50:16.399 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:50:16.400 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:50:16.401 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:50:16.402 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:50:16.403 +03:00 [ERR] 
2024-10-03 22:50:17.126 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 732.4099ms
2024-10-03 22:50:17.147 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:50:17.193 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:50:17.197 +03:00 [DBG] Connection id "0HN73SI78N12O" completed keep alive response.
2024-10-03 22:50:17.198 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 822.1454ms
2024-10-03 22:50:17.315 +03:00 [DBG] Connection id "0HN73SI78N12P" accepted.
2024-10-03 22:50:17.316 +03:00 [DBG] Connection id "0HN73SI78N12P" started.
2024-10-03 22:50:17.316 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:50:17.318 +03:00 [DBG] POST requests are not supported
2024-10-03 22:50:17.318 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:50:17.320 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:50:17.320 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:50:17.320 +03:00 [DBG] Connection id "0HN73SI78N12P", Request id "0HN73SI78N12P:00000001": started reading request body.
2024-10-03 22:50:17.321 +03:00 [DBG] Connection id "0HN73SI78N12P", Request id "0HN73SI78N12P:00000001": done reading request body.
2024-10-03 22:50:17.321 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"508bdd97bd9938e6eed7c877e808b40f00bf613f","v":"5.199","object":{"message":{"date":1727982418,"from_id":651565729,"id":32,"version":10000051,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":28,"fwd_messages":[],"text":"1","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:50:17.322 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:50:17.323 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:50:17.323 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:50:17.324 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:50:17.325 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:50:17.326 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:50:17.327 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:50:17.327 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:50:17.328 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:50:17.329 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:50:17.329 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:50:17.330 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:50:17.331 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:50:17.331 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:50:17.332 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:50:17.332 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:50:17.333 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:50:17.333 +03:00 [ERR] 
2024-10-03 22:50:18.050 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 722.4016ms
2024-10-03 22:50:18.072 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:50:18.117 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:50:18.124 +03:00 [DBG] Connection id "0HN73SI78N12P" completed keep alive response.
2024-10-03 22:50:18.125 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 808.705ms
2024-10-03 22:51:11.919 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 22:51:11.990 +03:00 [DBG] Hosting starting
2024-10-03 22:51:12.055 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 22:51:12.129 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 22:51:12.130 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 22:51:12.132 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 22:51:12.133 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 22:51:12.134 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 22:51:12.135 +03:00 [INF] Hosting environment: Development
2024-10-03 22:51:12.136 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 22:51:12.137 +03:00 [DBG] Hosting started
2024-10-03 22:51:12.183 +03:00 [DBG] Connection id "0HN73SITS2OHT" accepted.
2024-10-03 22:51:12.183 +03:00 [DBG] Connection id "0HN73SITS2OHS" accepted.
2024-10-03 22:51:12.187 +03:00 [DBG] Connection id "0HN73SITS2OHT" received FIN.
2024-10-03 22:51:12.187 +03:00 [DBG] Connection id "0HN73SITS2OHS" received FIN.
2024-10-03 22:51:12.187 +03:00 [DBG] Connection id "0HN73SITS2OHT" started.
2024-10-03 22:51:12.188 +03:00 [DBG] Connection id "0HN73SITS2OHS" started.
2024-10-03 22:51:12.202 +03:00 [DBG] Connection id "0HN73SITS2OHS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:51:12.202 +03:00 [DBG] Connection id "0HN73SITS2OHT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:51:12.204 +03:00 [DBG] Connection id "0HN73SITS2OHS" disconnecting.
2024-10-03 22:51:12.205 +03:00 [DBG] Connection id "0HN73SITS2OHT" disconnecting.
2024-10-03 22:51:12.207 +03:00 [DBG] Connection id "0HN73SITS2OHS" stopped.
2024-10-03 22:51:12.207 +03:00 [DBG] Connection id "0HN73SITS2OHT" stopped.
2024-10-03 22:51:12.528 +03:00 [DBG] Connection id "0HN73SITS2OHU" accepted.
2024-10-03 22:51:12.530 +03:00 [DBG] Connection id "0HN73SITS2OHU" started.
2024-10-03 22:51:12.537 +03:00 [DBG] Connection id "0HN73SITS2OHV" accepted.
2024-10-03 22:51:12.538 +03:00 [DBG] Connection id "0HN73SITS2OHV" started.
2024-10-03 22:51:12.560 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 22:51:12.675 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 22:51:12.681 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 22:51:12.690 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 22:51:12.693 +03:00 [DBG] Request did not match any endpoints
2024-10-03 22:51:12.708 +03:00 [DBG] Connection id "0HN73SITS2OHU" completed keep alive response.
2024-10-03 22:51:12.709 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 153.0437ms
2024-10-03 22:51:12.714 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 22:51:15.083 +03:00 [DBG] Connection id "0HN73SITS2OI0" accepted.
2024-10-03 22:51:15.085 +03:00 [DBG] Connection id "0HN73SITS2OI0" started.
2024-10-03 22:51:15.086 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:51:15.087 +03:00 [DBG] POST requests are not supported
2024-10-03 22:51:15.090 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:51:15.092 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:51:15.093 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:51:15.096 +03:00 [DBG] Connection id "0HN73SITS2OI0", Request id "0HN73SITS2OI0:00000001": started reading request body.
2024-10-03 22:51:15.097 +03:00 [DBG] Connection id "0HN73SITS2OI0", Request id "0HN73SITS2OI0:00000001": done reading request body.
2024-10-03 22:51:15.177 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"f372f98a8a3023904a23bc698b01f166d23fb3dc","v":"5.199","object":{"message":{"date":1727985074,"from_id":651565729,"id":69,"version":10000088,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":65,"fwd_messages":[],"text":"2","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:51:15.180 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:51:15.209 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:51:15.212 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:51:15.214 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:51:15.215 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:51:15.216 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:51:15.217 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:51:15.219 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:51:15.234 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:51:15.238 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:51:15.240 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:51:15.242 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:51:15.245 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:51:15.266 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:51:15.269 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:51:15.271 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:51:15.310 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:51:15.314 +03:00 [ERR] 
2024-10-03 22:51:49.718 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 22:51:49.801 +03:00 [DBG] Hosting starting
2024-10-03 22:51:49.862 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 22:51:49.930 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 22:51:49.936 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 22:51:49.937 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 22:51:49.938 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 22:51:49.938 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 22:51:49.939 +03:00 [INF] Hosting environment: Development
2024-10-03 22:51:49.940 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 22:51:49.940 +03:00 [DBG] Hosting started
2024-10-03 22:51:50.076 +03:00 [DBG] Connection id "0HN73SJ95F082" received FIN.
2024-10-03 22:51:50.076 +03:00 [DBG] Connection id "0HN73SJ95F083" received FIN.
2024-10-03 22:51:50.083 +03:00 [DBG] Connection id "0HN73SJ95F082" accepted.
2024-10-03 22:51:50.083 +03:00 [DBG] Connection id "0HN73SJ95F083" accepted.
2024-10-03 22:51:50.085 +03:00 [DBG] Connection id "0HN73SJ95F082" started.
2024-10-03 22:51:50.085 +03:00 [DBG] Connection id "0HN73SJ95F083" started.
2024-10-03 22:51:50.094 +03:00 [DBG] Connection id "0HN73SJ95F082" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:51:50.094 +03:00 [DBG] Connection id "0HN73SJ95F083" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:51:50.097 +03:00 [DBG] Connection id "0HN73SJ95F082" disconnecting.
2024-10-03 22:51:50.098 +03:00 [DBG] Connection id "0HN73SJ95F083" disconnecting.
2024-10-03 22:51:50.100 +03:00 [DBG] Connection id "0HN73SJ95F082" stopped.
2024-10-03 22:51:50.100 +03:00 [DBG] Connection id "0HN73SJ95F083" stopped.
2024-10-03 22:51:50.778 +03:00 [DBG] Connection id "0HN73SJ95F084" accepted.
2024-10-03 22:51:50.779 +03:00 [DBG] Connection id "0HN73SJ95F084" started.
2024-10-03 22:51:50.782 +03:00 [DBG] Connection id "0HN73SJ95F085" accepted.
2024-10-03 22:51:50.784 +03:00 [DBG] Connection id "0HN73SJ95F085" started.
2024-10-03 22:51:50.811 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 22:51:50.924 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 22:51:50.930 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 22:51:50.940 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 22:51:50.942 +03:00 [DBG] Request did not match any endpoints
2024-10-03 22:51:50.958 +03:00 [DBG] Connection id "0HN73SJ95F084" completed keep alive response.
2024-10-03 22:51:50.961 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 152.1938ms
2024-10-03 22:51:50.965 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 22:51:53.937 +03:00 [DBG] Connection id "0HN73SJ95F086" accepted.
2024-10-03 22:51:53.938 +03:00 [DBG] Connection id "0HN73SJ95F086" started.
2024-10-03 22:51:53.940 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:51:53.943 +03:00 [DBG] POST requests are not supported
2024-10-03 22:51:53.946 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:51:53.948 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:51:53.949 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:51:53.952 +03:00 [DBG] Connection id "0HN73SJ95F086", Request id "0HN73SJ95F086:00000001": started reading request body.
2024-10-03 22:51:53.953 +03:00 [DBG] Connection id "0HN73SJ95F086", Request id "0HN73SJ95F086:00000001": done reading request body.
2024-10-03 22:51:54.034 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"089fb735da4b30c9b3dbc5c309b91971327d735c","v":"5.199","object":{"message":{"date":1727985113,"from_id":651565729,"id":70,"version":10000089,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":66,"fwd_messages":[],"text":"2","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:51:54.040 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:51:54.065 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:51:54.070 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:51:54.071 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:51:54.072 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:51:54.074 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:51:54.076 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:51:54.078 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:51:54.094 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:51:54.098 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:51:54.102 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:51:54.103 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:51:54.105 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:51:54.125 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:51:54.127 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:51:54.128 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:51:54.163 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:52:20.900 +03:00 [ERR] 
2024-10-03 22:52:20.903 +03:00 [DBG] Connection id "0HN73SJ95F087" received FIN.
2024-10-03 22:52:20.904 +03:00 [DBG] Connection id "0HN73SJ95F086" received FIN.
2024-10-03 22:52:38.015 +03:00 [ERR] 
2024-10-03 22:52:38.018 +03:00 [DBG] Connection id "0HN73SJ95F087" accepted.
2024-10-03 22:52:38.018 +03:00 [DBG] Connection id "0HN73SJ95F086" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:52:55.459 +03:00 [DBG] Connection id "0HN73SJ95F087" started.
2024-10-03 22:52:55.465 +03:00 [DBG] Connection id "0HN73SJ95F088" received FIN.
2024-10-03 22:52:55.465 +03:00 [DBG] Connection id "0HN73SJ95F086" disconnecting.
2024-10-03 22:52:55.466 +03:00 [DBG] Connection id "0HN73SJ95F087" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:52:55.467 +03:00 [DBG] Connection id "0HN73SJ95F088" accepted.
2024-10-03 22:52:55.469 +03:00 [DBG] Connection id "0HN73SJ95F087" disconnecting.
2024-10-03 22:52:55.469 +03:00 [DBG] Connection id "0HN73SJ95F088" started.
2024-10-03 22:52:55.470 +03:00 [DBG] Connection id "0HN73SJ95F089" received FIN.
2024-10-03 22:52:55.470 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:52:55.471 +03:00 [DBG] Connection id "0HN73SJ95F088" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:52:55.472 +03:00 [DBG] Connection id "0HN73SJ95F089" accepted.
2024-10-03 22:52:55.475 +03:00 [DBG] POST requests are not supported
2024-10-03 22:52:55.476 +03:00 [DBG] Connection id "0HN73SJ95F088" disconnecting.
2024-10-03 22:52:55.477 +03:00 [DBG] Connection id "0HN73SJ95F089" started.
2024-10-03 22:52:55.477 +03:00 [DBG] Connection id "0HN73SJ95F08A" received FIN.
2024-10-03 22:52:55.479 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:52:55.482 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:52:55.483 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:52:55.485 +03:00 [DBG] Connection id "0HN73SJ95F08A" accepted.
2024-10-03 22:52:55.485 +03:00 [DBG] Connection id "0HN73SJ95F089" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:52:55.488 +03:00 [DBG] POST requests are not supported
2024-10-03 22:52:55.490 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:52:55.491 +03:00 [DBG] Connection id "0HN73SJ95F08A" started.
2024-10-03 22:52:55.491 +03:00 [DBG] Connection id "0HN73SJ95F08B" received FIN.
2024-10-03 22:52:55.495 +03:00 [DBG] Connection id "0HN73SJ95F089" disconnecting.
2024-10-03 22:52:55.496 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:53:23.059 +03:00 [DBG] Connection id "0HN73SJ95F087", Request id "0HN73SJ95F087:00000001": started reading request body.
2024-10-03 22:53:23.063 +03:00 [DBG] Connection id "0HN73SJ95F08A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:53:23.067 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:53:23.099 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:53:23.102 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:53:23.864 +03:00 [DBG] Connection id "0HN73SJ95F088", Request id "0HN73SJ95F088:00000001": started reading request body.
2024-10-03 22:53:23.898 +03:00 [DBG] POST requests are not supported
2024-10-03 22:53:23.940 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:53:23.961 +03:00 [DBG] Connection id "0HN73SJ95F08A" disconnecting.
2024-10-03 22:53:23.980 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:53:23.980 +03:00 [DBG] The request was aborted by the client.
2024-10-03 22:53:23.996 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:53:24.017 +03:00 [DBG] Connection id "0HN73SJ95F08B" accepted.
2024-10-03 22:53:24.036 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 28561.4587ms
2024-10-03 22:53:24.046 +03:00 [DBG] The request was aborted by the client.
2024-10-03 22:53:24.046 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:53:24.049 +03:00 [DBG] Connection id "0HN73SJ95F087", Request id "0HN73SJ95F087:00000001": done reading request body.
2024-10-03 22:53:24.051 +03:00 [DBG] POST requests are not supported
2024-10-03 22:53:24.052 +03:00 [DBG] Connection id "0HN73SJ95F08B" started.
2024-10-03 22:53:24.053 +03:00 [DBG] Connection id "0HN73SJ95F08C" received FIN.
2024-10-03 22:53:24.054 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 28571.72ms
2024-10-03 22:53:24.077 +03:00 [DBG] Connection id "0HN73SJ95F087" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 22:53:24.078 +03:00 [DBG] Connection id "0HN73SJ95F088", Request id "0HN73SJ95F088:00000001": done reading request body.
2024-10-03 22:53:24.374 +03:00 [DBG] Connection id "0HN73SJ95F089", Request id "0HN73SJ95F089:00000001": started reading request body.
2024-10-03 22:53:24.376 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:53:24.384 +03:00 [DBG] Connection id "0HN73SJ95F08C" accepted.
2024-10-03 22:53:24.385 +03:00 [DBG] Connection id "0HN73SJ95F08B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:53:24.438 +03:00 [DBG] Connection id "0HN73SJ95F087" stopped.
2024-10-03 22:53:24.464 +03:00 [DBG] Connection id "0HN73SJ95F088" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 22:53:24.494 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:53:24.540 +03:00 [DBG] Connection id "0HN73SJ95F088" stopped.
2024-10-03 22:53:24.558 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:53:24.562 +03:00 [DBG] The request was aborted by the client.
2024-10-03 22:53:24.736 +03:00 [DBG] Connection id "0HN73SJ95F08A", Request id "0HN73SJ95F08A:00000001": started reading request body.
2024-10-03 22:53:24.737 +03:00 [DBG] Connection id "0HN73SJ95F08C" started.
2024-10-03 22:53:24.737 +03:00 [DBG] Connection id "0HN73SJ95F08D" received FIN.
2024-10-03 22:53:24.739 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 1636.3578ms
2024-10-03 22:53:24.759 +03:00 [DBG] Connection id "0HN73SJ95F08B" disconnecting.
2024-10-03 22:53:24.812 +03:00 [DBG] Connection id "0HN73SJ95F089", Request id "0HN73SJ95F089:00000001": done reading request body.
2024-10-03 22:53:24.829 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:53:24.854 +03:00 [DBG] Connection id "0HN73SJ95F08D" accepted.
2024-10-03 22:53:24.853 +03:00 [DBG] The request was aborted by the client.
2024-10-03 22:53:24.871 +03:00 [DBG] Connection id "0HN73SJ95F089" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 22:53:24.872 +03:00 [DBG] POST requests are not supported
2024-10-03 22:53:24.872 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 876.3996ms
2024-10-03 22:53:24.873 +03:00 [DBG] Connection id "0HN73SJ95F08D" started.
2024-10-03 22:53:24.873 +03:00 [DBG] Connection id "0HN73SJ95F08E" received FIN.
2024-10-03 22:53:24.874 +03:00 [DBG] Connection id "0HN73SJ95F08C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:53:24.876 +03:00 [DBG] Connection id "0HN73SJ95F089" stopped.
2024-10-03 22:53:24.879 +03:00 [DBG] Connection id "0HN73SJ95F08A", Request id "0HN73SJ95F08A:00000001": done reading request body.
2024-10-03 22:53:24.880 +03:00 [DBG] Connection id "0HN73SJ95F08D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:53:24.881 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:53:24.882 +03:00 [DBG] Connection id "0HN73SJ95F08E" accepted.
2024-10-03 22:53:24.883 +03:00 [DBG] Connection id "0HN73SJ95F08C" disconnecting.
2024-10-03 22:53:24.901 +03:00 [DBG] Connection id "0HN73SJ95F08D" disconnecting.
2024-10-03 22:53:24.905 +03:00 [DBG] Connection id "0HN73SJ95F08A" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 22:53:24.906 +03:00 [DBG] Connection id "0HN73SJ95F08E" started.
2024-10-03 22:53:24.906 +03:00 [DBG] Connection id "0HN73SJ95F08F" received FIN.
2024-10-03 22:53:24.907 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:53:24.909 +03:00 [DBG] Connection id "0HN73SJ95F08A" stopped.
2024-10-03 22:53:24.911 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:53:24.913 +03:00 [DBG] Connection id "0HN73SJ95F08E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:53:24.914 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:53:24.915 +03:00 [DBG] Connection id "0HN73SJ95F08F" accepted.
2024-10-03 22:53:24.917 +03:00 [DBG] POST requests are not supported
2024-10-03 22:53:24.920 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:53:24.921 +03:00 [DBG] Connection id "0HN73SJ95F08E" disconnecting.
2024-10-03 22:53:24.924 +03:00 [DBG] POST requests are not supported
2024-10-03 22:53:24.925 +03:00 [DBG] Connection id "0HN73SJ95F08F" started.
2024-10-03 22:53:24.925 +03:00 [DBG] Connection id "0HN73SJ95F08G" received FIN.
2024-10-03 22:53:24.926 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:53:24.927 +03:00 [DBG] Connection id "0HN73SJ95F08F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:53:25.099 +03:00 [DBG] Connection id "0HN73SJ95F08B", Request id "0HN73SJ95F08B:00000001": started reading request body.
2024-10-03 22:53:25.100 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:53:25.102 +03:00 [DBG] Connection id "0HN73SJ95F08F" disconnecting.
2024-10-03 22:53:25.105 +03:00 [DBG] Connection id "0HN73SJ95F08G" accepted.
2024-10-03 22:53:25.106 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:53:25.107 +03:00 [DBG] Connection id "0HN73SJ95F08G" started.
2024-10-03 22:53:25.107 +03:00 [DBG] Connection id "0HN73SJ95F08H" received FIN.
2024-10-03 22:53:25.108 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:53:25.110 +03:00 [DBG] POST requests are not supported
2024-10-03 22:53:25.111 +03:00 [DBG] Connection id "0HN73SJ95F08G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:53:25.112 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:53:25.114 +03:00 [DBG] Connection id "0HN73SJ95F08H" accepted.
2024-10-03 22:53:25.119 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:53:25.143 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:53:25.162 +03:00 [DBG] Connection id "0HN73SJ95F08H" started.
2024-10-03 22:53:25.168 +03:00 [DBG] Connection id "0HN73SJ95F08I" received FIN.
2024-10-03 22:53:25.192 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:53:25.208 +03:00 [DBG] Connection id "0HN73SJ95F08I" accepted.
2024-10-03 22:53:25.767 +03:00 [DBG] Connection id "0HN73SJ95F08F", Request id "0HN73SJ95F08F:00000001": started reading request body.
2024-10-03 22:53:25.775 +03:00 [DBG] The request was aborted by the client.
2024-10-03 22:53:25.776 +03:00 [DBG] Connection id "0HN73SJ95F08I" started.
2024-10-03 22:53:25.778 +03:00 [DBG] Connection id "0HN73SJ95F08J" received FIN.
2024-10-03 22:53:25.804 +03:00 [DBG] Connection id "0HN73SJ95F08J" accepted.
2024-10-03 22:53:25.811 +03:00 [DBG] Connection id "0HN73SJ95F08G" disconnecting.
2024-10-03 22:53:25.823 +03:00 [DBG] Connection id "0HN73SJ95F08J" started.
2024-10-03 22:53:25.828 +03:00 [DBG] Connection id "0HN73SJ95F08K" received FIN.
2024-10-03 22:53:25.840 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:53:25.863 +03:00 [DBG] Connection id "0HN73SJ95F08K" accepted.
2024-10-03 22:53:25.886 +03:00 [DBG] POST requests are not supported
2024-10-03 22:53:25.895 +03:00 [DBG] The request was aborted by the client.
2024-10-03 22:53:25.896 +03:00 [DBG] Connection id "0HN73SJ95F08K" started.
2024-10-03 22:53:25.897 +03:00 [DBG] Connection id "0HN73SJ95F08L" received FIN.
2024-10-03 22:53:25.898 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:53:25.902 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 795.5383ms
2024-10-03 22:53:25.903 +03:00 [DBG] Connection id "0HN73SJ95F08L" accepted.
2024-10-03 22:53:25.904 +03:00 [DBG] Connection id "0HN73SJ95F08K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:53:25.907 +03:00 [DBG] Connection id "0HN73SJ95F08F", Request id "0HN73SJ95F08F:00000001": done reading request body.
2024-10-03 22:53:25.908 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:53:25.909 +03:00 [DBG] Connection id "0HN73SJ95F08I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:53:26.251 +03:00 [DBG] Connection id "0HN73SJ95F085" received FIN.
2024-10-03 22:53:26.251 +03:00 [DBG] Connection id "0HN73SJ95F08D", Request id "0HN73SJ95F08D:00000001": started reading request body.
2024-10-03 22:53:26.252 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 1423.4555ms
2024-10-03 22:53:26.257 +03:00 [DBG] Connection id "0HN73SJ95F08L" started.
2024-10-03 22:53:26.261 +03:00 [DBG] Connection id "0HN73SJ95F08M" received FIN.
2024-10-03 22:53:26.281 +03:00 [DBG] Connection id "0HN73SJ95F08M" accepted.
2024-10-03 22:53:26.285 +03:00 [DBG] Connection id "0HN73SJ95F08F" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 22:53:26.286 +03:00 [DBG] Connection id "0HN73SJ95F08K" disconnecting.
2024-10-03 22:53:26.287 +03:00 [DBG] Connection id "0HN73SJ95F08M" started.
2024-10-03 22:53:26.287 +03:00 [DBG] Connection id "0HN73SJ95F08N" received FIN.
2024-10-03 22:53:26.293 +03:00 [DBG] Connection id "0HN73SJ95F08F" stopped.
2024-10-03 22:53:26.294 +03:00 [DBG] Connection id "0HN73SJ95F08M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:53:26.296 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:53:26.297 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:53:26.298 +03:00 [DBG] Connection id "0HN73SJ95F08I" disconnecting.
2024-10-03 22:53:26.333 +03:00 [DBG] Connection id "0HN73SJ95F08B", Request id "0HN73SJ95F08B:00000001": done reading request body.
2024-10-03 22:53:26.359 +03:00 [DBG] Connection id "0HN73SJ95F08M" disconnecting.
2024-10-03 22:53:26.395 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:53:26.414 +03:00 [DBG] The request was aborted by the client.
2024-10-03 22:53:26.414 +03:00 [DBG] POST requests are not supported
2024-10-03 22:53:26.416 +03:00 [DBG] POST requests are not supported
2024-10-03 22:53:26.589 +03:00 [DBG] Connection id "0HN73SJ95F08G", Request id "0HN73SJ95F08G:00000001": started reading request body.
2024-10-03 22:53:26.590 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:53:26.591 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:53:26.592 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:53:26.593 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 1686.1161ms
2024-10-03 22:53:26.612 +03:00 [DBG] Connection id "0HN73SJ95F08B" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 22:53:26.612 +03:00 [DBG] POST requests are not supported
2024-10-03 22:53:26.613 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:53:26.614 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:53:26.657 +03:00 [DBG] POST requests are not supported
2024-10-03 22:53:26.679 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:53:26.704 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:53:26.769 +03:00 [DBG] Connection id "0HN73SJ95F08M", Request id "0HN73SJ95F08M:00000001": started reading request body.
2024-10-03 22:53:26.927 +03:00 [DBG] Connection id "0HN73SJ95F08K", Request id "0HN73SJ95F08K:00000001": started reading request body.
2024-10-03 22:53:26.927 +03:00 [DBG] The request was aborted by the client.
2024-10-03 22:53:26.943 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:53:26.983 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 1142.9138ms
2024-10-03 22:53:26.996 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:53:27.060 +03:00 [DBG] Connection id "0HN73SJ95F08G", Request id "0HN73SJ95F08G:00000001": done reading request body.
2024-10-03 22:53:27.093 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:53:27.128 +03:00 [DBG] The request was aborted by the client.
2024-10-03 22:53:27.150 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 756.517ms
2024-10-03 22:53:27.167 +03:00 [DBG] Connection id "0HN73SJ95F08G" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 22:53:27.278 +03:00 [DBG] The request was aborted by the client.
2024-10-03 22:53:27.278 +03:00 [DBG] Connection id "0HN73SJ95F08I", Request id "0HN73SJ95F08I:00000001": started reading request body.
2024-10-03 22:53:27.281 +03:00 [DBG] Connection id "0HN73SJ95F08D", Request id "0HN73SJ95F08D:00000001": done reading request body.
2024-10-03 22:53:27.283 +03:00 [DBG] Connection id "0HN73SJ95F08M", Request id "0HN73SJ95F08M:00000001": done reading request body.
2024-10-03 22:53:27.285 +03:00 [DBG] Connection id "0HN73SJ95F08G" stopped.
2024-10-03 22:53:27.287 +03:00 [DBG] Connection id "0HN73SJ95F08B" stopped.
2024-10-03 22:53:27.288 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:53:27.289 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:53:27.289 +03:00 [DBG] Connection id "0HN73SJ95F08H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:53:27.290 +03:00 [DBG] Connection id "0HN73SJ95F08H" disconnecting.
2024-10-03 22:53:27.291 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:53:27.292 +03:00 [DBG] POST requests are not supported
2024-10-03 22:53:27.293 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:53:27.293 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:53:27.294 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:53:27.441 +03:00 [DBG] Connection id "0HN73SJ95F08H", Request id "0HN73SJ95F08H:00000001": started reading request body.
2024-10-03 22:53:27.453 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 1157.6357ms
2024-10-03 22:53:27.460 +03:00 [DBG] Connection id "0HN73SJ95F08M" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 22:53:27.463 +03:00 [DBG] Connection id "0HN73SJ95F08K", Request id "0HN73SJ95F08K:00000001": done reading request body.
2024-10-03 22:53:27.534 +03:00 [DBG] Connection id "0HN73SJ95F08D" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 22:53:27.543 +03:00 [DBG] Connection id "0HN73SJ95F08K" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 22:53:27.550 +03:00 [DBG] Connection id "0HN73SJ95F08M" stopped.
2024-10-03 22:53:27.584 +03:00 [DBG] Connection id "0HN73SJ95F08K" stopped.
2024-10-03 22:53:27.603 +03:00 [DBG] The request was aborted by the client.
2024-10-03 22:53:27.606 +03:00 [DBG] Connection id "0HN73SJ95F08D" stopped.
2024-10-03 22:53:27.608 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:53:27.609 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:53:27.626 +03:00 [DBG] Connection id "0HN73SJ95F08J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:53:27.642 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 1050.2647ms
2024-10-03 22:53:27.703 +03:00 [DBG] Connection id "0HN73SJ95F08I", Request id "0HN73SJ95F08I:00000001": done reading request body.
2024-10-03 22:53:27.727 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:53:27.732 +03:00 [DBG] The request was aborted by the client.
2024-10-03 22:53:32.022 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 22:53:32.112 +03:00 [DBG] Hosting starting
2024-10-03 22:53:32.185 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 22:53:32.297 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 22:53:32.300 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 22:53:32.301 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 22:53:32.302 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 22:53:32.303 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 22:53:32.304 +03:00 [INF] Hosting environment: Development
2024-10-03 22:53:32.306 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 22:53:32.307 +03:00 [DBG] Hosting started
2024-10-03 22:53:32.752 +03:00 [DBG] Connection id "0HN73SK7OL3UG" received FIN.
2024-10-03 22:53:32.752 +03:00 [DBG] Connection id "0HN73SK7OL3UH" received FIN.
2024-10-03 22:53:32.757 +03:00 [DBG] Connection id "0HN73SK7OL3UG" accepted.
2024-10-03 22:53:32.757 +03:00 [DBG] Connection id "0HN73SK7OL3UH" accepted.
2024-10-03 22:53:32.758 +03:00 [DBG] Connection id "0HN73SK7OL3UG" started.
2024-10-03 22:53:32.759 +03:00 [DBG] Connection id "0HN73SK7OL3UH" started.
2024-10-03 22:53:32.764 +03:00 [DBG] Connection id "0HN73SK7OL3UH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:53:32.764 +03:00 [DBG] Connection id "0HN73SK7OL3UG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:53:32.767 +03:00 [DBG] Connection id "0HN73SK7OL3UH" disconnecting.
2024-10-03 22:53:32.767 +03:00 [DBG] Connection id "0HN73SK7OL3UG" disconnecting.
2024-10-03 22:53:32.773 +03:00 [DBG] Connection id "0HN73SK7OL3UH" stopped.
2024-10-03 22:53:32.773 +03:00 [DBG] Connection id "0HN73SK7OL3UG" stopped.
2024-10-03 22:53:33.131 +03:00 [DBG] Connection id "0HN73SK7OL3UI" accepted.
2024-10-03 22:53:33.133 +03:00 [DBG] Connection id "0HN73SK7OL3UI" started.
2024-10-03 22:53:33.138 +03:00 [DBG] Connection id "0HN73SK7OL3UJ" accepted.
2024-10-03 22:53:33.140 +03:00 [DBG] Connection id "0HN73SK7OL3UJ" started.
2024-10-03 22:53:33.172 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 22:53:33.280 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 22:53:33.284 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 22:53:33.294 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 22:53:33.296 +03:00 [DBG] Request did not match any endpoints
2024-10-03 22:53:35.782 +03:00 [DBG] Connection id "0HN73SK7OL3UI" completed keep alive response.
2024-10-03 22:53:35.784 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 2617.6881ms
2024-10-03 22:53:35.789 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 22:53:39.109 +03:00 [DBG] Connection id "0HN73SK7OL3UK" accepted.
2024-10-03 22:53:39.110 +03:00 [DBG] Connection id "0HN73SK7OL3UK" started.
2024-10-03 22:53:39.113 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:53:39.116 +03:00 [DBG] POST requests are not supported
2024-10-03 22:53:39.121 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:53:39.125 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:53:39.127 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:53:47.360 +03:00 [DBG] Connection id "0HN73SK7OL3UK" received FIN.
2024-10-03 22:53:47.368 +03:00 [DBG] Connection id "0HN73SK7OL3UK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:53:48.324 +03:00 [DBG] Connection id "0HN73SK7OL3UK" disconnecting.
2024-10-03 22:53:49.415 +03:00 [DBG] Connection id "0HN73SK7OL3UK", Request id "0HN73SK7OL3UK:00000001": started reading request body.
2024-10-03 22:53:56.854 +03:00 [DBG] Connection id "0HN73SK7OL3UL" accepted.
2024-10-03 22:54:17.695 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 22:54:17.767 +03:00 [DBG] Hosting starting
2024-10-03 22:54:17.821 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 22:54:17.898 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 22:54:17.899 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 22:54:17.899 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 22:54:17.900 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 22:54:17.901 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 22:54:17.902 +03:00 [INF] Hosting environment: Development
2024-10-03 22:54:17.903 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 22:54:17.904 +03:00 [DBG] Hosting started
2024-10-03 22:54:18.085 +03:00 [DBG] Connection id "0HN73SKL8VKB0" accepted.
2024-10-03 22:54:18.085 +03:00 [DBG] Connection id "0HN73SKL8VKAV" accepted.
2024-10-03 22:54:18.086 +03:00 [DBG] Connection id "0HN73SKL8VKB0" started.
2024-10-03 22:54:18.087 +03:00 [DBG] Connection id "0HN73SKL8VKAV" started.
2024-10-03 22:54:18.090 +03:00 [DBG] Connection id "0HN73SKL8VKB0" received FIN.
2024-10-03 22:54:18.093 +03:00 [DBG] Connection id "0HN73SKL8VKAV" received FIN.
2024-10-03 22:54:18.104 +03:00 [DBG] Connection id "0HN73SKL8VKB0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:54:18.104 +03:00 [DBG] Connection id "0HN73SKL8VKAV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:54:18.106 +03:00 [DBG] Connection id "0HN73SKL8VKB0" disconnecting.
2024-10-03 22:54:18.106 +03:00 [DBG] Connection id "0HN73SKL8VKAV" disconnecting.
2024-10-03 22:54:18.107 +03:00 [DBG] Connection id "0HN73SKL8VKAV" stopped.
2024-10-03 22:54:18.107 +03:00 [DBG] Connection id "0HN73SKL8VKB0" stopped.
2024-10-03 22:54:18.983 +03:00 [DBG] Connection id "0HN73SKL8VKB1" accepted.
2024-10-03 22:54:18.984 +03:00 [DBG] Connection id "0HN73SKL8VKB1" started.
2024-10-03 22:54:18.989 +03:00 [DBG] Connection id "0HN73SKL8VKB2" accepted.
2024-10-03 22:54:18.990 +03:00 [DBG] Connection id "0HN73SKL8VKB2" started.
2024-10-03 22:54:19.014 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 22:54:19.123 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 22:54:19.128 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 22:54:19.139 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 22:54:19.140 +03:00 [DBG] Request did not match any endpoints
2024-10-03 22:54:22.206 +03:00 [DBG] Connection id "0HN73SKL8VKB1" completed keep alive response.
2024-10-03 22:54:22.208 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 3199.087ms
2024-10-03 22:54:22.212 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 22:54:24.941 +03:00 [DBG] Connection id "0HN73SKL8VKB3" accepted.
2024-10-03 22:54:24.942 +03:00 [DBG] Connection id "0HN73SKL8VKB3" started.
2024-10-03 22:54:24.944 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:54:24.946 +03:00 [DBG] POST requests are not supported
2024-10-03 22:54:24.949 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:54:24.952 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:54:24.954 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:55:01.238 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 22:55:01.310 +03:00 [DBG] Hosting starting
2024-10-03 22:55:01.370 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 22:55:01.438 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 22:55:01.440 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 22:55:01.441 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 22:55:01.441 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 22:55:01.442 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 22:55:01.443 +03:00 [INF] Hosting environment: Development
2024-10-03 22:55:01.444 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 22:55:01.445 +03:00 [DBG] Hosting started
2024-10-03 22:55:01.545 +03:00 [DBG] Connection id "0HN73SL27EFR5" received FIN.
2024-10-03 22:55:01.545 +03:00 [DBG] Connection id "0HN73SL27EFR4" received FIN.
2024-10-03 22:55:01.555 +03:00 [DBG] Connection id "0HN73SL27EFR4" accepted.
2024-10-03 22:55:01.555 +03:00 [DBG] Connection id "0HN73SL27EFR5" accepted.
2024-10-03 22:55:01.557 +03:00 [DBG] Connection id "0HN73SL27EFR4" started.
2024-10-03 22:55:01.557 +03:00 [DBG] Connection id "0HN73SL27EFR5" started.
2024-10-03 22:55:01.564 +03:00 [DBG] Connection id "0HN73SL27EFR5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:55:01.564 +03:00 [DBG] Connection id "0HN73SL27EFR4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:55:01.566 +03:00 [DBG] Connection id "0HN73SL27EFR5" disconnecting.
2024-10-03 22:55:01.567 +03:00 [DBG] Connection id "0HN73SL27EFR4" disconnecting.
2024-10-03 22:55:01.569 +03:00 [DBG] Connection id "0HN73SL27EFR5" stopped.
2024-10-03 22:55:01.569 +03:00 [DBG] Connection id "0HN73SL27EFR4" stopped.
2024-10-03 22:55:02.313 +03:00 [DBG] Connection id "0HN73SL27EFR6" accepted.
2024-10-03 22:55:02.314 +03:00 [DBG] Connection id "0HN73SL27EFR6" started.
2024-10-03 22:55:02.318 +03:00 [DBG] Connection id "0HN73SL27EFR7" accepted.
2024-10-03 22:55:02.319 +03:00 [DBG] Connection id "0HN73SL27EFR7" started.
2024-10-03 22:55:02.349 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 22:55:02.454 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 22:55:02.459 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 22:55:02.471 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 22:55:02.474 +03:00 [DBG] Request did not match any endpoints
2024-10-03 22:55:09.626 +03:00 [DBG] Connection id "0HN73SL27EFR6" completed keep alive response.
2024-10-03 22:55:09.630 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 7286.0122ms
2024-10-03 22:55:09.634 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 22:55:13.811 +03:00 [DBG] Connection id "0HN73SL27EFR8" accepted.
2024-10-03 22:55:13.813 +03:00 [DBG] Connection id "0HN73SL27EFR8" started.
2024-10-03 22:55:13.815 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:55:13.817 +03:00 [DBG] POST requests are not supported
2024-10-03 22:55:13.820 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:55:13.823 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:55:13.824 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:55:30.454 +03:00 [DBG] Connection id "0HN73SL27EFR8" received FIN.
2024-10-03 22:55:30.455 +03:00 [DBG] Connection id "0HN73SL27EFR9" received FIN.
2024-10-03 22:55:30.460 +03:00 [DBG] Connection id "0HN73SL27EFR8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:55:30.464 +03:00 [DBG] Connection id "0HN73SL27EFR9" accepted.
2024-10-03 22:55:30.465 +03:00 [DBG] Connection id "0HN73SL27EFR8" disconnecting.
2024-10-03 22:55:30.465 +03:00 [DBG] Connection id "0HN73SL27EFR8", Request id "0HN73SL27EFR8:00000001": started reading request body.
2024-10-03 22:55:30.466 +03:00 [DBG] Connection id "0HN73SL27EFR9" started.
2024-10-03 22:55:30.468 +03:00 [DBG] Connection id "0HN73SL27EFRA" received FIN.
2024-10-03 22:55:30.485 +03:00 [DBG] Connection id "0HN73SL27EFR9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:55:30.486 +03:00 [DBG] Connection id "0HN73SL27EFRA" accepted.
2024-10-03 22:55:30.487 +03:00 [DBG] Connection id "0HN73SL27EFR9" disconnecting.
2024-10-03 22:55:30.494 +03:00 [DBG] Connection id "0HN73SL27EFRA" started.
2024-10-03 22:55:30.500 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 552
2024-10-03 22:55:30.506 +03:00 [DBG] Connection id "0HN73SL27EFRA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:55:30.529 +03:00 [DBG] Connection id "0HN73SL27EFRA" disconnecting.
2024-10-03 22:55:30.529 +03:00 [DBG] POST requests are not supported
2024-10-03 22:55:30.550 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:55:30.555 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:55:30.577 +03:00 [DBG] The request was aborted by the client.
2024-10-03 22:55:30.578 +03:00 [DBG] POST requests are not supported
2024-10-03 22:55:30.579 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:55:30.580 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 16764.8849ms
2024-10-03 22:55:30.580 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:55:30.581 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:55:30.584 +03:00 [DBG] Connection id "0HN73SL27EFR8", Request id "0HN73SL27EFR8:00000001": done reading request body.
2024-10-03 22:55:30.585 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:55:31.706 +03:00 [DBG] Connection id "0HN73SL27EFR9", Request id "0HN73SL27EFR9:00000001": started reading request body.
2024-10-03 22:55:31.707 +03:00 [DBG] Connection id "0HN73SL27EFRB" accepted.
2024-10-03 22:55:31.725 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:55:36.767 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 22:55:36.838 +03:00 [DBG] Hosting starting
2024-10-03 22:55:36.904 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 22:55:37.059 +03:00 [DBG] Connection id "0HN73SLCQ4K53" received FIN.
2024-10-03 22:55:37.059 +03:00 [DBG] Connection id "0HN73SLCQ4K52" received FIN.
2024-10-03 22:55:37.064 +03:00 [DBG] Connection id "0HN73SLCQ4K52" accepted.
2024-10-03 22:55:37.064 +03:00 [DBG] Connection id "0HN73SLCQ4K53" accepted.
2024-10-03 22:55:37.066 +03:00 [DBG] Connection id "0HN73SLCQ4K52" started.
2024-10-03 22:55:37.066 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 22:55:37.066 +03:00 [DBG] Connection id "0HN73SLCQ4K53" started.
2024-10-03 22:55:37.067 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 22:55:37.069 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 22:55:37.070 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 22:55:37.071 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 22:55:37.072 +03:00 [INF] Hosting environment: Development
2024-10-03 22:55:37.073 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 22:55:37.073 +03:00 [DBG] Connection id "0HN73SLCQ4K53" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:55:37.073 +03:00 [DBG] Connection id "0HN73SLCQ4K52" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:55:37.074 +03:00 [DBG] Hosting started
2024-10-03 22:55:37.075 +03:00 [DBG] Connection id "0HN73SLCQ4K52" disconnecting.
2024-10-03 22:55:37.076 +03:00 [DBG] Connection id "0HN73SLCQ4K53" disconnecting.
2024-10-03 22:55:37.080 +03:00 [DBG] Connection id "0HN73SLCQ4K53" stopped.
2024-10-03 22:55:37.080 +03:00 [DBG] Connection id "0HN73SLCQ4K52" stopped.
2024-10-03 22:55:37.459 +03:00 [DBG] Connection id "0HN73SLCQ4K54" accepted.
2024-10-03 22:55:37.460 +03:00 [DBG] Connection id "0HN73SLCQ4K54" started.
2024-10-03 22:55:37.465 +03:00 [DBG] Connection id "0HN73SLCQ4K55" accepted.
2024-10-03 22:55:37.466 +03:00 [DBG] Connection id "0HN73SLCQ4K55" started.
2024-10-03 22:55:37.491 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 22:55:37.635 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 22:55:37.641 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 22:55:37.657 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 22:55:37.658 +03:00 [DBG] Request did not match any endpoints
2024-10-03 22:55:39.114 +03:00 [DBG] Connection id "0HN73SLCQ4K54" completed keep alive response.
2024-10-03 22:55:39.121 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 1635.0361ms
2024-10-03 22:55:39.126 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 22:55:42.304 +03:00 [DBG] Connection id "0HN73SLCQ4K56" accepted.
2024-10-03 22:55:42.305 +03:00 [DBG] Connection id "0HN73SLCQ4K56" started.
2024-10-03 22:55:42.307 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:55:42.309 +03:00 [DBG] POST requests are not supported
2024-10-03 22:55:42.313 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:55:42.314 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:55:42.316 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:55:50.885 +03:00 [DBG] Connection id "0HN73SLCQ4K56" received FIN.
2024-10-03 22:56:17.047 +03:00 [DBG] Connection id "0HN73SLCQ4K57" received FIN.
2024-10-03 22:56:17.049 +03:00 [DBG] Connection id "0HN73SLCQ4K57" accepted.
2024-10-03 22:56:17.050 +03:00 [DBG] Connection id "0HN73SLCQ4K56", Request id "0HN73SLCQ4K56:00000001": started reading request body.
2024-10-03 22:56:17.050 +03:00 [DBG] Connection id "0HN73SLCQ4K56" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:56:17.051 +03:00 [DBG] Connection id "0HN73SLCQ4K57" started.
2024-10-03 22:56:17.090 +03:00 [DBG] Connection id "0HN73SLCQ4K56" disconnecting.
2024-10-03 22:56:17.090 +03:00 [DBG] Connection id "0HN73SLCQ4K57" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:56:17.107 +03:00 [DBG] Connection id "0HN73SLCQ4K57" disconnecting.
2024-10-03 22:56:17.108 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:56:17.183 +03:00 [DBG] POST requests are not supported
2024-10-03 22:56:17.204 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:56:17.205 +03:00 [DBG] The request was aborted by the client.
2024-10-03 22:56:17.206 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:56:17.207 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 34900.2526ms
2024-10-03 22:56:17.208 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:56:17.212 +03:00 [DBG] Connection id "0HN73SLCQ4K56", Request id "0HN73SLCQ4K56:00000001": done reading request body.
2024-10-03 22:56:34.976 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 22:56:35.109 +03:00 [DBG] Hosting starting
2024-10-03 22:56:35.186 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 22:56:35.309 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 22:56:35.310 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 22:56:35.311 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 22:56:35.312 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 22:56:35.313 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 22:56:35.315 +03:00 [INF] Hosting environment: Development
2024-10-03 22:56:35.316 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 22:56:35.317 +03:00 [DBG] Hosting started
2024-10-03 22:56:35.739 +03:00 [DBG] Connection id "0HN73SLU9O95M" accepted.
2024-10-03 22:56:35.739 +03:00 [DBG] Connection id "0HN73SLU9O95N" accepted.
2024-10-03 22:56:35.741 +03:00 [DBG] Connection id "0HN73SLU9O95M" started.
2024-10-03 22:56:35.742 +03:00 [DBG] Connection id "0HN73SLU9O95N" started.
2024-10-03 22:56:35.753 +03:00 [DBG] Connection id "0HN73SLU9O95N" received FIN.
2024-10-03 22:56:35.753 +03:00 [DBG] Connection id "0HN73SLU9O95M" received FIN.
2024-10-03 22:56:35.766 +03:00 [DBG] Connection id "0HN73SLU9O95M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:56:35.766 +03:00 [DBG] Connection id "0HN73SLU9O95N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:56:35.769 +03:00 [DBG] Connection id "0HN73SLU9O95M" disconnecting.
2024-10-03 22:56:35.770 +03:00 [DBG] Connection id "0HN73SLU9O95N" disconnecting.
2024-10-03 22:56:35.773 +03:00 [DBG] Connection id "0HN73SLU9O95M" stopped.
2024-10-03 22:56:35.773 +03:00 [DBG] Connection id "0HN73SLU9O95N" stopped.
2024-10-03 22:56:36.440 +03:00 [DBG] Connection id "0HN73SLU9O95O" accepted.
2024-10-03 22:56:36.442 +03:00 [DBG] Connection id "0HN73SLU9O95O" started.
2024-10-03 22:56:36.444 +03:00 [DBG] Connection id "0HN73SLU9O95P" accepted.
2024-10-03 22:56:36.446 +03:00 [DBG] Connection id "0HN73SLU9O95P" started.
2024-10-03 22:56:36.486 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 22:56:36.613 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 22:56:36.618 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 22:56:36.632 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 22:56:36.634 +03:00 [DBG] Request did not match any endpoints
2024-10-03 22:56:36.656 +03:00 [DBG] Connection id "0HN73SLU9O95O" completed keep alive response.
2024-10-03 22:56:36.659 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 177.3721ms
2024-10-03 22:56:36.665 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 22:56:39.982 +03:00 [DBG] Connection id "0HN73SLU9O95Q" accepted.
2024-10-03 22:56:39.983 +03:00 [DBG] Connection id "0HN73SLU9O95Q" started.
2024-10-03 22:56:39.984 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:56:39.986 +03:00 [DBG] POST requests are not supported
2024-10-03 22:56:39.988 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:56:39.990 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:56:39.991 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:56:39.993 +03:00 [DBG] Connection id "0HN73SLU9O95Q", Request id "0HN73SLU9O95Q:00000001": started reading request body.
2024-10-03 22:56:39.994 +03:00 [DBG] Connection id "0HN73SLU9O95Q", Request id "0HN73SLU9O95Q:00000001": done reading request body.
2024-10-03 22:56:40.074 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"59f685184f7982bc69d5498040235bf5544555da","v":"5.199","object":{"message":{"date":1727985399,"from_id":651565729,"id":75,"version":10000094,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":71,"fwd_messages":[],"text":"3","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:56:40.076 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:56:40.106 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:56:40.108 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:56:40.113 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:56:40.115 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:56:40.117 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:56:40.118 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:56:40.120 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:56:40.137 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:56:40.140 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:56:40.142 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:56:40.146 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:56:40.147 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:56:40.166 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:56:40.167 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:56:40.168 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:56:40.203 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:56:40.208 +03:00 [ERR] 
2024-10-03 22:56:40.208 +03:00 [ERR] 
2024-10-03 22:56:42.362 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 2241.6525ms
2024-10-03 22:56:42.385 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:56:42.427 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:56:42.464 +03:00 [DBG] Connection id "0HN73SLU9O95Q" completed keep alive response.
2024-10-03 22:56:42.466 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 2481.8706ms
2024-10-03 22:56:53.348 +03:00 [DBG] Connection id "0HN73SLU9O95R" accepted.
2024-10-03 22:56:53.349 +03:00 [DBG] Connection id "0HN73SLU9O95R" started.
2024-10-03 22:56:53.350 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:56:53.352 +03:00 [DBG] POST requests are not supported
2024-10-03 22:56:53.353 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:56:53.353 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:56:53.354 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:56:53.354 +03:00 [DBG] Connection id "0HN73SLU9O95R", Request id "0HN73SLU9O95R:00000001": started reading request body.
2024-10-03 22:56:53.355 +03:00 [DBG] Connection id "0HN73SLU9O95R", Request id "0HN73SLU9O95R:00000001": done reading request body.
2024-10-03 22:56:53.356 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"59f685184f7982bc69d5498040235bf5544555da","v":"5.199","object":{"message":{"date":1727985399,"from_id":651565729,"id":75,"version":10000094,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":71,"fwd_messages":[],"text":"3","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:56:53.356 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:56:53.357 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:56:53.358 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:56:53.359 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:56:53.359 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:56:53.361 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:56:53.362 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:56:53.362 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:56:53.364 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:56:53.365 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:56:53.365 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:56:53.366 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:56:53.367 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:56:53.368 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:56:53.369 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:56:53.369 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:56:53.370 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:56:53.371 +03:00 [ERR] 
2024-10-03 22:56:53.371 +03:00 [ERR] 
2024-10-03 22:56:54.109 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 746.6557ms
2024-10-03 22:56:54.131 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:56:54.172 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:56:54.177 +03:00 [DBG] Connection id "0HN73SLU9O95R" completed keep alive response.
2024-10-03 22:56:54.178 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 828.8321ms
2024-10-03 22:57:10.383 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 22:57:10.461 +03:00 [DBG] Hosting starting
2024-10-03 22:57:10.529 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 22:57:10.609 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 22:57:10.611 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 22:57:10.611 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 22:57:10.612 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 22:57:10.613 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 22:57:10.615 +03:00 [INF] Hosting environment: Development
2024-10-03 22:57:10.616 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 22:57:10.616 +03:00 [DBG] Hosting started
2024-10-03 22:57:10.619 +03:00 [DBG] Connection id "0HN73SM8MCROR" accepted.
2024-10-03 22:57:10.619 +03:00 [DBG] Connection id "0HN73SM8MCROS" accepted.
2024-10-03 22:57:10.620 +03:00 [DBG] Connection id "0HN73SM8MCROR" started.
2024-10-03 22:57:10.622 +03:00 [DBG] Connection id "0HN73SM8MCROS" started.
2024-10-03 22:57:10.643 +03:00 [DBG] Connection id "0HN73SM8MCROR" received FIN.
2024-10-03 22:57:10.643 +03:00 [DBG] Connection id "0HN73SM8MCROS" received FIN.
2024-10-03 22:57:10.648 +03:00 [DBG] Connection id "0HN73SM8MCROS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:57:10.648 +03:00 [DBG] Connection id "0HN73SM8MCROR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:57:10.650 +03:00 [DBG] Connection id "0HN73SM8MCROS" disconnecting.
2024-10-03 22:57:10.650 +03:00 [DBG] Connection id "0HN73SM8MCROR" disconnecting.
2024-10-03 22:57:10.655 +03:00 [DBG] Connection id "0HN73SM8MCROR" stopped.
2024-10-03 22:57:10.655 +03:00 [DBG] Connection id "0HN73SM8MCROS" stopped.
2024-10-03 22:57:10.886 +03:00 [DBG] Connection id "0HN73SM8MCROT" accepted.
2024-10-03 22:57:10.887 +03:00 [DBG] Connection id "0HN73SM8MCROT" started.
2024-10-03 22:57:10.893 +03:00 [DBG] Connection id "0HN73SM8MCROU" accepted.
2024-10-03 22:57:10.894 +03:00 [DBG] Connection id "0HN73SM8MCROU" started.
2024-10-03 22:57:10.920 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 22:57:11.042 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 22:57:11.047 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 22:57:11.061 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 22:57:11.063 +03:00 [DBG] Request did not match any endpoints
2024-10-03 22:57:11.080 +03:00 [DBG] Connection id "0HN73SM8MCROT" completed keep alive response.
2024-10-03 22:57:11.084 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 168.7598ms
2024-10-03 22:57:11.090 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 22:57:12.925 +03:00 [DBG] Connection id "0HN73SM8MCROV" accepted.
2024-10-03 22:57:12.927 +03:00 [DBG] Connection id "0HN73SM8MCROV" started.
2024-10-03 22:57:12.929 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:57:12.932 +03:00 [DBG] POST requests are not supported
2024-10-03 22:57:12.936 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:57:12.939 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:57:12.941 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:57:12.945 +03:00 [DBG] Connection id "0HN73SM8MCROV", Request id "0HN73SM8MCROV:00000001": started reading request body.
2024-10-03 22:57:12.947 +03:00 [DBG] Connection id "0HN73SM8MCROV", Request id "0HN73SM8MCROV:00000001": done reading request body.
2024-10-03 22:57:13.040 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"236aac524e98df95169805b41e9ca1afb03116a4","v":"5.199","object":{"message":{"date":1727985432,"from_id":651565729,"id":76,"version":10000095,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":72,"fwd_messages":[],"text":"6","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:57:13.042 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:57:13.074 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:57:13.076 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:57:13.080 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:57:13.082 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:57:13.084 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:57:13.086 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:57:13.090 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:57:13.108 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:57:13.112 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:57:13.114 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:57:13.117 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:57:13.120 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:57:13.146 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:57:13.147 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:57:13.148 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:57:13.190 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:57:13.194 +03:00 [ERR] 
2024-10-03 22:58:08.338 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 22:58:08.414 +03:00 [DBG] Hosting starting
2024-10-03 22:58:08.472 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 22:58:08.557 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 22:58:08.558 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 22:58:08.559 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 22:58:08.560 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 22:58:08.561 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 22:58:08.563 +03:00 [INF] Hosting environment: Development
2024-10-03 22:58:08.564 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 22:58:08.565 +03:00 [DBG] Hosting started
2024-10-03 22:58:08.917 +03:00 [DBG] Connection id "0HN73SMQ2BSA7" accepted.
2024-10-03 22:58:08.917 +03:00 [DBG] Connection id "0HN73SMQ2BSA8" accepted.
2024-10-03 22:58:08.921 +03:00 [DBG] Connection id "0HN73SMQ2BSA8" received FIN.
2024-10-03 22:58:08.921 +03:00 [DBG] Connection id "0HN73SMQ2BSA7" received FIN.
2024-10-03 22:58:08.926 +03:00 [DBG] Connection id "0HN73SMQ2BSA7" started.
2024-10-03 22:58:08.927 +03:00 [DBG] Connection id "0HN73SMQ2BSA8" started.
2024-10-03 22:58:08.933 +03:00 [DBG] Connection id "0HN73SMQ2BSA7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:58:08.933 +03:00 [DBG] Connection id "0HN73SMQ2BSA8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:58:08.935 +03:00 [DBG] Connection id "0HN73SMQ2BSA7" disconnecting.
2024-10-03 22:58:08.936 +03:00 [DBG] Connection id "0HN73SMQ2BSA8" disconnecting.
2024-10-03 22:58:08.938 +03:00 [DBG] Connection id "0HN73SMQ2BSA8" stopped.
2024-10-03 22:58:08.938 +03:00 [DBG] Connection id "0HN73SMQ2BSA7" stopped.
2024-10-03 22:58:09.377 +03:00 [DBG] Connection id "0HN73SMQ2BSA9" accepted.
2024-10-03 22:58:09.378 +03:00 [DBG] Connection id "0HN73SMQ2BSA9" started.
2024-10-03 22:58:09.382 +03:00 [DBG] Connection id "0HN73SMQ2BSAA" accepted.
2024-10-03 22:58:09.384 +03:00 [DBG] Connection id "0HN73SMQ2BSAA" started.
2024-10-03 22:58:09.410 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 22:58:09.514 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 22:58:09.519 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 22:58:09.529 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 22:58:09.530 +03:00 [DBG] Request did not match any endpoints
2024-10-03 22:58:09.545 +03:00 [DBG] Connection id "0HN73SMQ2BSA9" completed keep alive response.
2024-10-03 22:58:09.548 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 143.0481ms
2024-10-03 22:58:09.553 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 22:58:10.038 +03:00 [DBG] Connection id "0HN73SMQ2BSAB" accepted.
2024-10-03 22:58:10.039 +03:00 [DBG] Connection id "0HN73SMQ2BSAB" started.
2024-10-03 22:58:10.041 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:58:10.043 +03:00 [DBG] POST requests are not supported
2024-10-03 22:58:10.045 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:58:10.047 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:58:10.048 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:58:10.051 +03:00 [DBG] Connection id "0HN73SMQ2BSAB", Request id "0HN73SMQ2BSAB:00000001": started reading request body.
2024-10-03 22:58:10.052 +03:00 [DBG] Connection id "0HN73SMQ2BSAB", Request id "0HN73SMQ2BSAB:00000001": done reading request body.
2024-10-03 22:58:10.144 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"8d616131de7aa573f611431ab874e232f3e477b9","v":"5.199","object":{"message":{"date":1727985489,"from_id":651565729,"id":77,"version":10000096,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":73,"fwd_messages":[],"text":"5","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:58:10.146 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:58:10.180 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:58:10.183 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:58:10.184 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:58:10.186 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:58:10.188 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:58:10.189 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:58:10.192 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:58:10.210 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:58:10.214 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:58:10.217 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:58:10.219 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:58:10.221 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:58:10.245 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:58:10.246 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:58:10.248 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:58:10.287 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:58:10.290 +03:00 [ERR] 
2024-10-03 22:58:33.343 +03:00 [ERR] 
2024-10-03 22:58:33.345 +03:00 [DBG] Connection id "0HN73SMQ2BSAC" accepted.
2024-10-03 22:58:33.346 +03:00 [DBG] Connection id "0HN73SMQ2BSAB" received FIN.
2024-10-03 22:58:44.457 +03:00 [DBG] Connection id "0HN73SMQ2BSAC" received FIN.
2024-10-03 22:58:44.459 +03:00 [DBG] Connection id "0HN73SMQ2BSAD" received FIN.
2024-10-03 22:58:44.466 +03:00 [DBG] Connection id "0HN73SMQ2BSAC" started.
2024-10-03 22:58:54.173 +03:00 [DBG] Connection id "0HN73SMQ2BSAB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:58:54.193 +03:00 [DBG] Connection id "0HN73SMQ2BSAD" accepted.
2024-10-03 22:58:54.199 +03:00 [DBG] Connection id "0HN73SMQ2BSAC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:58:54.199 +03:00 [DBG] Connection id "0HN73SMQ2BSAD" started.
2024-10-03 22:58:54.200 +03:00 [DBG] Connection id "0HN73SMQ2BSAB" disconnecting.
2024-10-03 22:58:54.201 +03:00 [DBG] Connection id "0HN73SMQ2BSAC" disconnecting.
2024-10-03 22:58:54.202 +03:00 [DBG] Connection id "0HN73SMQ2BSAD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:58:54.229 +03:00 [DBG] Connection id "0HN73SMQ2BSAD" disconnecting.
2024-10-03 22:58:54.247 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:58:54.262 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:58:56.121 +03:00 [DBG] POST requests are not supported
2024-10-03 22:58:56.127 +03:00 [DBG] POST requests are not supported
2024-10-03 22:58:56.163 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:58:56.175 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:59:04.252 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:59:04.265 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:59:05.304 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:59:06.180 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:59:06.890 +03:00 [DBG] Connection id "0HN73SMQ2BSAC", Request id "0HN73SMQ2BSAC:00000001": started reading request body.
2024-10-03 22:59:06.897 +03:00 [DBG] Connection id "0HN73SMQ2BSAD", Request id "0HN73SMQ2BSAD:00000001": started reading request body.
2024-10-03 22:59:08.564 +03:00 [DBG] Connection id "0HN73SMQ2BSAE" accepted.
2024-10-03 22:59:09.416 +03:00 [DBG] Connection id "0HN73SMQ2BSAE" started.
2024-10-03 22:59:10.471 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:59:11.447 +03:00 [DBG] POST requests are not supported
2024-10-03 22:59:12.020 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:59:12.472 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:59:17.178 +03:00 [DBG] Connection id "0HN73SMQ2BSAE" received FIN.
2024-10-03 22:59:17.200 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:59:17.225 +03:00 [DBG] Connection id "0HN73SMQ2BSAE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:59:17.229 +03:00 [DBG] The request was aborted by the client.
2024-10-03 22:59:17.229 +03:00 [DBG] The request was aborted by the client.
2024-10-03 22:59:17.236 +03:00 [DBG] Connection id "0HN73SMQ2BSAE", Request id "0HN73SMQ2BSAE:00000001": started reading request body.
2024-10-03 22:59:17.252 +03:00 [DBG] Connection id "0HN73SMQ2BSAE" disconnecting.
2024-10-03 22:59:17.253 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 23013.5615ms
2024-10-03 22:59:17.253 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 67060.1852ms
2024-10-03 22:59:17.254 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 22992.1533ms
2024-10-03 22:59:17.305 +03:00 [DBG] Connection id "0HN73SMQ2BSAC", Request id "0HN73SMQ2BSAC:00000001": done reading request body.
2024-10-03 22:59:17.344 +03:00 [DBG] Connection id "0HN73SMQ2BSAD", Request id "0HN73SMQ2BSAD:00000001": done reading request body.
2024-10-03 22:59:17.351 +03:00 [DBG] The request was aborted by the client.
2024-10-03 22:59:17.373 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:59:17.375 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 7094.9742ms
2024-10-03 22:59:17.390 +03:00 [DBG] Connection id "0HN73SMQ2BSAC" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 22:59:17.440 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:59:17.432 +03:00 [DBG] Connection id "0HN73SMQ2BSAE", Request id "0HN73SMQ2BSAE:00000001": done reading request body.
2024-10-03 22:59:17.455 +03:00 [DBG] Connection id "0HN73SMQ2BSAD" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 22:59:17.468 +03:00 [DBG] Connection id "0HN73SMQ2BSAC" stopped.
2024-10-03 22:59:17.522 +03:00 [DBG] Connection id "0HN73SMQ2BSAE" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 22:59:17.523 +03:00 [DBG] Connection id "0HN73SMQ2BSAD" stopped.
2024-10-03 22:59:17.524 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 67483.1287ms
2024-10-03 22:59:17.525 +03:00 [DBG] Connection id "0HN73SMQ2BSAE" stopped.
2024-10-03 22:59:17.528 +03:00 [DBG] Connection id "0HN73SMQ2BSAB" stopped.
2024-10-03 22:59:20.255 +03:00 [DBG] Connection id "0HN73SMQ2BSAA" received FIN.
2024-10-03 22:59:20.257 +03:00 [DBG] Connection id "0HN73SMQ2BSAA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:59:20.258 +03:00 [DBG] Connection id "0HN73SMQ2BSAA" disconnecting.
2024-10-03 22:59:20.259 +03:00 [DBG] Connection id "0HN73SMQ2BSAA" stopped.
2024-10-03 22:59:41.560 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 22:59:41.645 +03:00 [DBG] Hosting starting
2024-10-03 22:59:41.731 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 22:59:41.807 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 22:59:41.808 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 22:59:41.809 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 22:59:41.809 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 22:59:41.810 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 22:59:41.811 +03:00 [INF] Hosting environment: Development
2024-10-03 22:59:41.812 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 22:59:41.812 +03:00 [DBG] Hosting started
2024-10-03 22:59:41.858 +03:00 [DBG] Connection id "0HN73SNLONC8I" accepted.
2024-10-03 22:59:41.858 +03:00 [DBG] Connection id "0HN73SNLONC8H" accepted.
2024-10-03 22:59:41.859 +03:00 [DBG] Connection id "0HN73SNLONC8I" started.
2024-10-03 22:59:41.860 +03:00 [DBG] Connection id "0HN73SNLONC8H" started.
2024-10-03 22:59:41.872 +03:00 [DBG] Connection id "0HN73SNLONC8I" received FIN.
2024-10-03 22:59:41.872 +03:00 [DBG] Connection id "0HN73SNLONC8H" received FIN.
2024-10-03 22:59:41.892 +03:00 [DBG] Connection id "0HN73SNLONC8I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:59:41.892 +03:00 [DBG] Connection id "0HN73SNLONC8H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:59:41.894 +03:00 [DBG] Connection id "0HN73SNLONC8I" disconnecting.
2024-10-03 22:59:41.895 +03:00 [DBG] Connection id "0HN73SNLONC8H" disconnecting.
2024-10-03 22:59:41.899 +03:00 [DBG] Connection id "0HN73SNLONC8I" stopped.
2024-10-03 22:59:41.900 +03:00 [DBG] Connection id "0HN73SNLONC8H" stopped.
2024-10-03 22:59:42.206 +03:00 [DBG] Connection id "0HN73SNLONC8J" accepted.
2024-10-03 22:59:42.207 +03:00 [DBG] Connection id "0HN73SNLONC8J" started.
2024-10-03 22:59:42.211 +03:00 [DBG] Connection id "0HN73SNLONC8K" accepted.
2024-10-03 22:59:42.213 +03:00 [DBG] Connection id "0HN73SNLONC8K" started.
2024-10-03 22:59:42.241 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 22:59:42.353 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 22:59:42.357 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 22:59:42.367 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 22:59:42.368 +03:00 [DBG] Request did not match any endpoints
2024-10-03 22:59:42.383 +03:00 [DBG] Connection id "0HN73SNLONC8J" completed keep alive response.
2024-10-03 22:59:42.385 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 150.0494ms
2024-10-03 22:59:42.390 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 22:59:51.801 +03:00 [DBG] Connection id "0HN73SNLONC8L" accepted.
2024-10-03 22:59:51.802 +03:00 [DBG] Connection id "0HN73SNLONC8L" started.
2024-10-03 22:59:51.803 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:59:51.806 +03:00 [DBG] POST requests are not supported
2024-10-03 22:59:51.808 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:59:51.810 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:59:51.811 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:59:51.814 +03:00 [DBG] Connection id "0HN73SNLONC8L", Request id "0HN73SNLONC8L:00000001": started reading request body.
2024-10-03 22:59:51.819 +03:00 [DBG] Connection id "0HN73SNLONC8L", Request id "0HN73SNLONC8L:00000001": done reading request body.
2024-10-03 22:59:51.909 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"14c217cc67f8fcfaa3e1fbf6ffddc244a924c27c","v":"5.199","object":{"message":{"date":1727985591,"from_id":651565729,"id":78,"version":10000097,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":74,"fwd_messages":[],"text":"2","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:59:51.911 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:59:51.937 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:59:51.939 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:59:51.941 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:59:51.943 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:59:51.945 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:59:51.946 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:59:51.948 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:59:51.964 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:59:51.967 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:59:51.970 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:59:51.972 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:59:51.974 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:59:51.999 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:59:52.003 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:59:52.005 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:59:52.047 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:59:52.050 +03:00 [ERR] 
2024-10-03 22:59:52.050 +03:00 [ERR] 
2024-10-03 22:59:52.160 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 211.3948ms
2024-10-03 22:59:52.184 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:59:52.226 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:59:52.264 +03:00 [DBG] Connection id "0HN73SNLONC8L" completed keep alive response.
2024-10-03 22:59:52.265 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 461.7961ms
2024-10-03 22:59:54.345 +03:00 [DBG] Connection id "0HN73SNLONC8M" accepted.
2024-10-03 22:59:54.353 +03:00 [DBG] Connection id "0HN73SNLONC8M" started.
2024-10-03 22:59:54.354 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 22:59:54.356 +03:00 [DBG] POST requests are not supported
2024-10-03 22:59:54.357 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 22:59:54.357 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 22:59:54.358 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:59:54.359 +03:00 [DBG] Connection id "0HN73SNLONC8M", Request id "0HN73SNLONC8M:00000001": started reading request body.
2024-10-03 22:59:54.359 +03:00 [DBG] Connection id "0HN73SNLONC8M", Request id "0HN73SNLONC8M:00000001": done reading request body.
2024-10-03 22:59:54.360 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"59f685184f7982bc69d5498040235bf5544555da","v":"5.199","object":{"message":{"date":1727985399,"from_id":651565729,"id":75,"version":10000094,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":71,"fwd_messages":[],"text":"3","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 22:59:54.361 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:59:54.362 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 22:59:54.363 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:59:54.365 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:59:54.366 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:59:54.367 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:59:54.368 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:59:54.370 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:59:54.370 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 22:59:54.372 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:59:54.373 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 22:59:54.374 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 22:59:54.375 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:59:54.376 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:59:54.377 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:59:54.378 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 22:59:54.380 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 22:59:54.381 +03:00 [ERR] 
2024-10-03 22:59:54.382 +03:00 [ERR] 
2024-10-03 22:59:54.465 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 95.5922ms
2024-10-03 22:59:54.488 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 22:59:54.530 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 22:59:54.535 +03:00 [DBG] Connection id "0HN73SNLONC8M" completed keep alive response.
2024-10-03 22:59:54.536 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 182.3366ms
2024-10-03 23:00:02.340 +03:00 [DBG] Connection id "0HN73SNLONC8N" accepted.
2024-10-03 23:00:02.340 +03:00 [DBG] Connection id "0HN73SNLONC8N" started.
2024-10-03 23:00:02.342 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:00:02.344 +03:00 [DBG] POST requests are not supported
2024-10-03 23:00:02.344 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:00:02.345 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:00:02.346 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:00:02.346 +03:00 [DBG] Connection id "0HN73SNLONC8N", Request id "0HN73SNLONC8N:00000001": started reading request body.
2024-10-03 23:00:02.347 +03:00 [DBG] Connection id "0HN73SNLONC8N", Request id "0HN73SNLONC8N:00000001": done reading request body.
2024-10-03 23:00:02.348 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"14c217cc67f8fcfaa3e1fbf6ffddc244a924c27c","v":"5.199","object":{"message":{"date":1727985591,"from_id":651565729,"id":78,"version":10000097,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":74,"fwd_messages":[],"text":"2","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 23:00:02.349 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:00:02.349 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:00:02.350 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:00:02.354 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:00:02.354 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:00:02.355 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:00:02.356 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:00:02.357 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:00:02.358 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:00:02.358 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:00:02.359 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:00:02.360 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:00:02.361 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:00:02.361 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:00:02.362 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:00:02.363 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:00:02.364 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:00:02.365 +03:00 [ERR] 
2024-10-03 23:00:02.365 +03:00 [ERR] 
2024-10-03 23:00:02.454 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 97.1563ms
2024-10-03 23:00:02.475 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:00:02.518 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:00:02.523 +03:00 [DBG] Connection id "0HN73SNLONC8N" completed keep alive response.
2024-10-03 23:00:02.524 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 182.3572ms
2024-10-03 23:00:23.235 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 23:00:23.315 +03:00 [DBG] Hosting starting
2024-10-03 23:00:23.366 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 23:00:23.431 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 23:00:23.431 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 23:00:23.432 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 23:00:23.433 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 23:00:23.433 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 23:00:23.434 +03:00 [INF] Hosting environment: Development
2024-10-03 23:00:23.435 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 23:00:23.435 +03:00 [DBG] Hosting started
2024-10-03 23:00:23.479 +03:00 [DBG] Connection id "0HN73SO25L4DA" accepted.
2024-10-03 23:00:23.480 +03:00 [DBG] Connection id "0HN73SO25L4DB" accepted.
2024-10-03 23:00:23.480 +03:00 [DBG] Connection id "0HN73SO25L4DA" started.
2024-10-03 23:00:23.481 +03:00 [DBG] Connection id "0HN73SO25L4DB" started.
2024-10-03 23:00:23.498 +03:00 [DBG] Connection id "0HN73SO25L4DB" received FIN.
2024-10-03 23:00:23.498 +03:00 [DBG] Connection id "0HN73SO25L4DA" received FIN.
2024-10-03 23:00:23.507 +03:00 [DBG] Connection id "0HN73SO25L4DB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:00:23.506 +03:00 [DBG] Connection id "0HN73SO25L4DA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:00:23.511 +03:00 [DBG] Connection id "0HN73SO25L4DB" disconnecting.
2024-10-03 23:00:23.512 +03:00 [DBG] Connection id "0HN73SO25L4DA" disconnecting.
2024-10-03 23:00:23.525 +03:00 [DBG] Connection id "0HN73SO25L4DB" stopped.
2024-10-03 23:00:23.525 +03:00 [DBG] Connection id "0HN73SO25L4DA" stopped.
2024-10-03 23:00:23.702 +03:00 [DBG] Connection id "0HN73SO25L4DC" accepted.
2024-10-03 23:00:23.703 +03:00 [DBG] Connection id "0HN73SO25L4DC" started.
2024-10-03 23:00:23.708 +03:00 [DBG] Connection id "0HN73SO25L4DD" accepted.
2024-10-03 23:00:23.710 +03:00 [DBG] Connection id "0HN73SO25L4DD" started.
2024-10-03 23:00:23.737 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 23:00:23.856 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 23:00:23.861 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 23:00:23.872 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 23:00:23.873 +03:00 [DBG] Request did not match any endpoints
2024-10-03 23:00:23.888 +03:00 [DBG] Connection id "0HN73SO25L4DC" completed keep alive response.
2024-10-03 23:00:23.890 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 157.446ms
2024-10-03 23:00:23.894 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 23:00:27.176 +03:00 [DBG] Connection id "0HN73SO25L4DE" accepted.
2024-10-03 23:00:27.177 +03:00 [DBG] Connection id "0HN73SO25L4DE" started.
2024-10-03 23:00:27.179 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:00:27.181 +03:00 [DBG] POST requests are not supported
2024-10-03 23:00:27.185 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:00:27.187 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:00:27.189 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:00:27.192 +03:00 [DBG] Connection id "0HN73SO25L4DE", Request id "0HN73SO25L4DE:00000001": started reading request body.
2024-10-03 23:00:27.193 +03:00 [DBG] Connection id "0HN73SO25L4DE", Request id "0HN73SO25L4DE:00000001": done reading request body.
2024-10-03 23:00:27.278 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"dd043af13ed168153cbbcc38ec2d72e7fd1a5a9f","v":"5.199","object":{"message":{"date":1727985626,"from_id":651565729,"id":79,"version":10000098,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":75,"fwd_messages":[],"text":"5","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 23:00:27.281 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:00:27.307 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:00:27.310 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:00:27.311 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:00:27.312 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:00:27.313 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:00:27.314 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:00:27.316 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:00:27.330 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:00:27.334 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:00:27.336 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:00:27.337 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:00:27.339 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:00:27.361 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:00:27.362 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:00:27.363 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:00:27.402 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:00:27.406 +03:00 [ERR] Callback function
2024-10-03 23:00:27.406 +03:00 [ERR] 
2024-10-03 23:00:27.528 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 211.0759ms
2024-10-03 23:00:27.554 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:00:27.604 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:00:27.644 +03:00 [DBG] Connection id "0HN73SO25L4DE" completed keep alive response.
2024-10-03 23:00:27.645 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 466.6655ms
2024-10-03 23:00:38.336 +03:00 [DBG] Connection id "0HN73SO25L4DF" accepted.
2024-10-03 23:00:38.337 +03:00 [DBG] Connection id "0HN73SO25L4DF" started.
2024-10-03 23:00:38.338 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:00:38.340 +03:00 [DBG] POST requests are not supported
2024-10-03 23:00:38.341 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:00:38.342 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:00:38.342 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:00:38.343 +03:00 [DBG] Connection id "0HN73SO25L4DF", Request id "0HN73SO25L4DF:00000001": started reading request body.
2024-10-03 23:00:38.344 +03:00 [DBG] Connection id "0HN73SO25L4DF", Request id "0HN73SO25L4DF:00000001": done reading request body.
2024-10-03 23:00:38.345 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"236aac524e98df95169805b41e9ca1afb03116a4","v":"5.199","object":{"message":{"date":1727985432,"from_id":651565729,"id":76,"version":10000095,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":72,"fwd_messages":[],"text":"6","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 23:00:38.345 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:00:38.346 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:00:38.347 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:00:38.348 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:00:38.349 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:00:38.350 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:00:38.350 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:00:38.351 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:00:38.352 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:00:38.353 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:00:38.354 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:00:38.355 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:00:38.355 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:00:38.357 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:00:38.358 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:00:38.359 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:00:38.360 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:00:38.361 +03:00 [ERR] Callback function
2024-10-03 23:00:38.361 +03:00 [ERR] 
2024-10-03 23:00:38.391 +03:00 [DBG] Connection id "0HN73SO25L4DG" accepted.
2024-10-03 23:00:38.412 +03:00 [DBG] Connection id "0HN73SO25L4DG" started.
2024-10-03 23:00:38.460 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 108.471ms
2024-10-03 23:00:38.485 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:00:38.531 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:00:38.536 +03:00 [DBG] Connection id "0HN73SO25L4DF" completed keep alive response.
2024-10-03 23:00:38.537 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 198.695ms
2024-10-03 23:00:38.581 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:00:38.583 +03:00 [DBG] POST requests are not supported
2024-10-03 23:00:38.584 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:00:38.584 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:00:38.585 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:00:38.586 +03:00 [DBG] Connection id "0HN73SO25L4DG", Request id "0HN73SO25L4DG:00000001": started reading request body.
2024-10-03 23:00:38.587 +03:00 [DBG] Connection id "0HN73SO25L4DG", Request id "0HN73SO25L4DG:00000001": done reading request body.
2024-10-03 23:00:38.588 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"dd043af13ed168153cbbcc38ec2d72e7fd1a5a9f","v":"5.199","object":{"message":{"date":1727985626,"from_id":651565729,"id":79,"version":10000098,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":75,"fwd_messages":[],"text":"5","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 23:00:38.591 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:00:38.592 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:00:38.595 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:00:38.596 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:00:38.597 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:00:38.598 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:00:38.599 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:00:38.600 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:00:38.601 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:00:38.602 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:00:38.603 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:00:38.604 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:00:38.607 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:00:38.608 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:00:38.609 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:00:38.610 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:00:38.611 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:00:38.612 +03:00 [ERR] Callback function
2024-10-03 23:00:38.613 +03:00 [ERR] 
2024-10-03 23:00:38.700 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 100.3056ms
2024-10-03 23:00:38.722 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:00:38.766 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:00:38.771 +03:00 [DBG] Connection id "0HN73SO25L4DG" completed keep alive response.
2024-10-03 23:00:38.773 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 192.2309ms
2024-10-03 23:00:56.748 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 23:00:56.843 +03:00 [DBG] Hosting starting
2024-10-03 23:00:56.915 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 23:00:56.993 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 23:00:56.994 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 23:00:56.995 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 23:00:56.996 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 23:00:56.997 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 23:00:56.998 +03:00 [INF] Hosting environment: Development
2024-10-03 23:00:56.998 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 23:00:56.999 +03:00 [DBG] Hosting started
2024-10-03 23:00:57.365 +03:00 [DBG] Connection id "0HN73SOC8QAS3" accepted.
2024-10-03 23:00:57.368 +03:00 [DBG] Connection id "0HN73SOC8QAS3" started.
2024-10-03 23:00:57.375 +03:00 [DBG] Connection id "0HN73SOC8QAS4" accepted.
2024-10-03 23:00:57.376 +03:00 [DBG] Connection id "0HN73SOC8QAS4" started.
2024-10-03 23:00:57.388 +03:00 [DBG] Connection id "0HN73SOC8QAS3" received FIN.
2024-10-03 23:00:57.388 +03:00 [DBG] Connection id "0HN73SOC8QAS4" received FIN.
2024-10-03 23:00:57.394 +03:00 [DBG] Connection id "0HN73SOC8QAS4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:00:57.394 +03:00 [DBG] Connection id "0HN73SOC8QAS3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:00:57.397 +03:00 [DBG] Connection id "0HN73SOC8QAS4" disconnecting.
2024-10-03 23:00:57.400 +03:00 [DBG] Connection id "0HN73SOC8QAS3" disconnecting.
2024-10-03 23:00:57.404 +03:00 [DBG] Connection id "0HN73SOC8QAS3" stopped.
2024-10-03 23:00:57.404 +03:00 [DBG] Connection id "0HN73SOC8QAS4" stopped.
2024-10-03 23:00:57.785 +03:00 [DBG] Connection id "0HN73SOC8QAS5" accepted.
2024-10-03 23:00:57.788 +03:00 [DBG] Connection id "0HN73SOC8QAS5" started.
2024-10-03 23:00:57.790 +03:00 [DBG] Connection id "0HN73SOC8QAS6" accepted.
2024-10-03 23:00:57.791 +03:00 [DBG] Connection id "0HN73SOC8QAS6" started.
2024-10-03 23:00:57.818 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 23:00:57.931 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 23:00:57.937 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 23:00:57.949 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 23:00:57.950 +03:00 [DBG] Request did not match any endpoints
2024-10-03 23:00:57.966 +03:00 [DBG] Connection id "0HN73SOC8QAS5" completed keep alive response.
2024-10-03 23:00:57.968 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 156.374ms
2024-10-03 23:00:57.971 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 23:01:02.563 +03:00 [DBG] Connection id "0HN73SOC8QAS7" accepted.
2024-10-03 23:01:02.565 +03:00 [DBG] Connection id "0HN73SOC8QAS7" started.
2024-10-03 23:01:02.566 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:01:02.568 +03:00 [DBG] POST requests are not supported
2024-10-03 23:01:02.571 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:01:02.574 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:01:02.575 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:01:02.578 +03:00 [DBG] Connection id "0HN73SOC8QAS7", Request id "0HN73SOC8QAS7:00000001": started reading request body.
2024-10-03 23:01:02.579 +03:00 [DBG] Connection id "0HN73SOC8QAS7", Request id "0HN73SOC8QAS7:00000001": done reading request body.
2024-10-03 23:01:02.676 +03:00 [ERR] {"group_id":227681680,"type":"message_new","event_id":"8255b6ae091c00330bc50c42b9c7fc570c570ee9","v":"5.199","object":{"message":{"date":1727985662,"from_id":651565729,"id":80,"version":10000099,"out":"Received","important":false,"is_hidden":false,"attachments":[],"conversation_message_id":76,"fwd_messages":[],"text":"5","peer_id":651565729,"random_id":0},"client_info":{"button_actions":["text","vkpay","open_app","location","open_link","open_photo","callback","intent_subscribe","intent_unsubscribe"],"keyboard":true,"inline_keyboard":true,"carousel":true,"lang_id":0}}
2024-10-03 23:01:19.195 +03:00 [DBG] Connection id "0HN73SOC8QAS7" received FIN.
2024-10-03 23:01:30.684 +03:00 [DBG] Connection id "0HN73SOC8QAS8" received FIN.
2024-10-03 23:01:30.719 +03:00 [DBG] Connection id "0HN73SOC8QAS7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:01:30.730 +03:00 [DBG] Connection id "0HN73SOC8QAS8" accepted.
2024-10-03 23:01:34.676 +03:00 [DBG] Connection id "0HN73SOC8QAS7" disconnecting.
2024-10-03 23:01:34.676 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:01:34.677 +03:00 [DBG] Connection id "0HN73SOC8QAS8" started.
2024-10-03 23:01:34.680 +03:00 [DBG] Connection id "0HN73SOC8QAS8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:01:34.681 +03:00 [DBG] Connection id "0HN73SOC8QAS8" disconnecting.
2024-10-03 23:01:34.682 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:01:34.685 +03:00 [DBG] POST requests are not supported
2024-10-03 23:01:34.686 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:01:34.691 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:01:34.693 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:01:34.694 +03:00 [DBG] Connection id "0HN73SOC8QAS8", Request id "0HN73SOC8QAS8:00000001": started reading request body.
2024-10-03 23:01:34.795 +03:00 [DBG] The request was aborted by the client.
2024-10-03 23:01:34.797 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 114.8417ms
2024-10-03 23:01:34.800 +03:00 [DBG] Connection id "0HN73SOC8QAS8", Request id "0HN73SOC8QAS8:00000001": done reading request body.
2024-10-03 23:01:34.817 +03:00 [DBG] Connection id "0HN73SOC8QAS8" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 23:01:34.817 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:01:34.852 +03:00 [DBG] Connection id "0HN73SOC8QAS8" stopped.
2024-10-03 23:01:34.854 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:01:34.855 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:01:34.856 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:01:34.858 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:01:34.859 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:01:34.861 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:01:34.876 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:01:34.879 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:01:34.881 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:01:34.883 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:01:34.885 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:01:34.910 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:01:34.912 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:01:34.913 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:01:34.952 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:01:34.956 +03:00 [ERR] Callback function
2024-10-03 23:01:34.957 +03:00 [ERR] 
2024-10-03 23:01:35.061 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 198.6784ms
2024-10-03 23:01:35.086 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:01:36.473 +03:00 [DBG] Connection id "0HN73SOC8QAS9" accepted.
2024-10-03 23:01:36.483 +03:00 [DBG] Connection id "0HN73SOC8QAS9" started.
2024-10-03 23:01:36.489 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:01:38.513 +03:00 [DBG] POST requests are not supported
2024-10-03 23:01:38.523 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:01:38.528 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:01:38.539 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:01:38.553 +03:00 [DBG] Connection id "0HN73SOC8QAS9", Request id "0HN73SOC8QAS9:00000001": started reading request body.
2024-10-03 23:01:39.985 +03:00 [DBG] Connection id "0HN73SOC8QAS9", Request id "0HN73SOC8QAS9:00000001": done reading request body.
2024-10-03 23:02:08.909 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 23:02:08.997 +03:00 [DBG] Hosting starting
2024-10-03 23:02:09.059 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 23:02:09.159 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 23:02:09.161 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 23:02:09.162 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 23:02:09.163 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 23:02:09.164 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 23:02:09.165 +03:00 [INF] Hosting environment: Development
2024-10-03 23:02:09.166 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 23:02:09.168 +03:00 [DBG] Hosting started
2024-10-03 23:02:09.205 +03:00 [DBG] Connection id "0HN73SP1LU17G" accepted.
2024-10-03 23:02:09.205 +03:00 [DBG] Connection id "0HN73SP1LU17F" accepted.
2024-10-03 23:02:09.207 +03:00 [DBG] Connection id "0HN73SP1LU17G" started.
2024-10-03 23:02:09.207 +03:00 [DBG] Connection id "0HN73SP1LU17F" started.
2024-10-03 23:02:09.223 +03:00 [DBG] Connection id "0HN73SP1LU17F" received FIN.
2024-10-03 23:02:09.224 +03:00 [DBG] Connection id "0HN73SP1LU17G" received FIN.
2024-10-03 23:02:09.233 +03:00 [DBG] Connection id "0HN73SP1LU17F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:02:09.233 +03:00 [DBG] Connection id "0HN73SP1LU17G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:02:09.235 +03:00 [DBG] Connection id "0HN73SP1LU17F" disconnecting.
2024-10-03 23:02:09.236 +03:00 [DBG] Connection id "0HN73SP1LU17G" disconnecting.
2024-10-03 23:02:09.237 +03:00 [DBG] Connection id "0HN73SP1LU17F" stopped.
2024-10-03 23:02:09.237 +03:00 [DBG] Connection id "0HN73SP1LU17G" stopped.
2024-10-03 23:02:09.452 +03:00 [DBG] Connection id "0HN73SP1LU17H" accepted.
2024-10-03 23:02:09.454 +03:00 [DBG] Connection id "0HN73SP1LU17H" started.
2024-10-03 23:02:09.458 +03:00 [DBG] Connection id "0HN73SP1LU17I" accepted.
2024-10-03 23:02:09.460 +03:00 [DBG] Connection id "0HN73SP1LU17I" started.
2024-10-03 23:02:09.488 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 23:02:09.659 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 23:02:09.665 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 23:02:09.675 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 23:02:09.677 +03:00 [DBG] Request did not match any endpoints
2024-10-03 23:02:09.693 +03:00 [DBG] Connection id "0HN73SP1LU17H" completed keep alive response.
2024-10-03 23:02:09.697 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 213.4047ms
2024-10-03 23:02:09.702 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 23:02:13.903 +03:00 [DBG] Connection id "0HN73SP1LU17J" accepted.
2024-10-03 23:02:13.905 +03:00 [DBG] Connection id "0HN73SP1LU17J" started.
2024-10-03 23:02:13.906 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:02:13.909 +03:00 [DBG] POST requests are not supported
2024-10-03 23:02:13.912 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:02:13.915 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:02:13.917 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:02:13.918 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:02:13.950 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:02:13.954 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:02:13.955 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:02:13.957 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:02:13.959 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:02:13.960 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:02:13.964 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:02:13.983 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:02:13.986 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:02:13.989 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:02:13.991 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:02:13.993 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:02:14.007 +03:00 [DBG] Connection id "0HN73SP1LU17J", Request id "0HN73SP1LU17J:00000001": started reading request body.
2024-10-03 23:02:14.017 +03:00 [DBG] Connection id "0HN73SP1LU17J", Request id "0HN73SP1LU17J:00000001": done reading request body.
2024-10-03 23:02:14.108 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:02:14.110 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:02:14.111 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:02:14.158 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:02:14.163 +03:00 [ERR] Callback function
2024-10-03 23:02:31.581 +03:00 [DBG] Connection id "0HN73SP1LU17J" received FIN.
2024-10-03 23:02:31.581 +03:00 [ERR] 
2024-10-03 23:02:31.588 +03:00 [DBG] Connection id "0HN73SP1LU17K" accepted.
2024-10-03 23:02:31.590 +03:00 [DBG] Connection id "0HN73SP1LU17J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:02:31.591 +03:00 [DBG] Connection id "0HN73SP1LU17K" started.
2024-10-03 23:02:31.592 +03:00 [DBG] Connection id "0HN73SP1LU17L" accepted.
2024-10-03 23:02:31.596 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:02:31.599 +03:00 [DBG] Connection id "0HN73SP1LU17J" disconnecting.
2024-10-03 23:02:31.600 +03:00 [DBG] Connection id "0HN73SP1LU17L" started.
2024-10-03 23:02:31.619 +03:00 [DBG] POST requests are not supported
2024-10-03 23:02:31.627 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:02:31.646 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:02:31.691 +03:00 [DBG] POST requests are not supported
2024-10-03 23:02:31.691 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:02:31.692 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 17727.8388ms
2024-10-03 23:02:31.692 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:02:31.693 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:02:31.716 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:02:31.717 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:02:31.718 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:02:31.752 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:02:31.752 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:02:31.753 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:02:31.804 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:02:31.806 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:02:31.807 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:02:31.809 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 17902.7026ms
2024-10-03 23:02:31.809 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:02:31.813 +03:00 [DBG] Connection id "0HN73SP1LU17J" stopped.
2024-10-03 23:02:31.815 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:02:31.817 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:02:31.820 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:02:31.822 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:02:31.824 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:02:31.825 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:02:31.827 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:02:31.828 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:02:31.830 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:02:31.831 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:02:31.832 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:02:31.834 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:02:31.834 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:02:31.836 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:02:31.837 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:02:31.838 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:02:31.840 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:02:31.841 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:02:31.842 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:02:31.843 +03:00 [DBG] Connection id "0HN73SP1LU17K", Request id "0HN73SP1LU17K:00000001": started reading request body.
2024-10-03 23:02:31.844 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:02:31.845 +03:00 [DBG] Connection id "0HN73SP1LU17K", Request id "0HN73SP1LU17K:00000001": done reading request body.
2024-10-03 23:02:31.846 +03:00 [DBG] Connection id "0HN73SP1LU17L", Request id "0HN73SP1LU17L:00000001": started reading request body.
2024-10-03 23:02:31.847 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:02:31.849 +03:00 [DBG] Connection id "0HN73SP1LU17L", Request id "0HN73SP1LU17L:00000001": done reading request body.
2024-10-03 23:02:31.850 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:02:31.851 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:02:31.852 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:02:31.854 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:02:31.855 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:02:31.856 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:02:31.857 +03:00 [ERR] Callback function
2024-10-03 23:02:31.858 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:02:34.688 +03:00 [ERR] 
2024-10-03 23:02:34.688 +03:00 [DBG] Connection id "0HN73SP1LU17K" received FIN.
2024-10-03 23:02:34.690 +03:00 [ERR] Callback function
2024-10-03 23:02:34.741 +03:00 [DBG] Connection id "0HN73SP1LU17K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:02:35.247 +03:00 [ERR] 
2024-10-03 23:02:35.258 +03:00 [DBG] Connection id "0HN73SP1LU17K" disconnecting.
2024-10-03 23:02:35.293 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 3464.863ms
2024-10-03 23:02:35.367 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:02:35.392 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 3559.7397ms
2024-10-03 23:02:35.419 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:02:35.441 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:02:35.446 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 3850.3787ms
2024-10-03 23:02:35.478 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.AccessTokenInvalidException: Метод 'messages.send' нельзя вызывать без авторизации
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:02:35.479 +03:00 [DBG] Connection id "0HN73SP1LU17K" stopped.
2024-10-03 23:02:35.486 +03:00 [DBG] Connection id "0HN73SP1LU17L" completed keep alive response.
2024-10-03 23:02:35.487 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 3860.6298ms
2024-10-03 23:02:45.326 +03:00 [DBG] Connection id "0HN73SP1LU17M" accepted.
2024-10-03 23:02:45.334 +03:00 [DBG] Connection id "0HN73SP1LU17M" started.
2024-10-03 23:02:45.335 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:02:45.337 +03:00 [DBG] POST requests are not supported
2024-10-03 23:02:45.338 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:02:45.339 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:02:45.340 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:02:45.341 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:02:45.342 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:02:45.343 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:02:45.344 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:02:45.345 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:02:45.347 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:02:45.348 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:02:45.349 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:02:45.350 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:02:45.351 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:02:45.352 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:02:45.353 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:02:45.354 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:02:45.355 +03:00 [DBG] Connection id "0HN73SP1LU17M", Request id "0HN73SP1LU17M:00000001": started reading request body.
2024-10-03 23:02:45.356 +03:00 [DBG] Connection id "0HN73SP1LU17M", Request id "0HN73SP1LU17M:00000001": done reading request body.
2024-10-03 23:02:45.357 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:02:45.358 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:02:45.359 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:02:45.360 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:02:45.361 +03:00 [ERR] Callback function
2024-10-03 23:03:05.776 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 23:03:05.862 +03:00 [DBG] Hosting starting
2024-10-03 23:03:05.928 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 23:03:06.005 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 23:03:06.006 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 23:03:06.007 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 23:03:06.009 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 23:03:06.010 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 23:03:06.012 +03:00 [INF] Hosting environment: Development
2024-10-03 23:03:06.013 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 23:03:06.014 +03:00 [DBG] Hosting started
2024-10-03 23:03:06.167 +03:00 [DBG] Connection id "0HN73SPIL5I42" received FIN.
2024-10-03 23:03:06.167 +03:00 [DBG] Connection id "0HN73SPIL5I43" received FIN.
2024-10-03 23:03:06.172 +03:00 [DBG] Connection id "0HN73SPIL5I42" accepted.
2024-10-03 23:03:06.172 +03:00 [DBG] Connection id "0HN73SPIL5I43" accepted.
2024-10-03 23:03:06.173 +03:00 [DBG] Connection id "0HN73SPIL5I42" started.
2024-10-03 23:03:06.174 +03:00 [DBG] Connection id "0HN73SPIL5I43" started.
2024-10-03 23:03:06.179 +03:00 [DBG] Connection id "0HN73SPIL5I42" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:03:06.179 +03:00 [DBG] Connection id "0HN73SPIL5I43" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:03:06.183 +03:00 [DBG] Connection id "0HN73SPIL5I42" disconnecting.
2024-10-03 23:03:06.183 +03:00 [DBG] Connection id "0HN73SPIL5I43" disconnecting.
2024-10-03 23:03:06.186 +03:00 [DBG] Connection id "0HN73SPIL5I43" stopped.
2024-10-03 23:03:06.186 +03:00 [DBG] Connection id "0HN73SPIL5I42" stopped.
2024-10-03 23:03:06.460 +03:00 [DBG] Connection id "0HN73SPIL5I44" accepted.
2024-10-03 23:03:06.462 +03:00 [DBG] Connection id "0HN73SPIL5I44" started.
2024-10-03 23:03:06.471 +03:00 [DBG] Connection id "0HN73SPIL5I45" accepted.
2024-10-03 23:03:06.473 +03:00 [DBG] Connection id "0HN73SPIL5I45" started.
2024-10-03 23:03:06.496 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 23:03:06.616 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 23:03:06.621 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 23:03:06.636 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 23:03:06.638 +03:00 [DBG] Request did not match any endpoints
2024-10-03 23:03:06.655 +03:00 [DBG] Connection id "0HN73SPIL5I44" completed keep alive response.
2024-10-03 23:03:06.658 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 166.8357ms
2024-10-03 23:03:06.664 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 23:03:09.962 +03:00 [DBG] Connection id "0HN73SPIL5I46" accepted.
2024-10-03 23:03:09.965 +03:00 [DBG] Connection id "0HN73SPIL5I46" started.
2024-10-03 23:03:09.966 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:03:09.970 +03:00 [DBG] POST requests are not supported
2024-10-03 23:03:09.974 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:03:09.976 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:03:09.978 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:03:09.979 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:03:10.006 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:03:10.009 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:03:10.010 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:03:10.012 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:03:10.014 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:03:10.015 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:03:10.017 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:03:10.034 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:03:10.038 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:03:10.040 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:03:10.041 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:03:10.043 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:03:10.058 +03:00 [DBG] Connection id "0HN73SPIL5I46", Request id "0HN73SPIL5I46:00000001": started reading request body.
2024-10-03 23:03:10.059 +03:00 [DBG] Connection id "0HN73SPIL5I46", Request id "0HN73SPIL5I46:00000001": done reading request body.
2024-10-03 23:03:10.149 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:03:10.151 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:03:10.153 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:03:10.189 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:03:10.193 +03:00 [ERR] Callback function
2024-10-03 23:03:18.801 +03:00 [ERR] 
2024-10-03 23:03:18.802 +03:00 [DBG] Connection id "0HN73SPIL5I47" received FIN.
2024-10-03 23:03:18.802 +03:00 [DBG] Connection id "0HN73SPIL5I46" received FIN.
2024-10-03 23:03:18.804 +03:00 [DBG] Connection id "0HN73SPIL5I47" accepted.
2024-10-03 23:03:18.805 +03:00 [DBG] Connection id "0HN73SPIL5I46" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:03:18.806 +03:00 [DBG] Connection id "0HN73SPIL5I47" started.
2024-10-03 23:03:18.807 +03:00 [DBG] Connection id "0HN73SPIL5I46" disconnecting.
2024-10-03 23:03:18.808 +03:00 [DBG] Connection id "0HN73SPIL5I47" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:03:18.810 +03:00 [DBG] Connection id "0HN73SPIL5I47" disconnecting.
2024-10-03 23:03:18.811 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:03:18.815 +03:00 [DBG] POST requests are not supported
2024-10-03 23:03:18.816 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:03:18.816 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:03:18.818 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:03:18.819 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:03:18.820 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:03:18.822 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:03:18.823 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:03:18.825 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:03:18.829 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:03:18.833 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:03:18.835 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:03:18.836 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:03:18.837 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:03:18.839 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:03:18.840 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:03:18.841 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:03:18.843 +03:00 [DBG] Connection id "0HN73SPIL5I47", Request id "0HN73SPIL5I47:00000001": started reading request body.
2024-10-03 23:03:18.993 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 156.4608ms
2024-10-03 23:03:19.016 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:03:19.045 +03:00 [DBG] The request was aborted by the client.
2024-10-03 23:03:19.046 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 235.4511ms
2024-10-03 23:03:19.049 +03:00 [DBG] Connection id "0HN73SPIL5I47", Request id "0HN73SPIL5I47:00000001": done reading request body.
2024-10-03 23:03:19.066 +03:00 [DBG] Connection id "0HN73SPIL5I47" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 23:03:19.101 +03:00 [DBG] Connection id "0HN73SPIL5I47" stopped.
2024-10-03 23:03:21.072 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 11055.4932ms
2024-10-03 23:03:21.095 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:03:21.126 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:03:21.139 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 11172.3665ms
2024-10-03 23:03:21.141 +03:00 [DBG] Connection id "0HN73SPIL5I46" stopped.
2024-10-03 23:03:23.326 +03:00 [DBG] Connection id "0HN73SPIL5I48" accepted.
2024-10-03 23:03:23.327 +03:00 [DBG] Connection id "0HN73SPIL5I48" started.
2024-10-03 23:03:23.327 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:03:23.329 +03:00 [DBG] POST requests are not supported
2024-10-03 23:03:23.330 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:03:23.330 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:03:23.331 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:03:23.332 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:03:23.332 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:03:23.333 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:03:23.334 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:03:23.335 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:03:23.336 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:03:23.337 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:03:23.338 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:03:23.339 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:03:23.339 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:03:23.340 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:03:23.341 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:03:23.341 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:03:23.342 +03:00 [DBG] Connection id "0HN73SPIL5I48", Request id "0HN73SPIL5I48:00000001": started reading request body.
2024-10-03 23:03:23.343 +03:00 [DBG] Connection id "0HN73SPIL5I48", Request id "0HN73SPIL5I48:00000001": done reading request body.
2024-10-03 23:03:23.344 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:03:23.344 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:03:23.345 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:03:23.346 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:03:23.347 +03:00 [ERR] Callback function
2024-10-03 23:03:27.048 +03:00 [ERR] 
2024-10-03 23:03:27.319 +03:00 [DBG] Connection id "0HN73SPIL5I49" accepted.
2024-10-03 23:03:27.321 +03:00 [DBG] Connection id "0HN73SPIL5I49" started.
2024-10-03 23:03:27.322 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:03:27.325 +03:00 [DBG] POST requests are not supported
2024-10-03 23:03:27.325 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:03:27.326 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:03:27.327 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:03:27.329 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:03:27.330 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:03:27.331 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:03:27.332 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:03:27.333 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:03:27.335 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:03:27.336 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:03:27.337 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:03:27.338 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:03:27.339 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:03:27.340 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:03:27.341 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:03:27.342 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:03:27.344 +03:00 [DBG] Connection id "0HN73SPIL5I49", Request id "0HN73SPIL5I49:00000001": started reading request body.
2024-10-03 23:03:27.345 +03:00 [DBG] Connection id "0HN73SPIL5I49", Request id "0HN73SPIL5I49:00000001": done reading request body.
2024-10-03 23:03:27.346 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:03:27.348 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:03:27.349 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:03:27.350 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:03:27.352 +03:00 [ERR] Callback function
2024-10-03 23:03:27.353 +03:00 [ERR] 
2024-10-03 23:03:27.756 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 4417.8761ms
2024-10-03 23:03:27.776 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:03:27.803 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:03:27.809 +03:00 [DBG] Connection id "0HN73SPIL5I48" completed keep alive response.
2024-10-03 23:03:27.810 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 4482.6451ms
2024-10-03 23:03:28.391 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 1053.2534ms
2024-10-03 23:03:28.410 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:03:28.438 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:03:28.443 +03:00 [DBG] Connection id "0HN73SPIL5I49" completed keep alive response.
2024-10-03 23:03:28.445 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 1122.8044ms
2024-10-03 23:03:46.432 +03:00 [DBG] Connection id "0HN73SPIL5I4A" accepted.
2024-10-03 23:03:46.433 +03:00 [DBG] Connection id "0HN73SPIL5I4A" started.
2024-10-03 23:03:46.435 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:03:46.437 +03:00 [DBG] POST requests are not supported
2024-10-03 23:03:46.438 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:03:46.439 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:03:46.440 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:03:46.441 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:03:46.442 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:03:46.443 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:03:46.445 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:03:46.446 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:03:46.447 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:03:46.449 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:03:46.450 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:03:46.451 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:03:46.452 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:03:46.453 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:03:46.454 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:03:46.456 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:03:46.457 +03:00 [DBG] Connection id "0HN73SPIL5I4A", Request id "0HN73SPIL5I4A:00000001": started reading request body.
2024-10-03 23:03:46.457 +03:00 [DBG] Connection id "0HN73SPIL5I4A", Request id "0HN73SPIL5I4A:00000001": done reading request body.
2024-10-03 23:03:46.459 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:03:46.459 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:03:46.460 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:03:46.461 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:03:46.463 +03:00 [ERR] Callback function
2024-10-03 23:03:46.463 +03:00 [ERR] 
2024-10-03 23:03:47.179 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 729.1855ms
2024-10-03 23:03:47.203 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:03:47.235 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:03:47.240 +03:00 [DBG] Connection id "0HN73SPIL5I4A" completed keep alive response.
2024-10-03 23:03:47.241 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 806.7589ms
2024-10-03 23:03:55.029 +03:00 [DBG] Connection id "0HN73SPIL5I4B" accepted.
2024-10-03 23:03:55.030 +03:00 [DBG] Connection id "0HN73SPIL5I4B" started.
2024-10-03 23:03:55.031 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:03:55.032 +03:00 [DBG] POST requests are not supported
2024-10-03 23:03:55.032 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:03:55.033 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:03:55.034 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:03:55.034 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:03:55.035 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:03:55.036 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:03:55.036 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:03:55.037 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:03:55.038 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:03:55.039 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:03:55.040 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:03:55.041 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:03:55.042 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:03:55.042 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:03:55.043 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:03:55.044 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:03:55.044 +03:00 [DBG] Connection id "0HN73SPIL5I4B", Request id "0HN73SPIL5I4B:00000001": started reading request body.
2024-10-03 23:03:55.046 +03:00 [DBG] Connection id "0HN73SPIL5I4B", Request id "0HN73SPIL5I4B:00000001": done reading request body.
2024-10-03 23:03:55.046 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:03:55.047 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:03:55.048 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:03:55.049 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:03:55.049 +03:00 [ERR] Callback function
2024-10-03 23:03:55.050 +03:00 [ERR] 
2024-10-03 23:03:56.051 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 1011.0931ms
2024-10-03 23:03:56.074 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:03:56.103 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:03:56.108 +03:00 [DBG] Connection id "0HN73SPIL5I4B" completed keep alive response.
2024-10-03 23:03:56.109 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 1078.2668ms
2024-10-03 23:05:02.373 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 23:05:02.440 +03:00 [DBG] Hosting starting
2024-10-03 23:05:02.493 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 23:05:02.572 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 23:05:02.575 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 23:05:02.576 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 23:05:02.577 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 23:05:02.579 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 23:05:02.579 +03:00 [INF] Hosting environment: Development
2024-10-03 23:05:02.580 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 23:05:02.581 +03:00 [DBG] Hosting started
2024-10-03 23:05:03.031 +03:00 [DBG] Connection id "0HN73SQLFLC5I" accepted.
2024-10-03 23:05:03.032 +03:00 [DBG] Connection id "0HN73SQLFLC5I" started.
2024-10-03 23:05:03.048 +03:00 [DBG] Connection id "0HN73SQLFLC5I" received FIN.
2024-10-03 23:05:03.051 +03:00 [DBG] Connection id "0HN73SQLFLC5I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:05:03.054 +03:00 [DBG] Connection id "0HN73SQLFLC5I" disconnecting.
2024-10-03 23:05:03.056 +03:00 [DBG] Connection id "0HN73SQLFLC5I" stopped.
2024-10-03 23:05:03.656 +03:00 [DBG] Connection id "0HN73SQLFLC5J" accepted.
2024-10-03 23:05:03.657 +03:00 [DBG] Connection id "0HN73SQLFLC5J" started.
2024-10-03 23:05:03.663 +03:00 [DBG] Connection id "0HN73SQLFLC5K" accepted.
2024-10-03 23:05:03.664 +03:00 [DBG] Connection id "0HN73SQLFLC5K" started.
2024-10-03 23:05:03.694 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 23:05:03.787 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 23:05:03.794 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 23:05:03.805 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 23:05:03.807 +03:00 [DBG] Request did not match any endpoints
2024-10-03 23:05:03.825 +03:00 [DBG] Connection id "0HN73SQLFLC5J" completed keep alive response.
2024-10-03 23:05:03.827 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 139.6068ms
2024-10-03 23:05:03.832 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 23:05:06.673 +03:00 [DBG] Connection id "0HN73SQLFLC5L" accepted.
2024-10-03 23:05:06.673 +03:00 [DBG] Connection id "0HN73SQLFLC5L" started.
2024-10-03 23:05:06.675 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:05:06.677 +03:00 [DBG] POST requests are not supported
2024-10-03 23:05:06.679 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:05:06.681 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:05:06.682 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:05:06.685 +03:00 [DBG] Connection id "0HN73SQLFLC5L", Request id "0HN73SQLFLC5L:00000001": started reading request body.
2024-10-03 23:05:06.685 +03:00 [DBG] Connection id "0HN73SQLFLC5L", Request id "0HN73SQLFLC5L:00000001": done reading request body.
2024-10-03 23:05:06.768 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "711fa8dde2dfdab52f0fb8265ac0f8881e439144",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727985906,
      "from_id": 651565729,
      "id": 84,
      "version": 10000103,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 80,
      "fwd_messages": [],
      "text": "5",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:05:22.264 +03:00 [DBG] Connection id "0HN73SQLFLC5L" received FIN.
2024-10-03 23:05:22.264 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:05:22.266 +03:00 [DBG] Connection id "0HN73SQLFLC5L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:05:22.270 +03:00 [DBG] Connection id "0HN73SQLFLC5L" disconnecting.
2024-10-03 23:05:22.296 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:05:22.299 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:05:22.301 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:05:22.303 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:05:22.304 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:05:22.305 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:05:22.308 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:05:22.327 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:05:22.330 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:05:22.333 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:05:22.334 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:05:22.336 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:05:22.361 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:05:22.363 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:05:22.364 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:05:22.398 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:05:22.414 +03:00 [ERR] Callback function
2024-10-03 23:05:22.416 +03:00 [ERR] 
2024-10-03 23:05:24.386 +03:00 [DBG] Connection id "0HN73SQLFLC5M" accepted.
2024-10-03 23:05:24.387 +03:00 [DBG] Connection id "0HN73SQLFLC5M" started.
2024-10-03 23:05:24.389 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:05:24.391 +03:00 [DBG] POST requests are not supported
2024-10-03 23:05:24.392 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:05:24.393 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:05:24.394 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:05:24.395 +03:00 [DBG] Connection id "0HN73SQLFLC5M", Request id "0HN73SQLFLC5M:00000001": started reading request body.
2024-10-03 23:05:24.395 +03:00 [DBG] Connection id "0HN73SQLFLC5M", Request id "0HN73SQLFLC5M:00000001": done reading request body.
2024-10-03 23:05:24.396 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "711fa8dde2dfdab52f0fb8265ac0f8881e439144",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727985906,
      "from_id": 651565729,
      "id": 84,
      "version": 10000103,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 80,
      "fwd_messages": [],
      "text": "5",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:05:24.398 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:05:24.399 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:05:24.400 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:05:24.401 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:05:24.403 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:05:24.404 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:05:24.405 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:05:24.406 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:05:24.407 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:05:24.408 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:05:24.409 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:05:24.410 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:05:24.411 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:05:24.412 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:05:24.413 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:05:24.414 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:05:24.415 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:05:24.415 +03:00 [ERR] Callback function
2024-10-03 23:05:24.416 +03:00 [ERR] 
2024-10-03 23:05:25.452 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 3142.916ms
2024-10-03 23:05:25.475 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:05:25.518 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:05:25.559 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 18884.1882ms
2024-10-03 23:05:25.562 +03:00 [DBG] Connection id "0HN73SQLFLC5L" stopped.
2024-10-03 23:05:26.064 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 1657.8556ms
2024-10-03 23:05:26.086 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:05:26.129 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:05:26.140 +03:00 [DBG] Connection id "0HN73SQLFLC5M" completed keep alive response.
2024-10-03 23:05:26.144 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 1755.1025ms
2024-10-03 23:05:27.301 +03:00 [DBG] Connection id "0HN73SQLFLC5N" accepted.
2024-10-03 23:05:27.301 +03:00 [DBG] Connection id "0HN73SQLFLC5N" started.
2024-10-03 23:05:27.302 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:05:27.303 +03:00 [DBG] POST requests are not supported
2024-10-03 23:05:27.304 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:05:27.304 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:05:27.305 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:05:27.306 +03:00 [DBG] Connection id "0HN73SQLFLC5N", Request id "0HN73SQLFLC5N:00000001": started reading request body.
2024-10-03 23:05:27.307 +03:00 [DBG] Connection id "0HN73SQLFLC5N", Request id "0HN73SQLFLC5N:00000001": done reading request body.
2024-10-03 23:05:27.311 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "089fb735da4b30c9b3dbc5c309b91971327d735c",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727985113,
      "from_id": 651565729,
      "id": 70,
      "version": 10000089,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 66,
      "fwd_messages": [],
      "text": "2",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:05:27.312 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:05:27.313 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:05:27.314 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:05:27.314 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:05:27.316 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:05:27.317 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:05:27.317 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:05:27.318 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:05:27.319 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:05:27.319 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:05:27.320 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:05:27.321 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:05:27.321 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:05:27.322 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:05:27.323 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:05:27.324 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:05:27.325 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:05:27.325 +03:00 [ERR] Callback function
2024-10-03 23:05:27.326 +03:00 [ERR] 
2024-10-03 23:05:28.082 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 763.9234ms
2024-10-03 23:05:28.118 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:05:28.179 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:05:28.186 +03:00 [DBG] Connection id "0HN73SQLFLC5N" completed keep alive response.
2024-10-03 23:05:28.187 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 884.873ms
2024-10-03 23:05:39.322 +03:00 [DBG] Connection id "0HN73SQLFLC5O" accepted.
2024-10-03 23:05:39.323 +03:00 [DBG] Connection id "0HN73SQLFLC5O" started.
2024-10-03 23:05:39.324 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:05:39.325 +03:00 [DBG] POST requests are not supported
2024-10-03 23:05:39.325 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:05:39.326 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:05:39.327 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:05:39.327 +03:00 [DBG] Connection id "0HN73SQLFLC5O", Request id "0HN73SQLFLC5O:00000001": started reading request body.
2024-10-03 23:05:39.328 +03:00 [DBG] Connection id "0HN73SQLFLC5O", Request id "0HN73SQLFLC5O:00000001": done reading request body.
2024-10-03 23:05:39.329 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "2e96aa28c772f5eb2b210da1cd0567a53facc46e",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727985733,
      "from_id": 651565729,
      "id": 81,
      "version": 10000100,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 77,
      "fwd_messages": [],
      "text": "6",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:05:39.330 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:05:39.331 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:05:39.332 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:05:39.333 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:05:39.334 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:05:39.335 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:05:39.339 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:05:39.349 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:05:39.350 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:05:39.351 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:05:39.352 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:05:39.353 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:05:39.354 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:05:39.355 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:05:39.356 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:05:39.357 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:05:39.358 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:05:39.359 +03:00 [ERR] Callback function
2024-10-03 23:05:39.360 +03:00 [ERR] 
2024-10-03 23:05:40.069 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 720.2871ms
2024-10-03 23:05:40.090 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:05:40.133 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:05:40.138 +03:00 [DBG] Connection id "0HN73SQLFLC5O" completed keep alive response.
2024-10-03 23:05:40.139 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 814.9441ms
2024-10-03 23:06:03.797 +03:00 [DBG] Connection id "0HN73SQLFLC5K" received FIN.
2024-10-03 23:06:03.801 +03:00 [DBG] Connection id "0HN73SQLFLC5K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:06:03.802 +03:00 [DBG] Connection id "0HN73SQLFLC5K" disconnecting.
2024-10-03 23:06:03.805 +03:00 [DBG] Connection id "0HN73SQLFLC5K" stopped.
2024-10-03 23:08:50.993 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 23:08:51.074 +03:00 [DBG] Hosting starting
2024-10-03 23:08:51.128 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 23:08:51.201 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 23:08:51.202 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 23:08:51.203 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 23:08:51.204 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 23:08:51.205 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 23:08:51.206 +03:00 [INF] Hosting environment: Development
2024-10-03 23:08:51.207 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 23:08:51.208 +03:00 [DBG] Hosting started
2024-10-03 23:08:51.284 +03:00 [DBG] Connection id "0HN73SSPGETQL" accepted.
2024-10-03 23:08:51.284 +03:00 [DBG] Connection id "0HN73SSPGETQK" accepted.
2024-10-03 23:08:51.286 +03:00 [DBG] Connection id "0HN73SSPGETQL" started.
2024-10-03 23:08:51.286 +03:00 [DBG] Connection id "0HN73SSPGETQK" started.
2024-10-03 23:08:51.297 +03:00 [DBG] Connection id "0HN73SSPGETQL" received FIN.
2024-10-03 23:08:51.298 +03:00 [DBG] Connection id "0HN73SSPGETQK" received FIN.
2024-10-03 23:08:51.301 +03:00 [DBG] Connection id "0HN73SSPGETQL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:08:51.301 +03:00 [DBG] Connection id "0HN73SSPGETQK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:08:51.304 +03:00 [DBG] Connection id "0HN73SSPGETQL" disconnecting.
2024-10-03 23:08:51.304 +03:00 [DBG] Connection id "0HN73SSPGETQK" disconnecting.
2024-10-03 23:08:51.309 +03:00 [DBG] Connection id "0HN73SSPGETQL" stopped.
2024-10-03 23:08:51.309 +03:00 [DBG] Connection id "0HN73SSPGETQK" stopped.
2024-10-03 23:08:51.603 +03:00 [DBG] Connection id "0HN73SSPGETQM" accepted.
2024-10-03 23:08:51.604 +03:00 [DBG] Connection id "0HN73SSPGETQM" started.
2024-10-03 23:08:51.611 +03:00 [DBG] Connection id "0HN73SSPGETQN" accepted.
2024-10-03 23:08:51.612 +03:00 [DBG] Connection id "0HN73SSPGETQN" started.
2024-10-03 23:08:51.638 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 23:08:51.746 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 23:08:51.753 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 23:08:51.767 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 23:08:51.769 +03:00 [DBG] Request did not match any endpoints
2024-10-03 23:08:51.785 +03:00 [DBG] Connection id "0HN73SSPGETQM" completed keep alive response.
2024-10-03 23:08:51.788 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 157.9058ms
2024-10-03 23:08:51.793 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 23:08:54.692 +03:00 [DBG] Connection id "0HN73SSPGETQO" accepted.
2024-10-03 23:08:54.693 +03:00 [DBG] Connection id "0HN73SSPGETQO" started.
2024-10-03 23:08:54.694 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:08:54.697 +03:00 [DBG] POST requests are not supported
2024-10-03 23:08:54.700 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:08:54.703 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:08:54.704 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:08:54.706 +03:00 [DBG] Connection id "0HN73SSPGETQO", Request id "0HN73SSPGETQO:00000001": started reading request body.
2024-10-03 23:08:54.707 +03:00 [DBG] Connection id "0HN73SSPGETQO", Request id "0HN73SSPGETQO:00000001": done reading request body.
2024-10-03 23:08:54.791 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "775562c9c9be1707a267f28a25eb95cfe0b437a0",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986134,
      "from_id": 651565729,
      "id": 85,
      "version": 10000104,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 81,
      "fwd_messages": [],
      "text": "3",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:08:54.793 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:08:54.820 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:08:54.822 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:08:54.823 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:08:54.824 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:08:54.828 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:08:54.829 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:08:54.831 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:08:54.849 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:08:54.853 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:08:54.855 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:08:54.857 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:08:54.859 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:08:54.879 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:08:54.880 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:08:54.881 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:08:54.915 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:08:54.919 +03:00 [ERR] Callback function
2024-10-03 23:08:54.920 +03:00 [ERR] 
2024-10-03 23:08:57.625 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 2793.1198ms
2024-10-03 23:08:57.648 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:08:57.691 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:08:57.729 +03:00 [DBG] Connection id "0HN73SSPGETQO" completed keep alive response.
2024-10-03 23:08:57.730 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 3035.7703ms
2024-10-03 23:09:08.325 +03:00 [DBG] Connection id "0HN73SSPGETQP" accepted.
2024-10-03 23:09:08.326 +03:00 [DBG] Connection id "0HN73SSPGETQP" started.
2024-10-03 23:09:08.326 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:09:08.328 +03:00 [DBG] POST requests are not supported
2024-10-03 23:09:08.329 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:09:08.330 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:09:08.330 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:09:08.331 +03:00 [DBG] Connection id "0HN73SSPGETQP", Request id "0HN73SSPGETQP:00000001": started reading request body.
2024-10-03 23:09:08.332 +03:00 [DBG] Connection id "0HN73SSPGETQP", Request id "0HN73SSPGETQP:00000001": done reading request body.
2024-10-03 23:09:08.333 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "775562c9c9be1707a267f28a25eb95cfe0b437a0",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986134,
      "from_id": 651565729,
      "id": 85,
      "version": 10000104,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 81,
      "fwd_messages": [],
      "text": "3",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:09:08.334 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:09:08.335 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:09:08.336 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:09:08.336 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:09:08.337 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:09:08.338 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:09:08.339 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:09:08.340 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:09:08.340 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:09:08.341 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:09:08.342 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:09:08.344 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:09:08.345 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:09:08.346 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:09:08.347 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:09:08.347 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:09:08.348 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:09:08.349 +03:00 [ERR] Callback function
2024-10-03 23:09:08.349 +03:00 [ERR] 
2024-10-03 23:09:09.067 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 727.2483ms
2024-10-03 23:09:09.089 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:09:09.140 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:09:09.147 +03:00 [DBG] Connection id "0HN73SSPGETQP" completed keep alive response.
2024-10-03 23:09:09.148 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 821.9951ms
2024-10-03 23:09:16.311 +03:00 [DBG] Connection id "0HN73SSPGETQQ" accepted.
2024-10-03 23:09:16.314 +03:00 [DBG] Connection id "0HN73SSPGETQQ" started.
2024-10-03 23:09:16.316 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:09:16.318 +03:00 [DBG] POST requests are not supported
2024-10-03 23:09:16.318 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:09:16.319 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:09:16.320 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:09:16.321 +03:00 [DBG] Connection id "0HN73SSPGETQQ", Request id "0HN73SSPGETQQ:00000001": started reading request body.
2024-10-03 23:09:16.321 +03:00 [DBG] Connection id "0HN73SSPGETQQ", Request id "0HN73SSPGETQQ:00000001": done reading request body.
2024-10-03 23:09:16.322 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "75ce6a4fa283dcddf1b145508b58c03f8a055496",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727985341,
      "from_id": 651565729,
      "id": 74,
      "version": 10000093,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 70,
      "fwd_messages": [],
      "text": "8",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:09:16.323 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:09:16.324 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:09:16.325 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:09:16.326 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:09:16.328 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:09:16.329 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:09:16.330 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:09:16.331 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:09:16.332 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:09:16.334 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:09:16.335 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:09:16.336 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:09:16.337 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:09:16.338 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:09:16.339 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:09:16.340 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:09:16.341 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:09:16.342 +03:00 [ERR] Callback function
2024-10-03 23:09:16.343 +03:00 [ERR] 
2024-10-03 23:09:17.284 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 952.7862ms
2024-10-03 23:09:17.310 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:09:17.358 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:09:17.363 +03:00 [DBG] Connection id "0HN73SSPGETQQ" completed keep alive response.
2024-10-03 23:09:17.364 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 1048.1229ms
2024-10-03 23:09:34.082 +03:00 [DBG] Connection id "0HN73SSPGETQO" received FIN.
2024-10-03 23:09:34.082 +03:00 [DBG] Connection id "0HN73SSPGETQP" received FIN.
2024-10-03 23:09:34.082 +03:00 [DBG] Connection id "0HN73SSPGETQQ" received FIN.
2024-10-03 23:09:34.087 +03:00 [DBG] Connection id "0HN73SSPGETQO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:09:34.089 +03:00 [DBG] Connection id "0HN73SSPGETQP" disconnecting.
2024-10-03 23:09:34.099 +03:00 [DBG] Connection id "0HN73SSPGETQQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:09:34.101 +03:00 [DBG] Connection id "0HN73SSPGETQP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:09:34.103 +03:00 [DBG] Connection id "0HN73SSPGETQO" disconnecting.
2024-10-03 23:09:34.107 +03:00 [DBG] Connection id "0HN73SSPGETQQ" disconnecting.
2024-10-03 23:09:34.109 +03:00 [DBG] Connection id "0HN73SSPGETQO" stopped.
2024-10-03 23:09:34.110 +03:00 [DBG] Connection id "0HN73SSPGETQQ" stopped.
2024-10-03 23:09:34.115 +03:00 [DBG] Connection id "0HN73SSPGETQP" stopped.
2024-10-03 23:09:55.242 +03:00 [DBG] Connection id "0HN73SSPGETQN" received FIN.
2024-10-03 23:09:55.243 +03:00 [DBG] Connection id "0HN73SSPGETQN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:09:55.243 +03:00 [DBG] Connection id "0HN73SSPGETQN" disconnecting.
2024-10-03 23:09:55.244 +03:00 [DBG] Connection id "0HN73SSPGETQN" stopped.
2024-10-03 23:12:44.263 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 23:12:44.347 +03:00 [DBG] Hosting starting
2024-10-03 23:12:44.403 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 23:12:44.474 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 23:12:44.475 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 23:12:44.476 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 23:12:44.477 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 23:12:44.478 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 23:12:44.479 +03:00 [INF] Hosting environment: Development
2024-10-03 23:12:44.480 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 23:12:44.480 +03:00 [DBG] Hosting started
2024-10-03 23:12:44.542 +03:00 [DBG] Connection id "0HN73SUV0VCQK" accepted.
2024-10-03 23:12:44.542 +03:00 [DBG] Connection id "0HN73SUV0VCQL" accepted.
2024-10-03 23:12:44.543 +03:00 [DBG] Connection id "0HN73SUV0VCQK" started.
2024-10-03 23:12:44.543 +03:00 [DBG] Connection id "0HN73SUV0VCQL" started.
2024-10-03 23:12:44.559 +03:00 [DBG] Connection id "0HN73SUV0VCQL" received FIN.
2024-10-03 23:12:44.559 +03:00 [DBG] Connection id "0HN73SUV0VCQK" received FIN.
2024-10-03 23:12:44.564 +03:00 [DBG] Connection id "0HN73SUV0VCQK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:12:44.564 +03:00 [DBG] Connection id "0HN73SUV0VCQL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:12:44.566 +03:00 [DBG] Connection id "0HN73SUV0VCQK" disconnecting.
2024-10-03 23:12:44.568 +03:00 [DBG] Connection id "0HN73SUV0VCQL" disconnecting.
2024-10-03 23:12:44.577 +03:00 [DBG] Connection id "0HN73SUV0VCQK" stopped.
2024-10-03 23:12:44.577 +03:00 [DBG] Connection id "0HN73SUV0VCQL" stopped.
2024-10-03 23:12:44.792 +03:00 [DBG] Connection id "0HN73SUV0VCQM" accepted.
2024-10-03 23:12:44.793 +03:00 [DBG] Connection id "0HN73SUV0VCQM" started.
2024-10-03 23:12:44.799 +03:00 [DBG] Connection id "0HN73SUV0VCQN" accepted.
2024-10-03 23:12:44.801 +03:00 [DBG] Connection id "0HN73SUV0VCQN" started.
2024-10-03 23:12:44.825 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 23:12:44.936 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 23:12:44.941 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 23:12:44.950 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 23:12:44.951 +03:00 [DBG] Request did not match any endpoints
2024-10-03 23:12:44.965 +03:00 [DBG] Connection id "0HN73SUV0VCQM" completed keep alive response.
2024-10-03 23:12:44.967 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 147.46ms
2024-10-03 23:12:44.971 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 23:13:39.160 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 23:13:39.255 +03:00 [DBG] Hosting starting
2024-10-03 23:13:39.319 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 23:13:39.398 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 23:13:39.400 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 23:13:39.401 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 23:13:39.402 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 23:13:39.403 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 23:13:39.404 +03:00 [INF] Hosting environment: Development
2024-10-03 23:13:39.406 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 23:13:39.407 +03:00 [DBG] Hosting started
2024-10-03 23:13:39.423 +03:00 [DBG] Connection id "0HN73SVFCBRQD" received FIN.
2024-10-03 23:13:39.427 +03:00 [DBG] Connection id "0HN73SVFCBRQD" accepted.
2024-10-03 23:13:39.429 +03:00 [DBG] Connection id "0HN73SVFCBRQD" started.
2024-10-03 23:13:39.436 +03:00 [DBG] Connection id "0HN73SVFCBRQD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:13:39.439 +03:00 [DBG] Connection id "0HN73SVFCBRQD" disconnecting.
2024-10-03 23:13:39.444 +03:00 [DBG] Connection id "0HN73SVFCBRQD" stopped.
2024-10-03 23:13:39.829 +03:00 [DBG] Connection id "0HN73SVFCBRQE" accepted.
2024-10-03 23:13:39.830 +03:00 [DBG] Connection id "0HN73SVFCBRQE" started.
2024-10-03 23:13:39.836 +03:00 [DBG] Connection id "0HN73SVFCBRQF" accepted.
2024-10-03 23:13:39.839 +03:00 [DBG] Connection id "0HN73SVFCBRQF" started.
2024-10-03 23:13:39.870 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 23:13:39.993 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 23:13:40.000 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 23:13:40.012 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 23:13:40.014 +03:00 [DBG] Request did not match any endpoints
2024-10-03 23:13:40.032 +03:00 [DBG] Connection id "0HN73SVFCBRQE" completed keep alive response.
2024-10-03 23:13:40.036 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 175.6203ms
2024-10-03 23:13:40.044 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 23:14:35.006 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 23:14:35.091 +03:00 [DBG] Hosting starting
2024-10-03 23:14:35.166 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 23:14:35.245 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 23:14:35.246 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 23:14:35.247 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 23:14:35.248 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 23:14:35.248 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 23:14:35.249 +03:00 [INF] Hosting environment: Development
2024-10-03 23:14:35.250 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 23:14:35.251 +03:00 [DBG] Hosting started
2024-10-03 23:14:35.350 +03:00 [DBG] Connection id "0HN73T001NBQG" accepted.
2024-10-03 23:14:35.350 +03:00 [DBG] Connection id "0HN73T001NBQH" accepted.
2024-10-03 23:14:35.351 +03:00 [DBG] Connection id "0HN73T001NBQG" started.
2024-10-03 23:14:35.352 +03:00 [DBG] Connection id "0HN73T001NBQH" started.
2024-10-03 23:14:35.373 +03:00 [DBG] Connection id "0HN73T001NBQG" received FIN.
2024-10-03 23:14:35.373 +03:00 [DBG] Connection id "0HN73T001NBQH" received FIN.
2024-10-03 23:14:35.380 +03:00 [DBG] Connection id "0HN73T001NBQH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:14:35.380 +03:00 [DBG] Connection id "0HN73T001NBQG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:14:35.383 +03:00 [DBG] Connection id "0HN73T001NBQH" disconnecting.
2024-10-03 23:14:35.384 +03:00 [DBG] Connection id "0HN73T001NBQG" disconnecting.
2024-10-03 23:14:35.392 +03:00 [DBG] Connection id "0HN73T001NBQG" stopped.
2024-10-03 23:14:35.392 +03:00 [DBG] Connection id "0HN73T001NBQH" stopped.
2024-10-03 23:14:36.329 +03:00 [DBG] Connection id "0HN73T001NBQI" accepted.
2024-10-03 23:14:36.331 +03:00 [DBG] Connection id "0HN73T001NBQI" started.
2024-10-03 23:14:36.334 +03:00 [DBG] Connection id "0HN73T001NBQJ" accepted.
2024-10-03 23:14:36.336 +03:00 [DBG] Connection id "0HN73T001NBQJ" started.
2024-10-03 23:14:36.367 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 23:14:36.495 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 23:14:36.500 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 23:14:36.511 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 23:14:36.512 +03:00 [DBG] Request did not match any endpoints
2024-10-03 23:14:39.939 +03:00 [DBG] Connection id "0HN73T001NBQI" completed keep alive response.
2024-10-03 23:14:39.941 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 3579.2185ms
2024-10-03 23:14:39.946 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 23:15:15.346 +03:00 [DBG] Connection id "0HN73T001NBQK" accepted.
2024-10-03 23:15:15.352 +03:00 [DBG] Connection id "0HN73T001NBQK" started.
2024-10-03 23:15:15.357 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 566
2024-10-03 23:15:15.359 +03:00 [DBG] POST requests are not supported
2024-10-03 23:15:15.363 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:15:15.366 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:15:15.368 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:15:28.151 +03:00 [DBG] Connection id "0HN73T001NBQK" received FIN.
2024-10-03 23:15:28.154 +03:00 [DBG] Connection id "0HN73T001NBQL" received FIN.
2024-10-03 23:15:28.158 +03:00 [DBG] Connection id "0HN73T001NBQK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:15:28.159 +03:00 [DBG] Connection id "0HN73T001NBQL" accepted.
2024-10-03 23:15:28.160 +03:00 [DBG] Connection id "0HN73T001NBQK", Request id "0HN73T001NBQK:00000001": started reading request body.
2024-10-03 23:15:28.160 +03:00 [DBG] Connection id "0HN73T001NBQK" disconnecting.
2024-10-03 23:15:28.161 +03:00 [DBG] Connection id "0HN73T001NBQL" started.
2024-10-03 23:15:28.164 +03:00 [DBG] Connection id "0HN73T001NBQM" accepted.
2024-10-03 23:15:28.165 +03:00 [DBG] Connection id "0HN73T001NBQL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:15:28.166 +03:00 [DBG] Connection id "0HN73T001NBQM" started.
2024-10-03 23:15:28.170 +03:00 [DBG] Connection id "0HN73T001NBQN" accepted.
2024-10-03 23:15:28.184 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 566
2024-10-03 23:15:28.184 +03:00 [DBG] Connection id "0HN73T001NBQN" started.
2024-10-03 23:15:28.185 +03:00 [DBG] Connection id "0HN73T001NBQO" accepted.
2024-10-03 23:15:28.200 +03:00 [DBG] Connection id "0HN73T001NBQL" disconnecting.
2024-10-03 23:15:28.213 +03:00 [DBG] Connection id "0HN73T001NBQO" started.
2024-10-03 23:15:28.215 +03:00 [DBG] Connection id "0HN73T001NBQP" accepted.
2024-10-03 23:15:28.240 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 566
2024-10-03 23:15:28.251 +03:00 [DBG] Connection id "0HN73T001NBQP" started.
2024-10-03 23:15:28.284 +03:00 [DBG] The request was aborted by the client.
2024-10-03 23:15:28.285 +03:00 [DBG] POST requests are not supported
2024-10-03 23:15:28.286 +03:00 [DBG] POST requests are not supported
2024-10-03 23:15:28.287 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 567
2024-10-03 23:15:28.287 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 567
2024-10-03 23:15:28.288 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 567
2024-10-03 23:15:28.289 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 12932.42ms
2024-10-03 23:15:28.289 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:15:28.290 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:15:28.292 +03:00 [DBG] POST requests are not supported
2024-10-03 23:15:28.294 +03:00 [DBG] POST requests are not supported
2024-10-03 23:15:28.298 +03:00 [DBG] POST requests are not supported
2024-10-03 23:15:28.300 +03:00 [DBG] Connection id "0HN73T001NBQK", Request id "0HN73T001NBQK:00000001": done reading request body.
2024-10-03 23:15:28.301 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:15:28.302 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:15:28.302 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:15:28.303 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:15:28.304 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:15:28.321 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:15:28.321 +03:00 [DBG] Connection id "0HN73T001NBQK" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 23:15:32.392 +03:00 [DBG] Connection id "0HN73T001NBQO" received FIN.
2024-10-03 23:15:32.391 +03:00 [DBG] Connection id "0HN73T001NBQL", Request id "0HN73T001NBQL:00000001": started reading request body.
2024-10-03 23:15:32.392 +03:00 [DBG] Connection id "0HN73T001NBQN" received FIN.
2024-10-03 23:15:32.392 +03:00 [DBG] Connection id "0HN73T001NBQM" received FIN.
2024-10-03 23:15:28.322 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:15:28.326 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:15:28.333 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:15:32.394 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:15:32.398 +03:00 [DBG] Connection id "0HN73T001NBQP" received FIN.
2024-10-03 23:15:32.413 +03:00 [DBG] Connection id "0HN73T001NBQK" stopped.
2024-10-03 23:15:32.414 +03:00 [DBG] Connection id "0HN73T001NBQO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:15:32.429 +03:00 [DBG] Connection id "0HN73T001NBQN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:15:32.480 +03:00 [DBG] Connection id "0HN73T001NBQO" disconnecting.
2024-10-03 23:15:32.490 +03:00 [DBG] Connection id "0HN73T001NBQM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:15:32.505 +03:00 [DBG] Connection id "0HN73T001NBQM", Request id "0HN73T001NBQM:00000001": started reading request body.
2024-10-03 23:15:32.512 +03:00 [DBG] The request was aborted by the client.
2024-10-03 23:15:32.513 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:15:32.516 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:15:32.517 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:15:32.518 +03:00 [DBG] Connection id "0HN73T001NBQP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:15:32.519 +03:00 [DBG] Connection id "0HN73T001NBQN" disconnecting.
2024-10-03 23:15:32.520 +03:00 [DBG] Connection id "0HN73T001NBQM" disconnecting.
2024-10-03 23:15:32.521 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 4281.9714ms
2024-10-03 23:15:32.521 +03:00 [DBG] Connection id "0HN73T001NBQN", Request id "0HN73T001NBQN:00000001": started reading request body.
2024-10-03 23:15:32.522 +03:00 [DBG] Connection id "0HN73T001NBQO", Request id "0HN73T001NBQO:00000001": started reading request body.
2024-10-03 23:15:32.523 +03:00 [DBG] Connection id "0HN73T001NBQP", Request id "0HN73T001NBQP:00000001": started reading request body.
2024-10-03 23:15:32.524 +03:00 [DBG] Connection id "0HN73T001NBQP" disconnecting.
2024-10-03 23:15:32.606 +03:00 [DBG] Connection id "0HN73T001NBQL", Request id "0HN73T001NBQL:00000001": done reading request body.
2024-10-03 23:15:32.623 +03:00 [DBG] The request was aborted by the client.
2024-10-03 23:15:32.640 +03:00 [DBG] Connection id "0HN73T001NBQL" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 23:15:32.653 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 4468.8027ms
2024-10-03 23:15:32.712 +03:00 [DBG] Connection id "0HN73T001NBQL" stopped.
2024-10-03 23:15:32.739 +03:00 [DBG] The request was aborted by the client.
2024-10-03 23:15:32.740 +03:00 [DBG] Connection id "0HN73T001NBQM", Request id "0HN73T001NBQM:00000001": done reading request body.
2024-10-03 23:15:32.781 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 4488.8065ms
2024-10-03 23:15:32.871 +03:00 [DBG] Connection id "0HN73T001NBQN", Request id "0HN73T001NBQN:00000001": done reading request body.
2024-10-03 23:15:32.885 +03:00 [DBG] Connection id "0HN73T001NBQM" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 23:15:32.931 +03:00 [DBG] Connection id "0HN73T001NBQM" stopped.
2024-10-03 23:15:32.939 +03:00 [DBG] The request was aborted by the client.
2024-10-03 23:15:32.946 +03:00 [DBG] Connection id "0HN73T001NBQN" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 23:15:32.950 +03:00 [DBG] The request was aborted by the client.
2024-10-03 23:15:32.950 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 4662.0795ms
2024-10-03 23:15:32.953 +03:00 [DBG] Connection id "0HN73T001NBQN" stopped.
2024-10-03 23:15:32.953 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 4665.6982ms
2024-10-03 23:15:32.955 +03:00 [DBG] Connection id "0HN73T001NBQP", Request id "0HN73T001NBQP:00000001": done reading request body.
2024-10-03 23:15:32.959 +03:00 [DBG] Connection id "0HN73T001NBQO", Request id "0HN73T001NBQO:00000001": done reading request body.
2024-10-03 23:15:32.989 +03:00 [DBG] Connection id "0HN73T001NBQP" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 23:15:32.995 +03:00 [DBG] Connection id "0HN73T001NBQO" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 23:15:32.997 +03:00 [DBG] Connection id "0HN73T001NBQP" stopped.
2024-10-03 23:15:32.999 +03:00 [DBG] Connection id "0HN73T001NBQO" stopped.
2024-10-03 23:15:35.304 +03:00 [DBG] Connection id "0HN73T001NBQQ" accepted.
2024-10-03 23:15:35.305 +03:00 [DBG] Connection id "0HN73T001NBQQ" started.
2024-10-03 23:15:35.306 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 566
2024-10-03 23:15:35.307 +03:00 [DBG] POST requests are not supported
2024-10-03 23:15:35.308 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:15:35.308 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:15:35.309 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:15:35.310 +03:00 [DBG] Connection id "0HN73T001NBQQ", Request id "0HN73T001NBQQ:00000001": started reading request body.
2024-10-03 23:15:35.310 +03:00 [DBG] Connection id "0HN73T001NBQQ", Request id "0HN73T001NBQQ:00000001": done reading request body.
2024-10-03 23:15:35.424 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "4e81beae7193d3fb983d2efe9f3339ee6532cbf4",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986517,
      "from_id": 651565729,
      "id": 102,
      "version": 10000121,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 98,
      "fwd_messages": [],
      "text": "5",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:15:35.427 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:15:35.455 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:15:35.458 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:15:35.459 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:15:35.460 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:15:35.462 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:15:35.464 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:15:35.466 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:15:35.486 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:15:35.493 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:15:35.496 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:15:35.498 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:15:35.500 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:15:35.520 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:15:35.522 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:15:35.523 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:15:35.562 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:15:35.566 +03:00 [ERR] Callback function
2024-10-03 23:15:35.567 +03:00 [ERR] 
2024-10-03 23:15:37.602 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 2135.7583ms
2024-10-03 23:15:37.628 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:15:37.682 +03:00 [ERR] An unhandled exception has occurred while executing the request.
VkNet.Exception.ParameterMissingOrInvalidException: One of the parameters specified was missing or invalid: you should specify peer_id, user_id, domain, chat_id or user_ids param
   at VkNet.Utils.VkErrors.IfErrorThrowException(String json)
   at VkNet.VkApi.Invoke(String methodName, IDictionary`2 parameters, Boolean skipAuthorization)
   at VkNet.VkApi.CallBase(String methodName, VkParameters parameters, Boolean skipAuthorization)
   at VkNet.VkApi.Call[T](String methodName, VkParameters parameters, Boolean skipAuthorization, JsonConverter[] jsonConverters)
   at VkNet.Categories.MessagesCategory.Send(MessagesSendParams params)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:15:37.691 +03:00 [DBG] Connection id "0HN73T001NBQQ" completed keep alive response.
2024-10-03 23:15:37.692 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 2386.4099ms
2024-10-03 23:16:08.161 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 23:16:08.238 +03:00 [DBG] Hosting starting
2024-10-03 23:16:08.293 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 23:16:08.365 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 23:16:08.365 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 23:16:08.366 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 23:16:08.367 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 23:16:08.368 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 23:16:08.369 +03:00 [INF] Hosting environment: Development
2024-10-03 23:16:08.369 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 23:16:08.370 +03:00 [DBG] Hosting started
2024-10-03 23:16:08.590 +03:00 [DBG] Connection id "0HN73T0RQU59J" accepted.
2024-10-03 23:16:08.591 +03:00 [DBG] Connection id "0HN73T0RQU59K" accepted.
2024-10-03 23:16:08.593 +03:00 [DBG] Connection id "0HN73T0RQU59J" started.
2024-10-03 23:16:08.593 +03:00 [DBG] Connection id "0HN73T0RQU59K" started.
2024-10-03 23:16:08.607 +03:00 [DBG] Connection id "0HN73T0RQU59K" received FIN.
2024-10-03 23:16:08.607 +03:00 [DBG] Connection id "0HN73T0RQU59J" received FIN.
2024-10-03 23:16:08.613 +03:00 [DBG] Connection id "0HN73T0RQU59K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:16:08.613 +03:00 [DBG] Connection id "0HN73T0RQU59J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:16:08.616 +03:00 [DBG] Connection id "0HN73T0RQU59K" disconnecting.
2024-10-03 23:16:08.622 +03:00 [DBG] Connection id "0HN73T0RQU59J" disconnecting.
2024-10-03 23:16:08.624 +03:00 [DBG] Connection id "0HN73T0RQU59J" stopped.
2024-10-03 23:16:08.624 +03:00 [DBG] Connection id "0HN73T0RQU59K" stopped.
2024-10-03 23:16:08.973 +03:00 [DBG] Connection id "0HN73T0RQU59L" accepted.
2024-10-03 23:16:08.974 +03:00 [DBG] Connection id "0HN73T0RQU59L" started.
2024-10-03 23:16:08.977 +03:00 [DBG] Connection id "0HN73T0RQU59M" accepted.
2024-10-03 23:16:08.978 +03:00 [DBG] Connection id "0HN73T0RQU59M" started.
2024-10-03 23:16:09.006 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 23:16:09.114 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 23:16:09.119 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 23:16:09.130 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 23:16:09.133 +03:00 [DBG] Request did not match any endpoints
2024-10-03 23:16:09.148 +03:00 [DBG] Connection id "0HN73T0RQU59L" completed keep alive response.
2024-10-03 23:16:09.151 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 150.614ms
2024-10-03 23:16:09.155 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 23:16:37.314 +03:00 [DBG] Connection id "0HN73T0RQU59N" accepted.
2024-10-03 23:16:37.318 +03:00 [DBG] Connection id "0HN73T0RQU59N" started.
2024-10-03 23:16:37.321 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 567
2024-10-03 23:16:37.324 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:37.328 +03:00 [DBG] Connection id "0HN73T0RQU59O" accepted.
2024-10-03 23:16:37.333 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:37.333 +03:00 [DBG] Connection id "0HN73T0RQU59O" started.
2024-10-03 23:16:37.336 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:16:37.338 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:37.341 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:37.342 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:37.342 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:37.345 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:37.346 +03:00 [DBG] Connection id "0HN73T0RQU59N", Request id "0HN73T0RQU59N:00000001": started reading request body.
2024-10-03 23:16:37.347 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:37.348 +03:00 [DBG] Connection id "0HN73T0RQU59N", Request id "0HN73T0RQU59N:00000001": done reading request body.
2024-10-03 23:16:37.349 +03:00 [DBG] Connection id "0HN73T0RQU59O", Request id "0HN73T0RQU59O:00000001": started reading request body.
2024-10-03 23:16:37.351 +03:00 [DBG] Connection id "0HN73T0RQU59O", Request id "0HN73T0RQU59O:00000001": done reading request body.
2024-10-03 23:16:37.455 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "5415f4cc1eba4f900c1599716aee4fece9d9c0f6",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727985789,
      "from_id": 651565729,
      "id": 82,
      "version": 10000101,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 78,
      "fwd_messages": [],
      "text": "6",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:16:37.455 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "a21a1b572540cee7754d5b374363954939d7b89e",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986587,
      "from_id": 651565729,
      "id": 110,
      "version": 10000129,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 106,
      "fwd_messages": [],
      "text": "5",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:16:37.458 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:37.459 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:37.491 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:37.491 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:37.494 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:37.495 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:37.496 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:37.497 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:37.499 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:37.500 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:37.502 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:37.504 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:37.505 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:37.506 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:37.508 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:37.508 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:37.528 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:37.528 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:37.532 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:37.532 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:37.535 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:37.535 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:37.537 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:37.538 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:37.541 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:37.541 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:37.570 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:37.570 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:37.571 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:37.572 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:37.574 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:37.575 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:37.620 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:37.620 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:37.624 +03:00 [ERR] Callback function
2024-10-03 23:16:37.624 +03:00 [ERR] Callback function
2024-10-03 23:16:37.625 +03:00 [ERR] 
2024-10-03 23:16:37.626 +03:00 [ERR] 
2024-10-03 23:16:38.307 +03:00 [DBG] Connection id "0HN73T0RQU59P" accepted.
2024-10-03 23:16:38.309 +03:00 [DBG] Connection id "0HN73T0RQU59P" started.
2024-10-03 23:16:38.310 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:16:38.312 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:38.314 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:38.315 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:38.316 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:38.317 +03:00 [DBG] Connection id "0HN73T0RQU59P", Request id "0HN73T0RQU59P:00000001": started reading request body.
2024-10-03 23:16:38.319 +03:00 [DBG] Connection id "0HN73T0RQU59P", Request id "0HN73T0RQU59P:00000001": done reading request body.
2024-10-03 23:16:38.320 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "f7a5c4008371144b4bc4371b3492348193a8db7c",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986408,
      "from_id": 651565729,
      "id": 89,
      "version": 10000108,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 85,
      "fwd_messages": [],
      "text": "5",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:16:38.322 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:38.323 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:38.330 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:38.332 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:38.334 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:38.335 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:38.336 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:38.337 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:38.341 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:38.343 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:38.344 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:38.345 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:38.346 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:38.347 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:38.348 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:38.349 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:38.350 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:38.352 +03:00 [ERR] Callback function
2024-10-03 23:16:38.353 +03:00 [ERR] 
2024-10-03 23:16:39.608 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:39.614 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:39.614 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:39.615 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:39.616 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:39.617 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:39.620 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 2110.1937ms
2024-10-03 23:16:39.622 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:39.623 +03:00 [DBG] Connection id "0HN73T0RQU59O" completed keep alive response.
2024-10-03 23:16:39.624 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 2287.7994ms
2024-10-03 23:16:39.834 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:39.837 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:39.837 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:39.838 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:39.838 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:39.839 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:39.840 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 2332.873ms
2024-10-03 23:16:39.841 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:39.841 +03:00 [DBG] Connection id "0HN73T0RQU59N" completed keep alive response.
2024-10-03 23:16:39.842 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 2521.4903ms
2024-10-03 23:16:40.340 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:40.342 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:40.343 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:40.343 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:40.344 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:40.345 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:40.347 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 2009.4979ms
2024-10-03 23:16:40.348 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:40.349 +03:00 [DBG] Connection id "0HN73T0RQU59P" completed keep alive response.
2024-10-03 23:16:40.350 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 2040.0595ms
2024-10-03 23:16:40.445 +03:00 [DBG] Connection id "0HN73T0RQU59Q" accepted.
2024-10-03 23:16:40.451 +03:00 [DBG] Connection id "0HN73T0RQU59Q" started.
2024-10-03 23:16:40.452 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:16:40.453 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:40.454 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:40.454 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:40.455 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:40.456 +03:00 [DBG] Connection id "0HN73T0RQU59Q", Request id "0HN73T0RQU59Q:00000001": started reading request body.
2024-10-03 23:16:40.456 +03:00 [DBG] Connection id "0HN73T0RQU59Q", Request id "0HN73T0RQU59Q:00000001": done reading request body.
2024-10-03 23:16:40.457 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "0b5c90d064ec5a1955efc7c4d2cf2fb22429b9cc",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 112,
    "conversation_message_id": 108
  }
}
2024-10-03 23:16:40.458 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:40.458 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:40.460 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:40.461 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:40.462 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:40.463 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:40.464 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:40.465 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:40.465 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:40.466 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:40.467 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:40.468 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:40.468 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:40.469 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:40.470 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:40.470 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:40.471 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:40.472 +03:00 [ERR] Callback function
2024-10-03 23:16:40.472 +03:00 [ERR] 
2024-10-03 23:16:40.909 +03:00 [DBG] Connection id "0HN73T0RQU59R" accepted.
2024-10-03 23:16:40.910 +03:00 [DBG] Connection id "0HN73T0RQU59R" started.
2024-10-03 23:16:40.911 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:16:40.916 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:40.916 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:40.917 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:40.917 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:40.918 +03:00 [DBG] Connection id "0HN73T0RQU59R", Request id "0HN73T0RQU59R:00000001": started reading request body.
2024-10-03 23:16:40.919 +03:00 [DBG] Connection id "0HN73T0RQU59R", Request id "0HN73T0RQU59R:00000001": done reading request body.
2024-10-03 23:16:40.921 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "ea48f7e00d49f9c14d585daa98a27f85b715521a",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 113,
    "conversation_message_id": 109
  }
}
2024-10-03 23:16:40.921 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:40.922 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:40.923 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:40.924 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:40.925 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:40.927 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:40.928 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:40.930 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:40.931 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:40.932 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:40.933 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:40.934 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:40.935 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:40.936 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:40.937 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:40.938 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:40.939 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:40.940 +03:00 [ERR] Callback function
2024-10-03 23:16:40.941 +03:00 [ERR] 
2024-10-03 23:16:41.444 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:41.445 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:41.445 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:41.445 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:41.446 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:41.447 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:41.448 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 983.4811ms
2024-10-03 23:16:41.448 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:41.449 +03:00 [DBG] Connection id "0HN73T0RQU59Q" completed keep alive response.
2024-10-03 23:16:41.449 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 997.4851ms
2024-10-03 23:16:41.891 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:41.892 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:41.893 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:41.893 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:41.894 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:41.894 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:41.895 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 965.6046ms
2024-10-03 23:16:41.896 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:41.896 +03:00 [DBG] Connection id "0HN73T0RQU59R" completed keep alive response.
2024-10-03 23:16:41.897 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 985.6726ms
2024-10-03 23:16:42.133 +03:00 [DBG] Connection id "0HN73T0RQU59S" accepted.
2024-10-03 23:16:42.134 +03:00 [DBG] Connection id "0HN73T0RQU59S" started.
2024-10-03 23:16:42.135 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:16:42.136 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:42.137 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:42.137 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:42.138 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:42.139 +03:00 [DBG] Connection id "0HN73T0RQU59S", Request id "0HN73T0RQU59S:00000001": started reading request body.
2024-10-03 23:16:42.139 +03:00 [DBG] Connection id "0HN73T0RQU59S", Request id "0HN73T0RQU59S:00000001": done reading request body.
2024-10-03 23:16:42.140 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "2730f336a05b87700567dfafbbaf113ca54be426",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 114,
    "conversation_message_id": 110
  }
}
2024-10-03 23:16:42.141 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:42.141 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:42.143 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:42.144 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:42.144 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:42.145 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:42.146 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:42.147 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:42.148 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:42.148 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:42.149 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:42.150 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:42.150 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:42.151 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:42.152 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:42.153 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:42.154 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:42.154 +03:00 [ERR] Callback function
2024-10-03 23:16:42.155 +03:00 [ERR] 
2024-10-03 23:16:43.251 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:43.253 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:43.253 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:43.254 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:43.254 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:43.255 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:43.255 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 1108.6215ms
2024-10-03 23:16:43.256 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:43.256 +03:00 [DBG] Connection id "0HN73T0RQU59S" completed keep alive response.
2024-10-03 23:16:43.257 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 1121.7301ms
2024-10-03 23:16:43.785 +03:00 [DBG] Connection id "0HN73T0RQU59T" accepted.
2024-10-03 23:16:43.786 +03:00 [DBG] Connection id "0HN73T0RQU59T" started.
2024-10-03 23:16:43.787 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:16:43.788 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:43.789 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:43.790 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:43.790 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:43.791 +03:00 [DBG] Connection id "0HN73T0RQU59T", Request id "0HN73T0RQU59T:00000001": started reading request body.
2024-10-03 23:16:43.792 +03:00 [DBG] Connection id "0HN73T0RQU59T", Request id "0HN73T0RQU59T:00000001": done reading request body.
2024-10-03 23:16:43.793 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "2bca23fde6fc71e81d476e9457c90b37f7c10747",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 116,
    "conversation_message_id": 112
  }
}
2024-10-03 23:16:43.794 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:43.796 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:43.797 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:43.798 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:43.798 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:43.799 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:43.800 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:43.801 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:43.801 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:43.802 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:43.803 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:43.804 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:43.805 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:43.806 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:43.807 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:43.808 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:43.809 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:43.812 +03:00 [ERR] Callback function
2024-10-03 23:16:43.814 +03:00 [ERR] 
2024-10-03 23:16:44.318 +03:00 [DBG] Connection id "0HN73T0RQU59U" accepted.
2024-10-03 23:16:44.325 +03:00 [DBG] Connection id "0HN73T0RQU59U" started.
2024-10-03 23:16:44.326 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:16:44.327 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:44.327 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:44.328 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:44.329 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:44.330 +03:00 [DBG] Connection id "0HN73T0RQU59U", Request id "0HN73T0RQU59U:00000001": started reading request body.
2024-10-03 23:16:44.332 +03:00 [DBG] Connection id "0HN73T0RQU59U", Request id "0HN73T0RQU59U:00000001": done reading request body.
2024-10-03 23:16:44.333 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "ec438aa58306162a6d2015318a7f4f090e597745",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727984003,
      "from_id": 651565729,
      "id": 55,
      "version": 10000074,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 51,
      "fwd_messages": [],
      "text": "2",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:16:44.334 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:44.335 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:44.336 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:44.337 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:44.341 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:44.343 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:44.344 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:44.346 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:44.347 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:44.348 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:44.349 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:44.350 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:44.350 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:44.353 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:44.354 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:44.355 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:44.356 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:44.357 +03:00 [ERR] Callback function
2024-10-03 23:16:44.358 +03:00 [ERR] 
2024-10-03 23:16:44.567 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:44.569 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:44.569 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:44.570 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:44.570 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:44.571 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:44.572 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 771.2244ms
2024-10-03 23:16:44.572 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:44.573 +03:00 [DBG] Connection id "0HN73T0RQU59T" completed keep alive response.
2024-10-03 23:16:44.574 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 786.8386ms
2024-10-03 23:16:45.064 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:45.065 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:45.066 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:45.066 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:45.066 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:45.067 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:45.068 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 722.2683ms
2024-10-03 23:16:45.068 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:45.068 +03:00 [DBG] Connection id "0HN73T0RQU59U" completed keep alive response.
2024-10-03 23:16:45.069 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 742.9839ms
2024-10-03 23:16:45.245 +03:00 [DBG] Connection id "0HN73T0RQU59V" accepted.
2024-10-03 23:16:45.246 +03:00 [DBG] Connection id "0HN73T0RQU59V" started.
2024-10-03 23:16:45.247 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:16:45.250 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:45.251 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:45.252 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:45.253 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:45.254 +03:00 [DBG] Connection id "0HN73T0RQU59V", Request id "0HN73T0RQU59V:00000001": started reading request body.
2024-10-03 23:16:45.255 +03:00 [DBG] Connection id "0HN73T0RQU59V", Request id "0HN73T0RQU59V:00000001": done reading request body.
2024-10-03 23:16:45.255 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "9d31b653ae3340b9f6aac7db1aa6fd0d93e811fd",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 117,
    "conversation_message_id": 113
  }
}
2024-10-03 23:16:45.257 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:45.257 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:45.259 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:45.260 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:45.261 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:45.263 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:45.264 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:45.265 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:45.266 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:45.267 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:45.268 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:45.269 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:45.270 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:45.270 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:45.271 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:45.273 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:45.274 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:45.275 +03:00 [ERR] Callback function
2024-10-03 23:16:45.276 +03:00 [ERR] 
2024-10-03 23:16:45.683 +03:00 [DBG] Connection id "0HN73T0RQU5A0" accepted.
2024-10-03 23:16:45.684 +03:00 [DBG] Connection id "0HN73T0RQU5A0" started.
2024-10-03 23:16:45.685 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:16:45.687 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:45.688 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:45.688 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:45.689 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:45.690 +03:00 [DBG] Connection id "0HN73T0RQU5A0", Request id "0HN73T0RQU5A0:00000001": started reading request body.
2024-10-03 23:16:45.691 +03:00 [DBG] Connection id "0HN73T0RQU5A0", Request id "0HN73T0RQU5A0:00000001": done reading request body.
2024-10-03 23:16:45.692 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "2f49793510dc3d2a48527d219e5fe515ef9ff2c5",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 118,
    "conversation_message_id": 114
  }
}
2024-10-03 23:16:45.693 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:45.694 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:45.695 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:45.696 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:45.697 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:45.699 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:45.700 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:45.701 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:45.702 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:45.703 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:45.705 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:45.706 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:45.707 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:45.708 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:45.709 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:45.710 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:45.711 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:45.714 +03:00 [ERR] Callback function
2024-10-03 23:16:45.714 +03:00 [ERR] 
2024-10-03 23:16:45.989 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:45.991 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:45.991 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:45.992 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:45.992 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:45.993 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:45.993 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 728.3354ms
2024-10-03 23:16:45.994 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:45.994 +03:00 [DBG] Connection id "0HN73T0RQU59V" completed keep alive response.
2024-10-03 23:16:45.995 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 747.396ms
2024-10-03 23:16:46.500 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:46.501 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:46.502 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:46.502 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:46.503 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:46.503 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:46.504 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 802.7961ms
2024-10-03 23:16:46.504 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:46.505 +03:00 [DBG] Connection id "0HN73T0RQU5A0" completed keep alive response.
2024-10-03 23:16:46.505 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 820.3955ms
2024-10-03 23:16:46.727 +03:00 [DBG] Connection id "0HN73T0RQU5A1" accepted.
2024-10-03 23:16:46.728 +03:00 [DBG] Connection id "0HN73T0RQU5A1" started.
2024-10-03 23:16:46.729 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:16:46.731 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:46.731 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:46.733 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:46.734 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:46.734 +03:00 [DBG] Connection id "0HN73T0RQU5A1", Request id "0HN73T0RQU5A1:00000001": started reading request body.
2024-10-03 23:16:46.735 +03:00 [DBG] Connection id "0HN73T0RQU5A1", Request id "0HN73T0RQU5A1:00000001": done reading request body.
2024-10-03 23:16:46.736 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "ddfbc99667600559c6cc569b7ceb0235facc84e2",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 119,
    "conversation_message_id": 115
  }
}
2024-10-03 23:16:46.737 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:46.738 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:46.739 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:46.740 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:46.741 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:46.744 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:46.745 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:46.746 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:46.747 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:46.748 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:46.749 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:46.750 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:46.751 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:46.752 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:46.753 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:46.754 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:46.755 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:46.756 +03:00 [ERR] Callback function
2024-10-03 23:16:46.757 +03:00 [ERR] 
2024-10-03 23:16:47.143 +03:00 [DBG] Connection id "0HN73T0RQU5A2" accepted.
2024-10-03 23:16:47.144 +03:00 [DBG] Connection id "0HN73T0RQU5A2" started.
2024-10-03 23:16:47.145 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:16:47.146 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:47.147 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:47.148 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:47.148 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:47.149 +03:00 [DBG] Connection id "0HN73T0RQU5A2", Request id "0HN73T0RQU5A2:00000001": started reading request body.
2024-10-03 23:16:47.150 +03:00 [DBG] Connection id "0HN73T0RQU5A2", Request id "0HN73T0RQU5A2:00000001": done reading request body.
2024-10-03 23:16:47.150 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "b57eb14e77de8f7da31dc94adcc79b7f0d767b3a",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 120,
    "conversation_message_id": 116
  }
}
2024-10-03 23:16:47.152 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:47.153 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:47.154 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:47.155 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:47.155 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:47.156 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:47.157 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:47.158 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:47.159 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:47.159 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:47.160 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:47.161 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:47.161 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:47.162 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:47.163 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:47.164 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:47.165 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:47.167 +03:00 [ERR] Callback function
2024-10-03 23:16:47.170 +03:00 [ERR] 
2024-10-03 23:16:47.455 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:47.457 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:47.457 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:47.457 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:47.458 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:47.458 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:47.459 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 713.065ms
2024-10-03 23:16:47.459 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:47.460 +03:00 [DBG] Connection id "0HN73T0RQU5A1" completed keep alive response.
2024-10-03 23:16:47.460 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 731.6851ms
2024-10-03 23:16:47.857 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:47.858 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:47.858 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:47.858 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:47.859 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:47.859 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:47.860 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 701.8393ms
2024-10-03 23:16:47.860 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:47.861 +03:00 [DBG] Connection id "0HN73T0RQU5A2" completed keep alive response.
2024-10-03 23:16:47.861 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 716.2582ms
2024-10-03 23:16:48.092 +03:00 [DBG] Connection id "0HN73T0RQU5A3" accepted.
2024-10-03 23:16:48.093 +03:00 [DBG] Connection id "0HN73T0RQU5A3" started.
2024-10-03 23:16:48.094 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:16:48.095 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:48.095 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:48.095 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:48.096 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:48.096 +03:00 [DBG] Connection id "0HN73T0RQU5A3", Request id "0HN73T0RQU5A3:00000001": started reading request body.
2024-10-03 23:16:48.097 +03:00 [DBG] Connection id "0HN73T0RQU5A3", Request id "0HN73T0RQU5A3:00000001": done reading request body.
2024-10-03 23:16:48.098 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "e270d827464f5a196e43fd99a4223a5e99fdbb96",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 121,
    "conversation_message_id": 117
  }
}
2024-10-03 23:16:48.099 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:48.100 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:48.102 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:48.104 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:48.106 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:48.108 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:48.109 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:48.110 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:48.111 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:48.113 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:48.114 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:48.115 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:48.116 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:48.117 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:48.118 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:48.119 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:48.120 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:48.120 +03:00 [ERR] Callback function
2024-10-03 23:16:48.121 +03:00 [ERR] 
2024-10-03 23:16:48.849 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:48.851 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:48.851 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:48.853 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:48.853 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:48.854 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:48.854 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 744.1472ms
2024-10-03 23:16:48.854 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:48.854 +03:00 [DBG] Connection id "0HN73T0RQU5A3" completed keep alive response.
2024-10-03 23:16:48.855 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 760.9409ms
2024-10-03 23:16:49.487 +03:00 [DBG] Connection id "0HN73T0RQU5A4" accepted.
2024-10-03 23:16:49.488 +03:00 [DBG] Connection id "0HN73T0RQU5A4" started.
2024-10-03 23:16:49.489 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:16:49.490 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:49.491 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:49.492 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:49.492 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:49.493 +03:00 [DBG] Connection id "0HN73T0RQU5A4", Request id "0HN73T0RQU5A4:00000001": started reading request body.
2024-10-03 23:16:49.494 +03:00 [DBG] Connection id "0HN73T0RQU5A4", Request id "0HN73T0RQU5A4:00000001": done reading request body.
2024-10-03 23:16:49.494 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "5aae00ea4e46e508a837b20b23a632fecb07f469",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 123,
    "conversation_message_id": 119
  }
}
2024-10-03 23:16:49.495 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:49.496 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:49.497 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:49.497 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:49.498 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:49.499 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:49.500 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:49.501 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:49.501 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:49.502 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:49.503 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:49.504 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:49.504 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:49.505 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:49.506 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:49.506 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:49.507 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:49.508 +03:00 [ERR] Callback function
2024-10-03 23:16:49.508 +03:00 [ERR] 
2024-10-03 23:16:50.883 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:50.885 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:50.885 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:50.886 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:50.887 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:50.888 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:50.889 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 1387.8116ms
2024-10-03 23:16:50.890 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:50.890 +03:00 [DBG] Connection id "0HN73T0RQU5A4" completed keep alive response.
2024-10-03 23:16:50.892 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 1403.2846ms
2024-10-03 23:16:51.544 +03:00 [DBG] Connection id "0HN73T0RQU5A5" accepted.
2024-10-03 23:16:51.546 +03:00 [DBG] Connection id "0HN73T0RQU5A5" started.
2024-10-03 23:16:51.546 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:16:51.547 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:51.547 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:51.548 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:51.548 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:51.549 +03:00 [DBG] Connection id "0HN73T0RQU5A5", Request id "0HN73T0RQU5A5:00000001": started reading request body.
2024-10-03 23:16:51.549 +03:00 [DBG] Connection id "0HN73T0RQU5A5", Request id "0HN73T0RQU5A5:00000001": done reading request body.
2024-10-03 23:16:51.551 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "c73a9b084d2f01267895e87d4c9cf2cce0dbfa27",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 124,
    "conversation_message_id": 120
  }
}
2024-10-03 23:16:51.553 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:51.553 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:51.554 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:51.555 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:51.555 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:51.556 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:51.558 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:51.559 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:51.559 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:51.560 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:51.561 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:51.562 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:51.562 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:51.563 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:51.564 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:51.564 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:51.565 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:51.566 +03:00 [ERR] Callback function
2024-10-03 23:16:51.566 +03:00 [ERR] 
2024-10-03 23:16:52.262 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:52.264 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:52.265 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:52.266 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:52.266 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:52.266 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:52.267 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 708.3184ms
2024-10-03 23:16:52.267 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:52.268 +03:00 [DBG] Connection id "0HN73T0RQU5A5" completed keep alive response.
2024-10-03 23:16:52.268 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 721.5817ms
2024-10-03 23:16:53.521 +03:00 [DBG] Connection id "0HN73T0RQU5A6" accepted.
2024-10-03 23:16:53.523 +03:00 [DBG] Connection id "0HN73T0RQU5A6" started.
2024-10-03 23:16:53.524 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:16:53.526 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:53.526 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:53.527 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:53.527 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:53.528 +03:00 [DBG] Connection id "0HN73T0RQU5A6", Request id "0HN73T0RQU5A6:00000001": started reading request body.
2024-10-03 23:16:53.529 +03:00 [DBG] Connection id "0HN73T0RQU5A6", Request id "0HN73T0RQU5A6:00000001": done reading request body.
2024-10-03 23:16:53.529 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "c7ace28dea46883a0c9934845da43a354ac98fc9",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 125,
    "conversation_message_id": 121
  }
}
2024-10-03 23:16:53.530 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:53.530 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:53.531 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:53.532 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:53.533 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:53.534 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:53.535 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:53.536 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:53.536 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:53.537 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:53.538 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:53.538 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:53.539 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:53.540 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:53.540 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:53.541 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:53.542 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:53.542 +03:00 [ERR] Callback function
2024-10-03 23:16:53.543 +03:00 [ERR] 
2024-10-03 23:16:54.237 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:54.239 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:54.240 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:54.240 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:54.241 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:54.241 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:54.242 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 706.574ms
2024-10-03 23:16:54.243 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:54.243 +03:00 [DBG] Connection id "0HN73T0RQU5A6" completed keep alive response.
2024-10-03 23:16:54.244 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 719.2757ms
2024-10-03 23:16:55.060 +03:00 [DBG] Connection id "0HN73T0RQU5A7" accepted.
2024-10-03 23:16:55.063 +03:00 [DBG] Connection id "0HN73T0RQU5A7" started.
2024-10-03 23:16:55.063 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:16:55.064 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:55.065 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:55.066 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:55.066 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:55.067 +03:00 [DBG] Connection id "0HN73T0RQU5A7", Request id "0HN73T0RQU5A7:00000001": started reading request body.
2024-10-03 23:16:55.067 +03:00 [DBG] Connection id "0HN73T0RQU5A7", Request id "0HN73T0RQU5A7:00000001": done reading request body.
2024-10-03 23:16:55.068 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "c4c47903d3f8cda5aff6f3dfbe68778a6c8100ca",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 126,
    "conversation_message_id": 122
  }
}
2024-10-03 23:16:55.069 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:55.070 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:55.071 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:55.072 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:55.077 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:55.078 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:55.079 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:55.079 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:55.080 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:55.081 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:55.081 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:55.082 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:55.083 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:55.084 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:55.084 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:55.085 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:55.086 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:55.087 +03:00 [ERR] Callback function
2024-10-03 23:16:55.088 +03:00 [ERR] 
2024-10-03 23:16:55.847 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:55.849 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:55.850 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:55.850 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:55.851 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:55.851 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:55.852 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 773.1275ms
2024-10-03 23:16:55.853 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:55.854 +03:00 [DBG] Connection id "0HN73T0RQU5A7" completed keep alive response.
2024-10-03 23:16:55.855 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 791.5053ms
2024-10-03 23:16:56.580 +03:00 [DBG] Connection id "0HN73T0RQU5A8" accepted.
2024-10-03 23:16:56.581 +03:00 [DBG] Connection id "0HN73T0RQU5A8" started.
2024-10-03 23:16:56.582 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:16:56.584 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:56.585 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:56.585 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:56.586 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:56.587 +03:00 [DBG] Connection id "0HN73T0RQU5A8", Request id "0HN73T0RQU5A8:00000001": started reading request body.
2024-10-03 23:16:56.587 +03:00 [DBG] Connection id "0HN73T0RQU5A8", Request id "0HN73T0RQU5A8:00000001": done reading request body.
2024-10-03 23:16:56.588 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "485872557d11fc1815244452be98aaea3d04ea30",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 127,
    "conversation_message_id": 123
  }
}
2024-10-03 23:16:56.589 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:56.589 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:56.590 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:56.590 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:56.591 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:56.592 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:56.593 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:56.594 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:56.595 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:56.595 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:56.596 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:56.596 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:56.597 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:56.598 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:56.599 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:56.599 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:56.600 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:56.601 +03:00 [ERR] Callback function
2024-10-03 23:16:56.601 +03:00 [ERR] 
2024-10-03 23:16:57.404 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:57.406 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:57.406 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:57.406 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:57.407 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:57.407 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:57.408 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 814.3628ms
2024-10-03 23:16:57.409 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:57.409 +03:00 [DBG] Connection id "0HN73T0RQU5A8" completed keep alive response.
2024-10-03 23:16:57.410 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 827.9353ms
2024-10-03 23:16:58.124 +03:00 [DBG] Connection id "0HN73T0RQU5A9" accepted.
2024-10-03 23:16:58.129 +03:00 [DBG] Connection id "0HN73T0RQU5A9" started.
2024-10-03 23:16:58.129 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:16:58.131 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:58.132 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:58.133 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:58.133 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:58.134 +03:00 [DBG] Connection id "0HN73T0RQU5A9", Request id "0HN73T0RQU5A9:00000001": started reading request body.
2024-10-03 23:16:58.134 +03:00 [DBG] Connection id "0HN73T0RQU5A9", Request id "0HN73T0RQU5A9:00000001": done reading request body.
2024-10-03 23:16:58.134 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "75612bc754f1856208dcee7145bbaa5d2f4d1600",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 128,
    "conversation_message_id": 124
  }
}
2024-10-03 23:16:58.135 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:58.136 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:58.136 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:58.137 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:58.138 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:58.138 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:58.139 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:58.141 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:58.142 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:58.143 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:58.144 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:58.145 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:58.145 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:58.146 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:58.147 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:58.147 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:58.148 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:58.149 +03:00 [ERR] Callback function
2024-10-03 23:16:58.149 +03:00 [ERR] 
2024-10-03 23:16:58.827 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:16:58.828 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:16:58.828 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:16:58.828 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:16:58.829 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:16:58.829 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:16:58.830 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 688.6748ms
2024-10-03 23:16:58.830 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:58.831 +03:00 [DBG] Connection id "0HN73T0RQU5A9" completed keep alive response.
2024-10-03 23:16:58.832 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 702.7628ms
2024-10-03 23:16:59.576 +03:00 [DBG] Connection id "0HN73T0RQU5AA" accepted.
2024-10-03 23:16:59.576 +03:00 [DBG] Connection id "0HN73T0RQU5AA" started.
2024-10-03 23:16:59.577 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:16:59.579 +03:00 [DBG] POST requests are not supported
2024-10-03 23:16:59.579 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:16:59.580 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:16:59.580 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:59.581 +03:00 [DBG] Connection id "0HN73T0RQU5AA", Request id "0HN73T0RQU5AA:00000001": started reading request body.
2024-10-03 23:16:59.581 +03:00 [DBG] Connection id "0HN73T0RQU5AA", Request id "0HN73T0RQU5AA:00000001": done reading request body.
2024-10-03 23:16:59.582 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "8c5bba90f74149eac2c5bcefa2c5b7da216386b3",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 129,
    "conversation_message_id": 125
  }
}
2024-10-03 23:16:59.583 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:16:59.584 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:16:59.585 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:16:59.585 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:16:59.586 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:16:59.587 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:16:59.588 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:16:59.589 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:59.589 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:16:59.590 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:59.591 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:16:59.591 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:16:59.592 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:16:59.593 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:59.593 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:59.594 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:16:59.595 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:16:59.595 +03:00 [ERR] Callback function
2024-10-03 23:16:59.596 +03:00 [ERR] 
2024-10-03 23:17:01.199 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:01.201 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:01.202 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:01.203 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:01.204 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:01.204 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:01.205 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 1616.3658ms
2024-10-03 23:17:01.206 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:01.206 +03:00 [DBG] Connection id "0HN73T0RQU5AA" completed keep alive response.
2024-10-03 23:17:01.207 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 1629.7572ms
2024-10-03 23:17:01.325 +03:00 [DBG] Connection id "0HN73T0RQU5AB" accepted.
2024-10-03 23:17:01.326 +03:00 [DBG] Connection id "0HN73T0RQU5AB" started.
2024-10-03 23:17:01.326 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:17:01.328 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:01.328 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:01.329 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:01.329 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:01.330 +03:00 [DBG] Connection id "0HN73T0RQU5AB", Request id "0HN73T0RQU5AB:00000001": started reading request body.
2024-10-03 23:17:01.331 +03:00 [DBG] Connection id "0HN73T0RQU5AB", Request id "0HN73T0RQU5AB:00000001": done reading request body.
2024-10-03 23:17:01.332 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "ee513fdf0e16e5ea5e662f19ed2514f1f7d981d4",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986423,
      "from_id": 651565729,
      "id": 90,
      "version": 10000109,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 86,
      "fwd_messages": [],
      "text": "5",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:17:01.333 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:01.333 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:01.334 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:01.334 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:01.335 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:01.336 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:01.337 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:01.338 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:01.338 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:01.339 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:01.340 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:01.341 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:01.342 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:01.342 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:01.343 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:01.344 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:01.344 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:01.345 +03:00 [ERR] Callback function
2024-10-03 23:17:01.345 +03:00 [ERR] 
2024-10-03 23:17:01.785 +03:00 [DBG] Connection id "0HN73T0RQU5AC" accepted.
2024-10-03 23:17:01.785 +03:00 [DBG] Connection id "0HN73T0RQU5AC" started.
2024-10-03 23:17:01.786 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:17:01.787 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:01.787 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:01.792 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:01.793 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:01.793 +03:00 [DBG] Connection id "0HN73T0RQU5AC", Request id "0HN73T0RQU5AC:00000001": started reading request body.
2024-10-03 23:17:01.794 +03:00 [DBG] Connection id "0HN73T0RQU5AC", Request id "0HN73T0RQU5AC:00000001": done reading request body.
2024-10-03 23:17:01.794 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "b2f5bd6abde653c19d30c201c9c88ca1162e1685",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 130,
    "conversation_message_id": 126
  }
}
2024-10-03 23:17:01.795 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:01.795 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:01.796 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:01.797 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:01.798 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:01.799 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:01.801 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:01.802 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:01.803 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:01.806 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:01.807 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:01.808 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:01.809 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:01.810 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:01.811 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:01.812 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:01.813 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:01.814 +03:00 [ERR] Callback function
2024-10-03 23:17:01.815 +03:00 [ERR] 
2024-10-03 23:17:02.029 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:02.031 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:02.032 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:02.032 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:02.033 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:02.034 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:02.035 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 696.9571ms
2024-10-03 23:17:02.036 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:02.036 +03:00 [DBG] Connection id "0HN73T0RQU5AB" completed keep alive response.
2024-10-03 23:17:02.037 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 710.232ms
2024-10-03 23:17:02.493 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:02.495 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:02.496 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:02.496 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:02.496 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:02.497 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:02.498 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 695.8152ms
2024-10-03 23:17:02.498 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:02.499 +03:00 [DBG] Connection id "0HN73T0RQU5AC" completed keep alive response.
2024-10-03 23:17:02.499 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 713.138ms
2024-10-03 23:17:05.809 +03:00 [DBG] Connection id "0HN73T0RQU5AD" accepted.
2024-10-03 23:17:05.811 +03:00 [DBG] Connection id "0HN73T0RQU5AD" started.
2024-10-03 23:17:05.812 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:17:05.812 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:05.813 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:05.814 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:05.821 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:05.822 +03:00 [DBG] Connection id "0HN73T0RQU5AD", Request id "0HN73T0RQU5AD:00000001": started reading request body.
2024-10-03 23:17:05.824 +03:00 [DBG] Connection id "0HN73T0RQU5AD", Request id "0HN73T0RQU5AD:00000001": done reading request body.
2024-10-03 23:17:05.826 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "4a9803bb215d5591bd594601e4cdf007b930529a",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 132,
    "conversation_message_id": 128
  }
}
2024-10-03 23:17:05.827 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:05.828 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:05.830 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:05.834 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:05.835 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:05.837 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:05.838 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:05.839 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:05.840 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:05.841 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:05.842 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:05.843 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:05.844 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:05.845 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:05.847 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:05.849 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:05.850 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:05.851 +03:00 [ERR] Callback function
2024-10-03 23:17:05.852 +03:00 [ERR] 
2024-10-03 23:17:06.531 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:06.533 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:06.533 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:06.534 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:06.535 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:06.535 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:06.536 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 697.0412ms
2024-10-03 23:17:06.536 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:06.537 +03:00 [DBG] Connection id "0HN73T0RQU5AD" completed keep alive response.
2024-10-03 23:17:06.538 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 725.8868ms
2024-10-03 23:17:07.288 +03:00 [DBG] Connection id "0HN73T0RQU5AE" accepted.
2024-10-03 23:17:07.289 +03:00 [DBG] Connection id "0HN73T0RQU5AE" started.
2024-10-03 23:17:07.290 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:17:07.292 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:07.293 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:07.294 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:07.295 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:07.296 +03:00 [DBG] Connection id "0HN73T0RQU5AE", Request id "0HN73T0RQU5AE:00000001": started reading request body.
2024-10-03 23:17:07.298 +03:00 [DBG] Connection id "0HN73T0RQU5AE", Request id "0HN73T0RQU5AE:00000001": done reading request body.
2024-10-03 23:17:07.298 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "f71d5b3486fddf991b12e1a362c72f846cab26a1",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 133,
    "conversation_message_id": 129
  }
}
2024-10-03 23:17:07.299 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:07.300 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:07.302 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:07.303 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:07.305 +03:00 [DBG] Connection id "0HN73T0RQU5AF" accepted.
2024-10-03 23:17:07.305 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:07.310 +03:00 [DBG] Connection id "0HN73T0RQU5AF" started.
2024-10-03 23:17:07.312 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:07.313 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:17:07.314 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:07.316 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:07.316 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:07.317 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:07.318 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:07.319 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:07.320 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:07.321 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:07.322 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:07.323 +03:00 [DBG] Connection id "0HN73T0RQU5AF", Request id "0HN73T0RQU5AF:00000001": started reading request body.
2024-10-03 23:17:07.324 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:07.325 +03:00 [DBG] Connection id "0HN73T0RQU5AF", Request id "0HN73T0RQU5AF:00000001": done reading request body.
2024-10-03 23:17:07.326 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:07.327 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "811c61e02fca4e4a8d64cf41f26a75f44ac8f531",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986436,
      "from_id": 651565729,
      "id": 91,
      "version": 10000110,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 87,
      "fwd_messages": [],
      "text": "3",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:17:07.328 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:07.329 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:07.330 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:07.331 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:07.332 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:07.333 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:07.334 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:07.335 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:07.336 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:07.337 +03:00 [ERR] Callback function
2024-10-03 23:17:07.338 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:07.339 +03:00 [ERR] 
2024-10-03 23:17:07.340 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:07.342 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:07.343 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:07.344 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:07.345 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:07.346 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:07.346 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:07.347 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:07.348 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:07.349 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:07.350 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:07.351 +03:00 [ERR] Callback function
2024-10-03 23:17:07.352 +03:00 [ERR] 
2024-10-03 23:17:08.016 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:08.017 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:08.018 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:08.018 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:08.018 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:08.019 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:08.020 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 703.2968ms
2024-10-03 23:17:08.020 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:08.021 +03:00 [DBG] Connection id "0HN73T0RQU5AE" completed keep alive response.
2024-10-03 23:17:08.022 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 731.8741ms
2024-10-03 23:17:08.078 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:08.079 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:08.079 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:08.080 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:08.080 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:08.080 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:08.081 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 739.0076ms
2024-10-03 23:17:08.082 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:08.082 +03:00 [DBG] Connection id "0HN73T0RQU5AF" completed keep alive response.
2024-10-03 23:17:08.082 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 769.4684ms
2024-10-03 23:17:08.780 +03:00 [DBG] Connection id "0HN73T0RQU5AG" accepted.
2024-10-03 23:17:08.781 +03:00 [DBG] Connection id "0HN73T0RQU5AG" started.
2024-10-03 23:17:08.782 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:17:08.783 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:08.783 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:08.784 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:08.785 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:08.785 +03:00 [DBG] Connection id "0HN73T0RQU5AG", Request id "0HN73T0RQU5AG:00000001": started reading request body.
2024-10-03 23:17:08.786 +03:00 [DBG] Connection id "0HN73T0RQU5AG", Request id "0HN73T0RQU5AG:00000001": done reading request body.
2024-10-03 23:17:08.787 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "24e0fa24134a0df49f9d6a28ffc91c58faa1da3b",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 135,
    "conversation_message_id": 131
  }
}
2024-10-03 23:17:08.787 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:08.788 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:08.789 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:08.790 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:08.791 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:08.792 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:08.792 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:08.793 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:08.794 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:08.795 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:08.795 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:08.796 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:08.797 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:08.798 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:08.798 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:08.799 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:08.800 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:08.800 +03:00 [ERR] Callback function
2024-10-03 23:17:08.801 +03:00 [ERR] 
2024-10-03 23:17:12.539 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 23:17:12.654 +03:00 [DBG] Hosting starting
2024-10-03 23:17:12.741 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 23:17:12.842 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 23:17:12.843 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 23:17:12.844 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 23:17:12.845 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 23:17:12.846 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 23:17:12.847 +03:00 [INF] Hosting environment: Development
2024-10-03 23:17:12.848 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 23:17:12.849 +03:00 [DBG] Hosting started
2024-10-03 23:17:13.010 +03:00 [DBG] Connection id "0HN73T1F19AUJ" accepted.
2024-10-03 23:17:13.010 +03:00 [DBG] Connection id "0HN73T1F19AUI" accepted.
2024-10-03 23:17:13.012 +03:00 [DBG] Connection id "0HN73T1F19AUJ" started.
2024-10-03 23:17:13.012 +03:00 [DBG] Connection id "0HN73T1F19AUI" started.
2024-10-03 23:17:13.017 +03:00 [DBG] Connection id "0HN73T1F19AUJ" received FIN.
2024-10-03 23:17:13.017 +03:00 [DBG] Connection id "0HN73T1F19AUI" received FIN.
2024-10-03 23:17:13.025 +03:00 [DBG] Connection id "0HN73T1F19AUI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:17:13.025 +03:00 [DBG] Connection id "0HN73T1F19AUJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:17:13.028 +03:00 [DBG] Connection id "0HN73T1F19AUI" disconnecting.
2024-10-03 23:17:13.028 +03:00 [DBG] Connection id "0HN73T1F19AUJ" disconnecting.
2024-10-03 23:17:13.031 +03:00 [DBG] Connection id "0HN73T1F19AUI" stopped.
2024-10-03 23:17:13.031 +03:00 [DBG] Connection id "0HN73T1F19AUJ" stopped.
2024-10-03 23:17:13.370 +03:00 [DBG] Connection id "0HN73T1F19AUK" accepted.
2024-10-03 23:17:13.371 +03:00 [DBG] Connection id "0HN73T1F19AUK" started.
2024-10-03 23:17:13.376 +03:00 [DBG] Connection id "0HN73T1F19AUL" accepted.
2024-10-03 23:17:13.377 +03:00 [DBG] Connection id "0HN73T1F19AUL" started.
2024-10-03 23:17:13.404 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 23:17:13.574 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 23:17:13.579 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 23:17:13.593 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 23:17:13.595 +03:00 [DBG] Request did not match any endpoints
2024-10-03 23:17:13.615 +03:00 [DBG] Connection id "0HN73T1F19AUK" completed keep alive response.
2024-10-03 23:17:13.619 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 219.7493ms
2024-10-03 23:17:13.625 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 23:17:16.729 +03:00 [DBG] Connection id "0HN73T1F19AUM" accepted.
2024-10-03 23:17:16.732 +03:00 [DBG] Connection id "0HN73T1F19AUM" started.
2024-10-03 23:17:16.733 +03:00 [DBG] Connection id "0HN73T1F19AUN" accepted.
2024-10-03 23:17:16.733 +03:00 [DBG] Connection id "0HN73T1F19AUN" started.
2024-10-03 23:17:16.734 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:17:16.735 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:17:16.736 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:16.737 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:16.739 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:16.739 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:16.741 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:16.743 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:16.748 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:16.748 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:16.751 +03:00 [DBG] Connection id "0HN73T1F19AUM", Request id "0HN73T1F19AUM:00000001": started reading request body.
2024-10-03 23:17:16.751 +03:00 [DBG] Connection id "0HN73T1F19AUN", Request id "0HN73T1F19AUN:00000001": started reading request body.
2024-10-03 23:17:16.753 +03:00 [DBG] Connection id "0HN73T1F19AUM", Request id "0HN73T1F19AUM:00000001": done reading request body.
2024-10-03 23:17:16.754 +03:00 [DBG] Connection id "0HN73T1F19AUN", Request id "0HN73T1F19AUN:00000001": done reading request body.
2024-10-03 23:17:16.850 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "26c8863ddb98934712e660b7317dc61c3cd4f18a",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727985834,
      "from_id": 651565729,
      "id": 83,
      "version": 10000102,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 79,
      "fwd_messages": [],
      "text": "7",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:17:16.850 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "eb969160b349e8060960aa227f474c36b178c129",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986437,
      "from_id": 651565729,
      "id": 92,
      "version": 10000111,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 88,
      "fwd_messages": [],
      "text": "5",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:17:16.852 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:16.853 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:16.883 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:16.883 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:16.885 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:16.887 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:16.888 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:16.889 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:16.890 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:16.891 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:16.893 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:16.895 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:16.896 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:16.897 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:16.899 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:16.899 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:16.916 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:16.916 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:16.920 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:16.920 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:16.922 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:16.922 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:16.924 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:16.924 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:16.926 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:16.926 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:16.950 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:16.950 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:16.951 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:16.953 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:16.954 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:16.955 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:17.002 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:17.002 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:17.005 +03:00 [ERR] Callback function
2024-10-03 23:17:17.005 +03:00 [ERR] Callback function
2024-10-03 23:17:17.006 +03:00 [ERR] 
2024-10-03 23:17:17.007 +03:00 [ERR] 
2024-10-03 23:17:18.980 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:18.984 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:18.984 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:18.985 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:18.986 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:18.987 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:18.987 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:18.989 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:18.989 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:18.990 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:18.990 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 2090.5381ms
2024-10-03 23:17:18.990 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:18.991 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:18.992 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:18.992 +03:00 [DBG] Connection id "0HN73T1F19AUN" completed keep alive response.
2024-10-03 23:17:18.993 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 2093.719ms
2024-10-03 23:17:18.993 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 2258.9243ms
2024-10-03 23:17:18.994 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:18.996 +03:00 [DBG] Connection id "0HN73T1F19AUM" completed keep alive response.
2024-10-03 23:17:18.997 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 2262.8052ms
2024-10-03 23:17:19.341 +03:00 [DBG] Connection id "0HN73T1F19AUO" accepted.
2024-10-03 23:17:19.343 +03:00 [DBG] Connection id "0HN73T1F19AUO" started.
2024-10-03 23:17:19.344 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:17:19.346 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:19.346 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:19.347 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:19.348 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:19.348 +03:00 [DBG] Connection id "0HN73T1F19AUO", Request id "0HN73T1F19AUO:00000001": started reading request body.
2024-10-03 23:17:19.349 +03:00 [DBG] Connection id "0HN73T1F19AUO", Request id "0HN73T1F19AUO:00000001": done reading request body.
2024-10-03 23:17:19.350 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "24e0fa24134a0df49f9d6a28ffc91c58faa1da3b",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 135,
    "conversation_message_id": 131
  }
}
2024-10-03 23:17:19.351 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:19.353 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:19.358 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:19.359 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:19.360 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:19.362 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:19.364 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:19.366 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:19.366 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:19.368 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:19.369 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:19.371 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:19.372 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:19.373 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:19.374 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:19.375 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:19.376 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:19.378 +03:00 [ERR] Callback function
2024-10-03 23:17:19.378 +03:00 [ERR] 
2024-10-03 23:17:19.825 +03:00 [DBG] Connection id "0HN73T1F19AUP" accepted.
2024-10-03 23:17:19.826 +03:00 [DBG] Connection id "0HN73T1F19AUP" started.
2024-10-03 23:17:19.827 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:17:19.828 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:19.829 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:19.829 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:19.830 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:19.831 +03:00 [DBG] Connection id "0HN73T1F19AUP", Request id "0HN73T1F19AUP:00000001": started reading request body.
2024-10-03 23:17:19.831 +03:00 [DBG] Connection id "0HN73T1F19AUP", Request id "0HN73T1F19AUP:00000001": done reading request body.
2024-10-03 23:17:19.832 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "b75cf24b9a548ade9456752b5157651086a7efe9",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 138,
    "conversation_message_id": 134
  }
}
2024-10-03 23:17:19.833 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:19.833 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:19.835 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:19.836 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:19.837 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:19.838 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:19.839 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:19.840 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:19.840 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:19.841 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:19.842 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:19.843 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:19.844 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:19.845 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:19.845 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:19.846 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:19.847 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:19.848 +03:00 [ERR] Callback function
2024-10-03 23:17:19.848 +03:00 [ERR] 
2024-10-03 23:17:20.813 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:20.814 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:20.815 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:20.815 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:20.816 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:20.816 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:20.817 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 1451.3951ms
2024-10-03 23:17:20.818 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:20.818 +03:00 [DBG] Connection id "0HN73T1F19AUO" completed keep alive response.
2024-10-03 23:17:20.819 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 1475.0705ms
2024-10-03 23:17:21.199 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:21.201 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:21.201 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:21.202 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:21.202 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:21.202 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:21.203 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 1362.8305ms
2024-10-03 23:17:21.203 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:21.203 +03:00 [DBG] Connection id "0HN73T1F19AUP" completed keep alive response.
2024-10-03 23:17:21.203 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 1376.6677ms
2024-10-03 23:17:21.620 +03:00 [DBG] Connection id "0HN73T1F19AUQ" accepted.
2024-10-03 23:17:21.621 +03:00 [DBG] Connection id "0HN73T1F19AUR" accepted.
2024-10-03 23:17:21.621 +03:00 [DBG] Connection id "0HN73T1F19AUQ" started.
2024-10-03 23:17:21.622 +03:00 [DBG] Connection id "0HN73T1F19AUR" started.
2024-10-03 23:17:21.623 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:17:21.623 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:17:21.624 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:21.624 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:21.625 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:21.625 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:21.625 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:21.625 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:21.626 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:21.626 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:21.626 +03:00 [DBG] Connection id "0HN73T1F19AUQ", Request id "0HN73T1F19AUQ:00000001": started reading request body.
2024-10-03 23:17:21.627 +03:00 [DBG] Connection id "0HN73T1F19AUR", Request id "0HN73T1F19AUR:00000001": started reading request body.
2024-10-03 23:17:21.627 +03:00 [DBG] Connection id "0HN73T1F19AUQ", Request id "0HN73T1F19AUQ:00000001": done reading request body.
2024-10-03 23:17:21.627 +03:00 [DBG] Connection id "0HN73T1F19AUR", Request id "0HN73T1F19AUR:00000001": done reading request body.
2024-10-03 23:17:21.628 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "5f728b04b3e4a68254dfccaffddbc6d973ac9dee",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 139,
    "conversation_message_id": 135
  }
}
2024-10-03 23:17:21.628 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "6d75674264d4aabd7d9756cca7fa5e723a965c0f",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 136,
    "conversation_message_id": 132
  }
}
2024-10-03 23:17:21.628 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:21.629 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:21.629 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:21.629 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:21.630 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:21.630 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:21.631 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:21.632 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:21.632 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:21.633 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:21.636 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:21.637 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:21.638 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:21.639 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:21.640 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:21.640 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:21.642 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:21.643 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:21.643 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:21.644 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:21.645 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:21.645 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:21.646 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:21.646 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:21.647 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:21.648 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:21.649 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:21.650 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:21.652 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:21.653 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:21.654 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:21.655 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:21.656 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:21.657 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:21.658 +03:00 [ERR] Callback function
2024-10-03 23:17:21.658 +03:00 [ERR] Callback function
2024-10-03 23:17:21.659 +03:00 [ERR] 
2024-10-03 23:17:21.660 +03:00 [ERR] 
2024-10-03 23:17:21.718 +03:00 [DBG] Connection id "0HN73T1F19AUS" accepted.
2024-10-03 23:17:21.718 +03:00 [DBG] Connection id "0HN73T1F19AUS" started.
2024-10-03 23:17:21.720 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:17:21.721 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:21.722 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:21.722 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:21.723 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:21.723 +03:00 [DBG] Connection id "0HN73T1F19AUS", Request id "0HN73T1F19AUS:00000001": started reading request body.
2024-10-03 23:17:21.724 +03:00 [DBG] Connection id "0HN73T1F19AUS", Request id "0HN73T1F19AUS:00000001": done reading request body.
2024-10-03 23:17:21.725 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "ba047a0a26d835ae992e0ee9e9f85dbc38aaa9d7",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 140,
    "conversation_message_id": 136
  }
}
2024-10-03 23:17:21.725 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:21.726 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:21.727 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:21.728 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:21.728 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:21.741 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:21.742 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:21.743 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:21.744 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:21.746 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:21.747 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:21.748 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:21.749 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:21.750 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:21.751 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:21.753 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:21.754 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:21.755 +03:00 [ERR] Callback function
2024-10-03 23:17:21.755 +03:00 [ERR] 
2024-10-03 23:17:22.347 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:22.349 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:22.349 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:22.349 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:22.349 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:22.349 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:22.350 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 710.0638ms
2024-10-03 23:17:22.350 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:22.350 +03:00 [DBG] Connection id "0HN73T1F19AUQ" completed keep alive response.
2024-10-03 23:17:22.352 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 728.9721ms
2024-10-03 23:17:22.352 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:22.359 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:22.360 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:22.360 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:22.361 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:22.362 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:22.363 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 722.5879ms
2024-10-03 23:17:22.364 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:22.365 +03:00 [DBG] Connection id "0HN73T1F19AUR" completed keep alive response.
2024-10-03 23:17:22.366 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 742.1947ms
2024-10-03 23:17:23.046 +03:00 [DBG] Connection id "0HN73T1F19AUT" accepted.
2024-10-03 23:17:23.046 +03:00 [DBG] Connection id "0HN73T1F19AUT" started.
2024-10-03 23:17:23.047 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:17:23.050 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:23.051 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:23.051 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:23.052 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:23.052 +03:00 [DBG] Connection id "0HN73T1F19AUT", Request id "0HN73T1F19AUT:00000001": started reading request body.
2024-10-03 23:17:23.053 +03:00 [DBG] Connection id "0HN73T1F19AUT", Request id "0HN73T1F19AUT:00000001": done reading request body.
2024-10-03 23:17:23.053 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "bcdfb73699485a4d0495b5f0ce9097bd47629d5c",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 142,
    "conversation_message_id": 138
  }
}
2024-10-03 23:17:23.054 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:23.055 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:23.055 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:23.056 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:23.057 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:23.058 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:23.059 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:23.060 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:23.060 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:23.061 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:23.062 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:23.063 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:23.064 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:23.065 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:23.066 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:23.066 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:23.067 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:23.068 +03:00 [ERR] Callback function
2024-10-03 23:17:23.068 +03:00 [ERR] 
2024-10-03 23:17:23.105 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:23.107 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:23.107 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:23.108 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:23.108 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:23.110 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:23.111 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 1367.444ms
2024-10-03 23:17:23.112 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:23.113 +03:00 [DBG] Connection id "0HN73T1F19AUS" completed keep alive response.
2024-10-03 23:17:23.114 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 1393.5943ms
2024-10-03 23:17:23.779 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:23.780 +03:00 [DBG] Connection id "0HN73T1F19AUU" accepted.
2024-10-03 23:17:23.782 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:23.783 +03:00 [DBG] Connection id "0HN73T1F19AUU" started.
2024-10-03 23:17:23.783 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:23.784 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:23.785 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:23.785 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:23.786 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:17:23.786 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 726.6767ms
2024-10-03 23:17:23.787 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:23.787 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:23.788 +03:00 [DBG] Connection id "0HN73T1F19AUT" completed keep alive response.
2024-10-03 23:17:23.788 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:23.789 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:23.789 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:23.790 +03:00 [DBG] Connection id "0HN73T1F19AUU", Request id "0HN73T1F19AUU:00000001": started reading request body.
2024-10-03 23:17:23.790 +03:00 [DBG] Connection id "0HN73T1F19AUU", Request id "0HN73T1F19AUU:00000001": done reading request body.
2024-10-03 23:17:23.790 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "d902a70e9665d2738c8abf9d0d22160f35ee7d4e",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 143,
    "conversation_message_id": 139
  }
}
2024-10-03 23:17:23.790 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:23.791 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:23.792 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:23.793 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 746.0524ms
2024-10-03 23:17:23.794 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:23.797 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:23.798 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:23.799 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:23.800 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:23.801 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:23.802 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:23.802 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:23.803 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:23.804 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:23.804 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:23.805 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:23.806 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:23.806 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:23.807 +03:00 [ERR] Callback function
2024-10-03 23:17:23.807 +03:00 [ERR] 
2024-10-03 23:17:24.509 +03:00 [DBG] Connection id "0HN73T1F19AUV" accepted.
2024-10-03 23:17:24.510 +03:00 [DBG] Connection id "0HN73T1F19AUV" started.
2024-10-03 23:17:24.510 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:17:24.512 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:24.512 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:24.513 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:24.513 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:24.515 +03:00 [DBG] Connection id "0HN73T1F19AUV", Request id "0HN73T1F19AUV:00000001": started reading request body.
2024-10-03 23:17:24.518 +03:00 [DBG] Connection id "0HN73T1F19AUV", Request id "0HN73T1F19AUV:00000001": done reading request body.
2024-10-03 23:17:24.524 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "c146258cdeb851611ba9231eaecd3d58ce4dc4c0",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 144,
    "conversation_message_id": 140
  }
}
2024-10-03 23:17:24.525 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:24.525 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:24.526 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:24.526 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:24.527 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:24.528 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:24.529 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:24.535 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:24.537 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:24.538 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:24.539 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:24.540 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:24.540 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:24.541 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:24.542 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:24.543 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:24.544 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:24.545 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 744.5502ms
2024-10-03 23:17:24.547 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:24.548 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:24.548 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:24.549 +03:00 [DBG] Connection id "0HN73T1F19AUU" completed keep alive response.
2024-10-03 23:17:24.550 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:24.551 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 765.1963ms
2024-10-03 23:17:24.553 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:24.556 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:24.557 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:24.558 +03:00 [ERR] Callback function
2024-10-03 23:17:24.558 +03:00 [ERR] 
2024-10-03 23:17:25.729 +03:00 [DBG] Connection id "0HN73T1F19AV0" accepted.
2024-10-03 23:17:25.734 +03:00 [DBG] Connection id "0HN73T1F19AV0" started.
2024-10-03 23:17:25.735 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:17:25.736 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:25.737 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:25.738 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:25.738 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:25.738 +03:00 [DBG] Connection id "0HN73T1F19AV0", Request id "0HN73T1F19AV0:00000001": started reading request body.
2024-10-03 23:17:25.739 +03:00 [DBG] Connection id "0HN73T1F19AV0", Request id "0HN73T1F19AV0:00000001": done reading request body.
2024-10-03 23:17:25.739 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "9d9817f9ed7cc2803405039898cefb40b7a754cf",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 145,
    "conversation_message_id": 141
  }
}
2024-10-03 23:17:25.739 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:25.740 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:25.740 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:25.740 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:25.740 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:25.746 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:25.747 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:25.748 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:25.749 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:25.750 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:25.751 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:25.753 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:25.755 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:25.756 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:25.758 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:25.761 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:25.762 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:25.763 +03:00 [ERR] Callback function
2024-10-03 23:17:25.764 +03:00 [ERR] 
2024-10-03 23:17:26.423 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:26.425 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:26.425 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:26.426 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:26.426 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:26.426 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:26.427 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 1888.9327ms
2024-10-03 23:17:26.428 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:26.428 +03:00 [DBG] Connection id "0HN73T1F19AUV" completed keep alive response.
2024-10-03 23:17:26.428 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 1917.6988ms
2024-10-03 23:17:26.457 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:26.459 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:26.459 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:26.459 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:26.460 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:26.460 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:26.461 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 713.1431ms
2024-10-03 23:17:26.462 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:26.462 +03:00 [DBG] Connection id "0HN73T1F19AV0" completed keep alive response.
2024-10-03 23:17:26.463 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 727.877ms
2024-10-03 23:17:35.202 +03:00 [DBG] Connection id "0HN73T1F19AV1" accepted.
2024-10-03 23:17:35.206 +03:00 [DBG] Connection id "0HN73T1F19AV1" started.
2024-10-03 23:17:35.206 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:17:35.208 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:35.208 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:35.209 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:35.209 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:35.210 +03:00 [DBG] Connection id "0HN73T1F19AV1", Request id "0HN73T1F19AV1:00000001": started reading request body.
2024-10-03 23:17:35.211 +03:00 [DBG] Connection id "0HN73T1F19AV1", Request id "0HN73T1F19AV1:00000001": done reading request body.
2024-10-03 23:17:35.211 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "e13d0c38b49d708d0ee593a192450aae29667e0a",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 147,
    "conversation_message_id": 143
  }
}
2024-10-03 23:17:35.212 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:35.212 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:35.213 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:35.215 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:35.216 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:35.218 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:35.218 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:35.219 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:35.220 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:35.221 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:35.221 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:35.222 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:35.222 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:35.223 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:35.224 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:35.224 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:35.225 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:35.226 +03:00 [ERR] Callback function
2024-10-03 23:17:35.226 +03:00 [ERR] 
2024-10-03 23:17:35.918 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:35.919 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:35.919 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:35.920 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:35.920 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:35.921 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:35.921 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 702.1669ms
2024-10-03 23:17:35.922 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:35.923 +03:00 [DBG] Connection id "0HN73T1F19AV1" completed keep alive response.
2024-10-03 23:17:35.923 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 717.0508ms
2024-10-03 23:17:49.409 +03:00 [DBG] Connection id "0HN73T1F19AV2" accepted.
2024-10-03 23:17:49.410 +03:00 [DBG] Connection id "0HN73T1F19AV2" started.
2024-10-03 23:17:49.411 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:17:49.412 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:49.413 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:49.413 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:49.414 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:49.415 +03:00 [DBG] Connection id "0HN73T1F19AV2", Request id "0HN73T1F19AV2:00000001": started reading request body.
2024-10-03 23:17:49.416 +03:00 [DBG] Connection id "0HN73T1F19AV2", Request id "0HN73T1F19AV2:00000001": done reading request body.
2024-10-03 23:17:49.417 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "3bedc857d170cb73cf59a634191a4538b61f8884",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727984057,
      "from_id": 651565729,
      "id": 56,
      "version": 10000075,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 52,
      "fwd_messages": [],
      "text": "2",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:17:49.417 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:49.418 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:49.419 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:49.420 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:49.421 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:49.422 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:49.423 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:49.424 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:49.424 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:49.425 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:49.426 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:49.426 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:49.427 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:49.428 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:49.428 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:49.429 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:49.430 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:49.430 +03:00 [ERR] Callback function
2024-10-03 23:17:49.431 +03:00 [ERR] 
2024-10-03 23:17:50.669 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:50.670 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:50.670 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:50.671 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:50.671 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:50.672 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:50.673 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 1249.066ms
2024-10-03 23:17:50.673 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:50.674 +03:00 [DBG] Connection id "0HN73T1F19AV2" completed keep alive response.
2024-10-03 23:17:50.674 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 1263.3889ms
2024-10-03 23:17:52.295 +03:00 [DBG] Connection id "0HN73T1F19AV3" accepted.
2024-10-03 23:17:52.297 +03:00 [DBG] Connection id "0HN73T1F19AV3" started.
2024-10-03 23:17:52.298 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 567
2024-10-03 23:17:52.299 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:52.299 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:52.301 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:52.301 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:52.302 +03:00 [DBG] Connection id "0HN73T1F19AV3", Request id "0HN73T1F19AV3:00000001": started reading request body.
2024-10-03 23:17:52.303 +03:00 [DBG] Connection id "0HN73T1F19AV3", Request id "0HN73T1F19AV3:00000001": done reading request body.
2024-10-03 23:17:52.303 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "a0df2981ea962e5c5c8aab69eaa68afa9bcbe701",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986482,
      "from_id": 651565729,
      "id": 93,
      "version": 10000112,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 89,
      "fwd_messages": [],
      "text": "Й5",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:17:52.305 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:52.305 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:52.307 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:52.308 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:52.309 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:52.310 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:52.310 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:52.311 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:52.312 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:52.313 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:52.315 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:52.317 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:52.317 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:52.318 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:52.319 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:52.319 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:52.325 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:52.327 +03:00 [ERR] Callback function
2024-10-03 23:17:52.327 +03:00 [ERR] 
2024-10-03 23:17:53.017 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:53.018 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:53.019 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:53.019 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:53.019 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:53.020 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:53.023 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 712.05ms
2024-10-03 23:17:53.026 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:53.027 +03:00 [DBG] Connection id "0HN73T1F19AV3" completed keep alive response.
2024-10-03 23:17:53.029 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 730.5983ms
2024-10-03 23:17:55.326 +03:00 [DBG] Connection id "0HN73T1F19AV4" accepted.
2024-10-03 23:17:55.327 +03:00 [DBG] Connection id "0HN73T1F19AV4" started.
2024-10-03 23:17:55.328 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:17:55.329 +03:00 [DBG] POST requests are not supported
2024-10-03 23:17:55.329 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:17:55.330 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:17:55.330 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:55.331 +03:00 [DBG] Connection id "0HN73T1F19AV4", Request id "0HN73T1F19AV4:00000001": started reading request body.
2024-10-03 23:17:55.332 +03:00 [DBG] Connection id "0HN73T1F19AV4", Request id "0HN73T1F19AV4:00000001": done reading request body.
2024-10-03 23:17:55.332 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "a749726903bd076b4773f2f32c8c9b88ec8380ca",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986485,
      "from_id": 651565729,
      "id": 95,
      "version": 10000114,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 91,
      "fwd_messages": [],
      "text": "6",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:17:55.333 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:55.334 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:17:55.335 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:17:55.335 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:17:55.336 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:17:55.337 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:17:55.338 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:17:55.338 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:55.339 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:17:55.340 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:55.340 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:17:55.341 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:17:55.341 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:17:55.342 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:55.343 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:55.343 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:17:55.344 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:17:55.345 +03:00 [ERR] Callback function
2024-10-03 23:17:55.345 +03:00 [ERR] 
2024-10-03 23:17:56.082 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:17:56.083 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:17:56.083 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:17:56.084 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:17:56.084 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:17:56.085 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:17:56.086 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 747.5644ms
2024-10-03 23:17:56.087 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:17:56.087 +03:00 [DBG] Connection id "0HN73T1F19AV4" completed keep alive response.
2024-10-03 23:17:56.088 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 760.466ms
2024-10-03 23:18:02.365 +03:00 [DBG] Connection id "0HN73T1F19AV5" accepted.
2024-10-03 23:18:02.369 +03:00 [DBG] Connection id "0HN73T1F19AV5" started.
2024-10-03 23:18:02.371 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:18:02.374 +03:00 [DBG] POST requests are not supported
2024-10-03 23:18:02.375 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:18:02.376 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:18:02.377 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:02.378 +03:00 [DBG] Connection id "0HN73T1F19AV5", Request id "0HN73T1F19AV5:00000001": started reading request body.
2024-10-03 23:18:02.378 +03:00 [DBG] Connection id "0HN73T1F19AV5", Request id "0HN73T1F19AV5:00000001": done reading request body.
2024-10-03 23:18:02.380 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "ed14f0807e59cc0e3d77e7be2da2b06b8fba58e4",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986484,
      "from_id": 651565729,
      "id": 94,
      "version": 10000113,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 90,
      "fwd_messages": [],
      "text": "6",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:18:02.381 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:02.382 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:18:02.383 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:18:02.384 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:18:02.385 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:18:02.387 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:18:02.388 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:18:02.389 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:02.390 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:02.391 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:02.392 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:18:02.393 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:18:02.394 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:18:02.395 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:02.396 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:02.396 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:02.398 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:02.399 +03:00 [ERR] Callback function
2024-10-03 23:18:02.399 +03:00 [ERR] 
2024-10-03 23:18:03.124 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:18:03.125 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:18:03.126 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:18:03.126 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:18:03.127 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:18:03.127 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:18:03.128 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 738.7822ms
2024-10-03 23:18:03.129 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:03.129 +03:00 [DBG] Connection id "0HN73T1F19AV5" completed keep alive response.
2024-10-03 23:18:03.130 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 759.1035ms
2024-10-03 23:18:08.316 +03:00 [DBG] Connection id "0HN73T1F19AV6" accepted.
2024-10-03 23:18:08.317 +03:00 [DBG] Connection id "0HN73T1F19AV6" started.
2024-10-03 23:18:08.318 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:18:08.319 +03:00 [DBG] POST requests are not supported
2024-10-03 23:18:08.319 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:18:08.320 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:18:08.321 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:08.322 +03:00 [DBG] Connection id "0HN73T1F19AV6", Request id "0HN73T1F19AV6:00000001": started reading request body.
2024-10-03 23:18:08.322 +03:00 [DBG] Connection id "0HN73T1F19AV6", Request id "0HN73T1F19AV6:00000001": done reading request body.
2024-10-03 23:18:08.323 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "a9f4fc44ee383fac03e010b4ab2d82e46946d6e1",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986490,
      "from_id": 651565729,
      "id": 96,
      "version": 10000115,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 92,
      "fwd_messages": [],
      "text": "5",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:18:08.324 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:08.324 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:18:08.325 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:18:08.326 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:18:08.327 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:18:08.328 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:18:08.329 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:18:08.330 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:08.331 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:08.332 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:08.333 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:18:08.333 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:18:08.334 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:18:08.335 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:08.335 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:08.336 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:08.337 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:08.337 +03:00 [ERR] Callback function
2024-10-03 23:18:08.338 +03:00 [ERR] 
2024-10-03 23:18:09.124 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:18:09.126 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:18:09.127 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:18:09.127 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:18:09.128 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:18:09.129 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:18:09.130 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 799.9281ms
2024-10-03 23:18:09.131 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:09.132 +03:00 [DBG] Connection id "0HN73T1F19AV6" completed keep alive response.
2024-10-03 23:18:09.133 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 815.626ms
2024-10-03 23:18:12.331 +03:00 [DBG] Connection id "0HN73T1F19AV7" accepted.
2024-10-03 23:18:12.333 +03:00 [DBG] Connection id "0HN73T1F19AV7" started.
2024-10-03 23:18:12.335 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:18:12.337 +03:00 [DBG] POST requests are not supported
2024-10-03 23:18:12.337 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:18:12.338 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:18:12.339 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:12.339 +03:00 [DBG] Connection id "0HN73T1F19AV7", Request id "0HN73T1F19AV7:00000001": started reading request body.
2024-10-03 23:18:12.340 +03:00 [DBG] Connection id "0HN73T1F19AV7", Request id "0HN73T1F19AV7:00000001": done reading request body.
2024-10-03 23:18:12.341 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "35822d65d4b5cdcba6539a3cdcf7d29ca33ecc5c",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986501,
      "from_id": 651565729,
      "id": 97,
      "version": 10000116,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 93,
      "fwd_messages": [],
      "text": "1",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:18:12.342 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:12.342 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:18:12.343 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:18:12.344 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:18:12.345 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:18:12.346 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:18:12.347 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:18:12.347 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:12.348 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:12.349 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:12.349 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:18:12.354 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:18:12.355 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:18:12.356 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:12.357 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:12.357 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:12.358 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:12.359 +03:00 [ERR] Callback function
2024-10-03 23:18:12.359 +03:00 [ERR] 
2024-10-03 23:18:13.335 +03:00 [DBG] Connection id "0HN73T1F19AV8" accepted.
2024-10-03 23:18:13.337 +03:00 [DBG] Connection id "0HN73T1F19AV8" started.
2024-10-03 23:18:13.339 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:18:13.342 +03:00 [DBG] POST requests are not supported
2024-10-03 23:18:13.343 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:18:13.345 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:18:13.346 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:13.347 +03:00 [DBG] Connection id "0HN73T1F19AV8", Request id "0HN73T1F19AV8:00000001": started reading request body.
2024-10-03 23:18:13.348 +03:00 [DBG] Connection id "0HN73T1F19AV8", Request id "0HN73T1F19AV8:00000001": done reading request body.
2024-10-03 23:18:13.349 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "834b5709c373c631082115645fc129db9e459958",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986502,
      "from_id": 651565729,
      "id": 98,
      "version": 10000117,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 94,
      "fwd_messages": [],
      "text": "1",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:18:13.351 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:13.355 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:18:13.357 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:18:13.358 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:18:13.359 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:18:13.360 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:18:13.361 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:18:13.362 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:13.363 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:13.364 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:13.365 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:18:13.366 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:18:13.367 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:18:13.368 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:13.369 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:13.370 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:13.371 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:13.372 +03:00 [ERR] Callback function
2024-10-03 23:18:13.373 +03:00 [ERR] 
2024-10-03 23:18:13.396 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:18:13.398 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:18:13.398 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:18:13.399 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:18:13.399 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:18:13.400 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:18:13.401 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 1053.2463ms
2024-10-03 23:18:13.401 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:13.401 +03:00 [DBG] Connection id "0HN73T1F19AV7" completed keep alive response.
2024-10-03 23:18:13.402 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 1066.7717ms
2024-10-03 23:18:14.114 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:18:14.116 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:18:14.117 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:18:14.117 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:18:14.118 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:18:14.119 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:18:14.120 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 757.9483ms
2024-10-03 23:18:14.122 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:14.123 +03:00 [DBG] Connection id "0HN73T1F19AV8" completed keep alive response.
2024-10-03 23:18:14.124 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 785.5083ms
2024-10-03 23:18:14.294 +03:00 [DBG] Connection id "0HN73T1F19AV9" accepted.
2024-10-03 23:18:14.295 +03:00 [DBG] Connection id "0HN73T1F19AV9" started.
2024-10-03 23:18:14.296 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:18:14.298 +03:00 [DBG] POST requests are not supported
2024-10-03 23:18:14.298 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:18:14.298 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:18:14.298 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:14.299 +03:00 [DBG] Connection id "0HN73T1F19AV9", Request id "0HN73T1F19AV9:00000001": started reading request body.
2024-10-03 23:18:14.299 +03:00 [DBG] Connection id "0HN73T1F19AV9", Request id "0HN73T1F19AV9:00000001": done reading request body.
2024-10-03 23:18:14.300 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "f69ed40f64501a801ab03791792a130ce22ce2f4",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986503,
      "from_id": 651565729,
      "id": 99,
      "version": 10000118,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 95,
      "fwd_messages": [],
      "text": "1",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:18:14.301 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:14.302 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:18:14.302 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:18:14.303 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:18:14.303 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:18:14.304 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:18:14.305 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:18:14.306 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:14.306 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:14.307 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:14.307 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:18:14.308 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:18:14.309 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:18:14.310 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:14.310 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:14.311 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:14.311 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:14.312 +03:00 [ERR] Callback function
2024-10-03 23:18:14.312 +03:00 [ERR] 
2024-10-03 23:18:14.330 +03:00 [DBG] Connection id "0HN73T1F19AVA" accepted.
2024-10-03 23:18:14.332 +03:00 [DBG] Connection id "0HN73T1F19AVA" started.
2024-10-03 23:18:14.692 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 566
2024-10-03 23:18:14.694 +03:00 [DBG] POST requests are not supported
2024-10-03 23:18:14.696 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:18:14.696 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:18:14.697 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:14.697 +03:00 [DBG] Connection id "0HN73T1F19AVA", Request id "0HN73T1F19AVA:00000001": started reading request body.
2024-10-03 23:18:14.698 +03:00 [DBG] Connection id "0HN73T1F19AVA", Request id "0HN73T1F19AVA:00000001": done reading request body.
2024-10-03 23:18:14.698 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "6b929b91201ac0a312a0d5b779753cdcb312f5ea",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986504,
      "from_id": 651565729,
      "id": 100,
      "version": 10000119,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 96,
      "fwd_messages": [],
      "text": "1",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:18:14.699 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:14.699 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:18:14.700 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:18:14.700 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:18:14.700 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:18:14.701 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:18:14.702 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:18:14.703 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:14.703 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:14.704 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:14.705 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:18:14.706 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:18:14.707 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:18:14.707 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:14.708 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:14.709 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:14.710 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:14.710 +03:00 [ERR] Callback function
2024-10-03 23:18:14.711 +03:00 [ERR] 
2024-10-03 23:18:15.013 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:18:15.015 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:18:15.015 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:18:15.015 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:18:15.016 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:18:15.017 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:18:15.017 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 711.8426ms
2024-10-03 23:18:15.018 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:15.018 +03:00 [DBG] Connection id "0HN73T1F19AV9" completed keep alive response.
2024-10-03 23:18:15.019 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 722.4507ms
2024-10-03 23:18:15.445 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:18:15.446 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:18:15.447 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:18:15.447 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:18:15.448 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:18:15.448 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:18:15.449 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 746.2766ms
2024-10-03 23:18:15.450 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:15.450 +03:00 [DBG] Connection id "0HN73T1F19AVA" completed keep alive response.
2024-10-03 23:18:15.451 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 758.8846ms
2024-10-03 23:18:23.313 +03:00 [DBG] Connection id "0HN73T1F19AVB" accepted.
2024-10-03 23:18:23.314 +03:00 [DBG] Connection id "0HN73T1F19AVB" started.
2024-10-03 23:18:23.315 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 566
2024-10-03 23:18:23.316 +03:00 [DBG] POST requests are not supported
2024-10-03 23:18:23.316 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:18:23.316 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:18:23.317 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:23.318 +03:00 [DBG] Connection id "0HN73T1F19AVB", Request id "0HN73T1F19AVB:00000001": started reading request body.
2024-10-03 23:18:23.319 +03:00 [DBG] Connection id "0HN73T1F19AVB", Request id "0HN73T1F19AVB:00000001": done reading request body.
2024-10-03 23:18:23.319 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "d65d91334e5cd5f51f7f65d0eb6e8a7896fad49e",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986505,
      "from_id": 651565729,
      "id": 101,
      "version": 10000120,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 97,
      "fwd_messages": [],
      "text": "1",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:18:23.319 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:23.320 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:18:23.321 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:18:23.321 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:18:23.322 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:18:23.323 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:18:23.323 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:18:23.324 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:23.325 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:23.326 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:23.328 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:18:23.329 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:18:23.331 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:18:23.332 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:23.333 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:23.334 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:23.335 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:23.336 +03:00 [ERR] Callback function
2024-10-03 23:18:23.336 +03:00 [ERR] 
2024-10-03 23:18:24.034 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:18:24.036 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:18:24.036 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:18:24.037 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:18:24.037 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:18:24.037 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:18:24.038 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 713.9319ms
2024-10-03 23:18:24.039 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:24.040 +03:00 [DBG] Connection id "0HN73T1F19AVB" completed keep alive response.
2024-10-03 23:18:24.040 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 724.8947ms
2024-10-03 23:18:27.991 +03:00 [DBG] Connection id "0HN73T1F19AUL" received FIN.
2024-10-03 23:18:27.993 +03:00 [DBG] Connection id "0HN73T1F19AUL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:18:27.994 +03:00 [DBG] Connection id "0HN73T1F19AUL" disconnecting.
2024-10-03 23:18:27.995 +03:00 [DBG] Connection id "0HN73T1F19AUL" stopped.
2024-10-03 23:18:34.329 +03:00 [DBG] Connection id "0HN73T1F19AVC" accepted.
2024-10-03 23:18:34.329 +03:00 [DBG] Connection id "0HN73T1F19AVC" started.
2024-10-03 23:18:34.330 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:18:34.331 +03:00 [DBG] POST requests are not supported
2024-10-03 23:18:34.331 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:18:34.332 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:18:34.333 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:34.333 +03:00 [DBG] Connection id "0HN73T1F19AVC", Request id "0HN73T1F19AVC:00000001": started reading request body.
2024-10-03 23:18:34.334 +03:00 [DBG] Connection id "0HN73T1F19AVC", Request id "0HN73T1F19AVC:00000001": done reading request body.
2024-10-03 23:18:34.334 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "711fa8dde2dfdab52f0fb8265ac0f8881e439144",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727985906,
      "from_id": 651565729,
      "id": 84,
      "version": 10000103,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 80,
      "fwd_messages": [],
      "text": "5",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:18:34.335 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:34.336 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:18:34.337 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:18:34.337 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:18:34.338 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:18:34.339 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:18:34.340 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:18:34.341 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:34.342 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:34.344 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:34.344 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:18:34.345 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:18:34.346 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:18:34.347 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:34.347 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:34.348 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:34.349 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:34.349 +03:00 [ERR] Callback function
2024-10-03 23:18:34.350 +03:00 [ERR] 
2024-10-03 23:18:35.216 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:18:35.220 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:18:35.222 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:18:35.223 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:18:35.224 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:18:35.225 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:18:35.226 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 885.1672ms
2024-10-03 23:18:35.227 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:35.228 +03:00 [DBG] Connection id "0HN73T1F19AVC" completed keep alive response.
2024-10-03 23:18:35.229 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 898.9603ms
2024-10-03 23:18:38.307 +03:00 [DBG] Connection id "0HN73T1F19AVD" accepted.
2024-10-03 23:18:38.307 +03:00 [DBG] Connection id "0HN73T1F19AVD" started.
2024-10-03 23:18:38.308 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 566
2024-10-03 23:18:38.309 +03:00 [DBG] POST requests are not supported
2024-10-03 23:18:38.310 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:18:38.310 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:18:38.310 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:38.311 +03:00 [DBG] Connection id "0HN73T1F19AVD", Request id "0HN73T1F19AVD:00000001": started reading request body.
2024-10-03 23:18:38.311 +03:00 [DBG] Connection id "0HN73T1F19AVD", Request id "0HN73T1F19AVD:00000001": done reading request body.
2024-10-03 23:18:38.311 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "4e81beae7193d3fb983d2efe9f3339ee6532cbf4",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986517,
      "from_id": 651565729,
      "id": 102,
      "version": 10000121,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 98,
      "fwd_messages": [],
      "text": "5",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:18:38.312 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:38.313 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:18:38.314 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:18:38.315 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:18:38.315 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:18:38.316 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:18:38.317 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:18:38.318 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:38.318 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:38.319 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:38.320 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:18:38.320 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:18:38.321 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:18:38.322 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:38.323 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:38.323 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:38.324 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:38.325 +03:00 [ERR] Callback function
2024-10-03 23:18:38.325 +03:00 [ERR] 
2024-10-03 23:18:39.031 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:18:39.042 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:18:39.043 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:18:39.043 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:18:39.044 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:18:39.044 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:18:39.045 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 727.1005ms
2024-10-03 23:18:39.045 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:39.046 +03:00 [DBG] Connection id "0HN73T1F19AVD" completed keep alive response.
2024-10-03 23:18:39.047 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 738.1156ms
2024-10-03 23:18:39.308 +03:00 [DBG] Connection id "0HN73T1F19AVE" accepted.
2024-10-03 23:18:39.309 +03:00 [DBG] Connection id "0HN73T1F19AVE" started.
2024-10-03 23:18:39.309 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 566
2024-10-03 23:18:39.310 +03:00 [DBG] POST requests are not supported
2024-10-03 23:18:39.311 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:18:39.312 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:18:39.312 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:39.313 +03:00 [DBG] Connection id "0HN73T1F19AVE", Request id "0HN73T1F19AVE:00000001": started reading request body.
2024-10-03 23:18:39.313 +03:00 [DBG] Connection id "0HN73T1F19AVE", Request id "0HN73T1F19AVE:00000001": done reading request body.
2024-10-03 23:18:39.314 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "1594a890e12ebf3d810e3b1958cd1432236aa77c",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986521,
      "from_id": 651565729,
      "id": 103,
      "version": 10000122,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 99,
      "fwd_messages": [],
      "text": "4",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:18:39.315 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:39.315 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:18:39.316 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:18:39.317 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:18:39.318 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:18:39.319 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:18:39.320 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:18:39.321 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:39.322 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:39.322 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:39.323 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:18:39.324 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:18:39.324 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:18:39.325 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:39.325 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:39.326 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:39.327 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:39.327 +03:00 [ERR] Callback function
2024-10-03 23:18:39.328 +03:00 [ERR] 
2024-10-03 23:18:40.125 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:18:40.127 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:18:40.127 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:18:40.128 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:18:40.128 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:18:40.129 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:18:40.130 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 809.1637ms
2024-10-03 23:18:40.131 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:40.132 +03:00 [DBG] Connection id "0HN73T1F19AVE" completed keep alive response.
2024-10-03 23:18:40.133 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 823.5512ms
2024-10-03 23:18:41.399 +03:00 [DBG] Connection id "0HN73T1F19AVF" accepted.
2024-10-03 23:18:41.400 +03:00 [DBG] Connection id "0HN73T1F19AVF" started.
2024-10-03 23:18:41.400 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 567
2024-10-03 23:18:41.402 +03:00 [DBG] POST requests are not supported
2024-10-03 23:18:41.403 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:18:41.403 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:18:41.404 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:41.404 +03:00 [DBG] Connection id "0HN73T1F19AVF", Request id "0HN73T1F19AVF:00000001": started reading request body.
2024-10-03 23:18:41.404 +03:00 [DBG] Connection id "0HN73T1F19AVF", Request id "0HN73T1F19AVF:00000001": done reading request body.
2024-10-03 23:18:41.406 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "27e0f0d27e2c27a7305abf0bf57e5e40d55360c5",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986522,
      "from_id": 651565729,
      "id": 105,
      "version": 10000124,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 101,
      "fwd_messages": [],
      "text": "3",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:18:41.407 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:41.407 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:18:41.408 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:18:41.409 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:18:41.410 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:18:41.411 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:18:41.412 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:18:41.412 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:41.413 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:41.414 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:41.414 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:18:41.415 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:18:41.416 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:18:41.416 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:41.417 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:41.418 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:41.418 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:41.419 +03:00 [ERR] Callback function
2024-10-03 23:18:41.419 +03:00 [ERR] 
2024-10-03 23:18:42.820 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:18:42.822 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:18:42.823 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:18:42.824 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:18:42.824 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:18:42.826 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:18:42.827 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 1414.7429ms
2024-10-03 23:18:42.828 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:42.829 +03:00 [DBG] Connection id "0HN73T1F19AVF" completed keep alive response.
2024-10-03 23:18:42.829 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 1428.991ms
2024-10-03 23:18:48.313 +03:00 [DBG] Connection id "0HN73T1F19AVG" accepted.
2024-10-03 23:18:48.314 +03:00 [DBG] Connection id "0HN73T1F19AVG" started.
2024-10-03 23:18:48.315 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 567
2024-10-03 23:18:48.316 +03:00 [DBG] POST requests are not supported
2024-10-03 23:18:48.316 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:18:48.317 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:18:48.318 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:48.318 +03:00 [DBG] Connection id "0HN73T1F19AVG", Request id "0HN73T1F19AVG:00000001": started reading request body.
2024-10-03 23:18:48.319 +03:00 [DBG] Connection id "0HN73T1F19AVG", Request id "0HN73T1F19AVG:00000001": done reading request body.
2024-10-03 23:18:48.320 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "768e9bfbcb5d1ba3bd79ccb5bb613d26b0f11b27",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986522,
      "from_id": 651565729,
      "id": 104,
      "version": 10000123,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 100,
      "fwd_messages": [],
      "text": "3",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:18:48.321 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:48.321 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:18:48.322 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:18:48.323 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:18:48.324 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:18:48.325 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:18:48.326 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:18:48.327 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:48.327 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:48.328 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:48.329 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:18:48.329 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:18:48.330 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:18:48.331 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:48.331 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:48.332 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:48.333 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:48.333 +03:00 [ERR] Callback function
2024-10-03 23:18:48.334 +03:00 [ERR] 
2024-10-03 23:18:49.078 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:18:49.079 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:18:49.079 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:18:49.079 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:18:49.080 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:18:49.080 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:18:49.080 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 753.4494ms
2024-10-03 23:18:49.080 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:49.081 +03:00 [DBG] Connection id "0HN73T1F19AVG" completed keep alive response.
2024-10-03 23:18:49.082 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 767.5443ms
2024-10-03 23:18:49.298 +03:00 [DBG] Connection id "0HN73T1F19AVH" accepted.
2024-10-03 23:18:49.299 +03:00 [DBG] Connection id "0HN73T1F19AVH" started.
2024-10-03 23:18:49.300 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 567
2024-10-03 23:18:49.301 +03:00 [DBG] POST requests are not supported
2024-10-03 23:18:49.302 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:18:49.304 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:18:49.305 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:49.305 +03:00 [DBG] Connection id "0HN73T1F19AVH", Request id "0HN73T1F19AVH:00000001": started reading request body.
2024-10-03 23:18:49.306 +03:00 [DBG] Connection id "0HN73T1F19AVH", Request id "0HN73T1F19AVH:00000001": done reading request body.
2024-10-03 23:18:49.307 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "900eb9d6e26a8e805d9b3b892b5d9955aa90609b",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727986523,
      "from_id": 651565729,
      "id": 106,
      "version": 10000125,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 102,
      "fwd_messages": [],
      "text": "1",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:18:49.309 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:49.309 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:18:49.311 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:18:49.312 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:18:49.313 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:18:49.314 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:18:49.315 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:18:49.316 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:49.317 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:18:49.318 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:49.322 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:18:49.323 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:18:49.324 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:18:49.325 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:49.326 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:49.327 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:18:49.327 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:18:49.328 +03:00 [ERR] Callback function
2024-10-03 23:18:49.329 +03:00 [ERR] 
2024-10-03 23:18:49.626 +03:00 [DBG] Connection id "0HN73T1F19AUN" received FIN.
2024-10-03 23:18:49.626 +03:00 [DBG] Connection id "0HN73T1F19AUM" received FIN.
2024-10-03 23:18:49.627 +03:00 [DBG] Connection id "0HN73T1F19AUN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:18:49.628 +03:00 [DBG] Connection id "0HN73T1F19AUM" disconnecting.
2024-10-03 23:18:49.632 +03:00 [DBG] Connection id "0HN73T1F19AUN" disconnecting.
2024-10-03 23:18:49.634 +03:00 [DBG] Connection id "0HN73T1F19AUM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:18:49.635 +03:00 [DBG] Connection id "0HN73T1F19AUN" stopped.
2024-10-03 23:18:49.643 +03:00 [DBG] Connection id "0HN73T1F19AUM" stopped.
2024-10-03 23:18:50.080 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:18:50.081 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:18:50.081 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:18:50.082 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:18:50.082 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:18:50.082 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:18:50.083 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 767.0994ms
2024-10-03 23:18:50.084 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:18:50.085 +03:00 [DBG] Connection id "0HN73T1F19AVH" completed keep alive response.
2024-10-03 23:18:50.085 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 785.3759ms
2024-10-03 23:18:51.437 +03:00 [DBG] Connection id "0HN73T1F19AUO" received FIN.
2024-10-03 23:18:51.438 +03:00 [DBG] Connection id "0HN73T1F19AUO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:18:51.438 +03:00 [DBG] Connection id "0HN73T1F19AUO" disconnecting.
2024-10-03 23:18:51.439 +03:00 [DBG] Connection id "0HN73T1F19AUO" stopped.
2024-10-03 23:18:51.821 +03:00 [DBG] Connection id "0HN73T1F19AUP" received FIN.
2024-10-03 23:18:51.823 +03:00 [DBG] Connection id "0HN73T1F19AUP" disconnecting.
2024-10-03 23:18:51.824 +03:00 [DBG] Connection id "0HN73T1F19AUP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:18:51.836 +03:00 [DBG] Connection id "0HN73T1F19AUP" stopped.
2024-10-03 23:19:52.941 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 23:19:53.016 +03:00 [DBG] Hosting starting
2024-10-03 23:19:53.072 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 23:19:53.150 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 23:19:53.151 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 23:19:53.152 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 23:19:53.153 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 23:19:53.154 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 23:19:53.155 +03:00 [INF] Hosting environment: Development
2024-10-03 23:19:53.156 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 23:19:53.157 +03:00 [DBG] Hosting started
2024-10-03 23:19:53.377 +03:00 [DBG] Connection id "0HN73T2UQLI5C" accepted.
2024-10-03 23:19:53.377 +03:00 [DBG] Connection id "0HN73T2UQLI5B" accepted.
2024-10-03 23:19:53.379 +03:00 [DBG] Connection id "0HN73T2UQLI5C" started.
2024-10-03 23:19:53.379 +03:00 [DBG] Connection id "0HN73T2UQLI5B" started.
2024-10-03 23:19:53.388 +03:00 [DBG] Connection id "0HN73T2UQLI5C" received FIN.
2024-10-03 23:19:53.388 +03:00 [DBG] Connection id "0HN73T2UQLI5B" received FIN.
2024-10-03 23:19:53.393 +03:00 [DBG] Connection id "0HN73T2UQLI5C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:19:53.393 +03:00 [DBG] Connection id "0HN73T2UQLI5B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:19:53.395 +03:00 [DBG] Connection id "0HN73T2UQLI5C" disconnecting.
2024-10-03 23:19:53.396 +03:00 [DBG] Connection id "0HN73T2UQLI5B" disconnecting.
2024-10-03 23:19:53.403 +03:00 [DBG] Connection id "0HN73T2UQLI5B" stopped.
2024-10-03 23:19:53.403 +03:00 [DBG] Connection id "0HN73T2UQLI5C" stopped.
2024-10-03 23:19:53.812 +03:00 [DBG] Connection id "0HN73T2UQLI5D" accepted.
2024-10-03 23:19:53.813 +03:00 [DBG] Connection id "0HN73T2UQLI5D" started.
2024-10-03 23:19:53.819 +03:00 [DBG] Connection id "0HN73T2UQLI5E" accepted.
2024-10-03 23:19:53.821 +03:00 [DBG] Connection id "0HN73T2UQLI5E" started.
2024-10-03 23:19:53.845 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 23:19:53.957 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 23:19:53.962 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 23:19:53.975 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 23:19:53.978 +03:00 [DBG] Request did not match any endpoints
2024-10-03 23:19:53.991 +03:00 [DBG] Connection id "0HN73T2UQLI5D" completed keep alive response.
2024-10-03 23:19:53.994 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 153.7006ms
2024-10-03 23:19:53.998 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 23:20:01.327 +03:00 [DBG] Connection id "0HN73T2UQLI5F" accepted.
2024-10-03 23:20:01.329 +03:00 [DBG] Connection id "0HN73T2UQLI5F" started.
2024-10-03 23:20:01.330 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:01.332 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:01.335 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:01.337 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:01.338 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:01.342 +03:00 [DBG] Connection id "0HN73T2UQLI5F", Request id "0HN73T2UQLI5F:00000001": started reading request body.
2024-10-03 23:20:01.343 +03:00 [DBG] Connection id "0HN73T2UQLI5F", Request id "0HN73T2UQLI5F:00000001": done reading request body.
2024-10-03 23:20:01.427 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "2fdcfc2419f2a974035ab4a13cb2d1312bb3d247",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 149,
    "conversation_message_id": 145
  }
}
2024-10-03 23:20:01.429 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:01.457 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:01.459 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:01.460 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:01.461 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:01.462 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:01.463 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:01.465 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:01.480 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:01.484 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:01.486 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:01.488 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:01.489 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:01.511 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:01.518 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:01.520 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:01.559 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:01.562 +03:00 [ERR] Callback function
2024-10-03 23:20:01.563 +03:00 [ERR] 
2024-10-03 23:20:02.314 +03:00 [DBG] Connection id "0HN73T2UQLI5G" accepted.
2024-10-03 23:20:02.316 +03:00 [DBG] Connection id "0HN73T2UQLI5G" started.
2024-10-03 23:20:02.316 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:02.318 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:02.319 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:02.320 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:02.320 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:02.321 +03:00 [DBG] Connection id "0HN73T2UQLI5G", Request id "0HN73T2UQLI5G:00000001": started reading request body.
2024-10-03 23:20:02.323 +03:00 [DBG] Connection id "0HN73T2UQLI5H" accepted.
2024-10-03 23:20:02.325 +03:00 [DBG] Connection id "0HN73T2UQLI5G", Request id "0HN73T2UQLI5G:00000001": done reading request body.
2024-10-03 23:20:02.326 +03:00 [DBG] Connection id "0HN73T2UQLI5H" started.
2024-10-03 23:20:02.327 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "3907b81eed091203e08bbbfc95c138df80ff37b1",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 158,
    "conversation_message_id": 154
  }
}
2024-10-03 23:20:02.327 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:02.328 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:02.331 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:02.332 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:02.332 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:02.333 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:02.334 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:02.335 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:02.338 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:02.339 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:02.340 +03:00 [DBG] Connection id "0HN73T2UQLI5H", Request id "0HN73T2UQLI5H:00000001": started reading request body.
2024-10-03 23:20:02.342 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:02.343 +03:00 [DBG] Connection id "0HN73T2UQLI5H", Request id "0HN73T2UQLI5H:00000001": done reading request body.
2024-10-03 23:20:02.344 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:02.345 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "14f6f32e598a1782e9172872a04c77ae226dd304",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 164,
    "conversation_message_id": 160
  }
}
2024-10-03 23:20:02.346 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:02.347 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:02.348 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:02.349 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:02.350 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:02.352 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:02.354 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:02.355 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:02.356 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:02.357 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:02.358 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:02.360 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:02.361 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:02.362 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:02.363 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:02.364 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:02.365 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:02.366 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:02.367 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:02.368 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:02.369 +03:00 [ERR] Callback function
2024-10-03 23:20:02.370 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:02.370 +03:00 [ERR] 
2024-10-03 23:20:02.371 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:02.373 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:02.374 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:02.375 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:02.376 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:02.377 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:02.378 +03:00 [ERR] Callback function
2024-10-03 23:20:02.379 +03:00 [ERR] 
2024-10-03 23:20:04.073 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:04.076 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:04.077 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:04.077 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:04.078 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:04.079 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:04.083 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 2616.6721ms
2024-10-03 23:20:04.083 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:04.084 +03:00 [DBG] Connection id "0HN73T2UQLI5F" completed keep alive response.
2024-10-03 23:20:04.085 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 2754.6635ms
2024-10-03 23:20:04.369 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:04.370 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:04.370 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:04.371 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:04.381 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:04.382 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:04.384 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 2019.9732ms
2024-10-03 23:20:04.385 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:04.387 +03:00 [DBG] Connection id "0HN73T2UQLI5H" completed keep alive response.
2024-10-03 23:20:04.388 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 2060.9286ms
2024-10-03 23:20:04.408 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:04.410 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:04.410 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:04.411 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:04.411 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:04.412 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:04.413 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 2067.4259ms
2024-10-03 23:20:04.414 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:04.415 +03:00 [DBG] Connection id "0HN73T2UQLI5G" completed keep alive response.
2024-10-03 23:20:04.416 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 2099.8381ms
2024-10-03 23:20:04.766 +03:00 [DBG] Connection id "0HN73T2UQLI5I" accepted.
2024-10-03 23:20:04.767 +03:00 [DBG] Connection id "0HN73T2UQLI5I" started.
2024-10-03 23:20:04.768 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:04.769 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:04.770 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:04.770 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:04.771 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:04.772 +03:00 [DBG] Connection id "0HN73T2UQLI5I", Request id "0HN73T2UQLI5I:00000001": started reading request body.
2024-10-03 23:20:04.772 +03:00 [DBG] Connection id "0HN73T2UQLI5I", Request id "0HN73T2UQLI5I:00000001": done reading request body.
2024-10-03 23:20:04.773 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "ab908692669cbbb3cb9108c43af5c2a5207c269d",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 165,
    "conversation_message_id": 161
  }
}
2024-10-03 23:20:04.774 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:04.775 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:04.776 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:04.777 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:04.777 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:04.779 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:04.780 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:04.780 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:04.783 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:04.783 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:04.784 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:04.785 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:04.786 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:04.786 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:04.787 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:04.788 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:04.789 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:04.790 +03:00 [ERR] Callback function
2024-10-03 23:20:04.790 +03:00 [ERR] 
2024-10-03 23:20:05.034 +03:00 [DBG] Connection id "0HN73T2UQLI5J" accepted.
2024-10-03 23:20:05.034 +03:00 [DBG] Connection id "0HN73T2UQLI5J" started.
2024-10-03 23:20:05.155 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:05.156 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:05.157 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:05.157 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:05.158 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:05.159 +03:00 [DBG] Connection id "0HN73T2UQLI5J", Request id "0HN73T2UQLI5J:00000001": started reading request body.
2024-10-03 23:20:05.159 +03:00 [DBG] Connection id "0HN73T2UQLI5J", Request id "0HN73T2UQLI5J:00000001": done reading request body.
2024-10-03 23:20:05.160 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "6a7c2f2109f0d449b359ec91bae955ec1e02b836",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 167,
    "conversation_message_id": 163
  }
}
2024-10-03 23:20:05.160 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:05.161 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:05.162 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:05.163 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:05.164 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:05.165 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:05.166 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:05.167 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:05.167 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:05.168 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:05.169 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:05.170 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:05.170 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:05.171 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:05.172 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:05.172 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:05.173 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:05.174 +03:00 [ERR] Callback function
2024-10-03 23:20:05.174 +03:00 [ERR] 
2024-10-03 23:20:05.519 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:05.520 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:05.520 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:05.521 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:05.521 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:05.523 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:05.524 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 743.5676ms
2024-10-03 23:20:05.525 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:05.525 +03:00 [DBG] Connection id "0HN73T2UQLI5I" completed keep alive response.
2024-10-03 23:20:05.526 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 757.744ms
2024-10-03 23:20:05.875 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:05.877 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:05.877 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:05.878 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:05.878 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:05.879 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:05.882 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 715.6522ms
2024-10-03 23:20:05.884 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:05.885 +03:00 [DBG] Connection id "0HN73T2UQLI5J" completed keep alive response.
2024-10-03 23:20:05.886 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 731.0025ms
2024-10-03 23:20:06.187 +03:00 [DBG] Connection id "0HN73T2UQLI5K" accepted.
2024-10-03 23:20:06.187 +03:00 [DBG] Connection id "0HN73T2UQLI5K" started.
2024-10-03 23:20:06.189 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:06.191 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:06.191 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:06.191 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:06.192 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:06.193 +03:00 [DBG] Connection id "0HN73T2UQLI5K", Request id "0HN73T2UQLI5K:00000001": started reading request body.
2024-10-03 23:20:06.193 +03:00 [DBG] Connection id "0HN73T2UQLI5K", Request id "0HN73T2UQLI5K:00000001": done reading request body.
2024-10-03 23:20:06.194 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "a3045a41b4e1d993bf8f04dffd3e2fa44e523d73",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 168,
    "conversation_message_id": 164
  }
}
2024-10-03 23:20:06.195 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:06.195 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:06.196 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:06.197 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:06.198 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:06.200 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:06.201 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:06.202 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:06.203 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:06.204 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:06.204 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:06.205 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:06.206 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:06.207 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:06.208 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:06.209 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:06.210 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:06.211 +03:00 [ERR] Callback function
2024-10-03 23:20:06.212 +03:00 [ERR] 
2024-10-03 23:20:06.566 +03:00 [DBG] Connection id "0HN73T2UQLI5L" accepted.
2024-10-03 23:20:06.567 +03:00 [DBG] Connection id "0HN73T2UQLI5L" started.
2024-10-03 23:20:06.567 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:06.569 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:06.569 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:06.570 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:06.571 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:06.571 +03:00 [DBG] Connection id "0HN73T2UQLI5L", Request id "0HN73T2UQLI5L:00000001": started reading request body.
2024-10-03 23:20:06.572 +03:00 [DBG] Connection id "0HN73T2UQLI5L", Request id "0HN73T2UQLI5L:00000001": done reading request body.
2024-10-03 23:20:06.572 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "1b4c3667573e95966dbe8f5c3d6330d8ad736d1b",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 169,
    "conversation_message_id": 165
  }
}
2024-10-03 23:20:06.573 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:06.574 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:06.575 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:06.575 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:06.576 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:06.577 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:06.578 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:06.579 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:06.579 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:06.580 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:06.580 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:06.581 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:06.581 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:06.582 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:06.583 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:06.583 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:06.584 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:06.585 +03:00 [ERR] Callback function
2024-10-03 23:20:06.585 +03:00 [ERR] 
2024-10-03 23:20:06.924 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:06.926 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:06.926 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:06.926 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:06.927 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:06.928 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:06.928 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 726.2616ms
2024-10-03 23:20:06.929 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:06.930 +03:00 [DBG] Connection id "0HN73T2UQLI5K" completed keep alive response.
2024-10-03 23:20:06.930 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 741.3387ms
2024-10-03 23:20:07.311 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:07.313 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:07.313 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:07.313 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:07.314 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:07.314 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:07.314 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 735.64ms
2024-10-03 23:20:07.315 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:07.315 +03:00 [DBG] Connection id "0HN73T2UQLI5L" completed keep alive response.
2024-10-03 23:20:07.316 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 748.4456ms
2024-10-03 23:20:07.638 +03:00 [DBG] Connection id "0HN73T2UQLI5M" accepted.
2024-10-03 23:20:07.641 +03:00 [DBG] Connection id "0HN73T2UQLI5M" started.
2024-10-03 23:20:07.642 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:07.645 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:07.645 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:07.647 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:07.648 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:07.649 +03:00 [DBG] Connection id "0HN73T2UQLI5M", Request id "0HN73T2UQLI5M:00000001": started reading request body.
2024-10-03 23:20:07.650 +03:00 [DBG] Connection id "0HN73T2UQLI5M", Request id "0HN73T2UQLI5M:00000001": done reading request body.
2024-10-03 23:20:07.651 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "9caccfe950bc004cebd935f4492c5fbaa571994c",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 170,
    "conversation_message_id": 166
  }
}
2024-10-03 23:20:07.652 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:07.653 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:07.654 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:07.655 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:07.656 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:07.658 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:07.659 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:07.660 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:07.660 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:07.661 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:07.663 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:07.664 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:07.665 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:07.667 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:07.668 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:07.668 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:07.669 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:07.670 +03:00 [ERR] Callback function
2024-10-03 23:20:07.671 +03:00 [ERR] 
2024-10-03 23:20:07.999 +03:00 [DBG] Connection id "0HN73T2UQLI5N" accepted.
2024-10-03 23:20:08.000 +03:00 [DBG] Connection id "0HN73T2UQLI5N" started.
2024-10-03 23:20:08.001 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:08.003 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:08.003 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:08.004 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:08.004 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:08.005 +03:00 [DBG] Connection id "0HN73T2UQLI5N", Request id "0HN73T2UQLI5N:00000001": started reading request body.
2024-10-03 23:20:08.006 +03:00 [DBG] Connection id "0HN73T2UQLI5N", Request id "0HN73T2UQLI5N:00000001": done reading request body.
2024-10-03 23:20:08.006 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "100098d7ac25f2bc72367d7c845fe80ffb73c6c0",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 171,
    "conversation_message_id": 167
  }
}
2024-10-03 23:20:08.007 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:08.008 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:08.009 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:08.009 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:08.010 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:08.011 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:08.011 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:08.012 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:08.012 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:08.013 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:08.014 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:08.014 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:08.015 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:08.016 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:08.017 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:08.017 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:08.018 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:08.019 +03:00 [ERR] Callback function
2024-10-03 23:20:08.019 +03:00 [ERR] 
2024-10-03 23:20:08.361 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:08.362 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:08.363 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:08.363 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:08.363 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:08.364 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:08.365 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 705.6167ms
2024-10-03 23:20:08.366 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:08.366 +03:00 [DBG] Connection id "0HN73T2UQLI5M" completed keep alive response.
2024-10-03 23:20:08.367 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 724.8719ms
2024-10-03 23:20:08.690 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:08.691 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:08.691 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:08.692 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:08.692 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:08.693 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:08.693 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 681.2254ms
2024-10-03 23:20:08.694 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:08.694 +03:00 [DBG] Connection id "0HN73T2UQLI5N" completed keep alive response.
2024-10-03 23:20:08.695 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 693.8138ms
2024-10-03 23:20:09.141 +03:00 [DBG] Connection id "0HN73T2UQLI5O" accepted.
2024-10-03 23:20:09.143 +03:00 [DBG] Connection id "0HN73T2UQLI5O" started.
2024-10-03 23:20:09.144 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:09.146 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:09.147 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:09.148 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:09.149 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:09.150 +03:00 [DBG] Connection id "0HN73T2UQLI5O", Request id "0HN73T2UQLI5O:00000001": started reading request body.
2024-10-03 23:20:09.151 +03:00 [DBG] Connection id "0HN73T2UQLI5O", Request id "0HN73T2UQLI5O:00000001": done reading request body.
2024-10-03 23:20:09.152 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "3baebf6ddfa95063ad4585df5102731ad79bcb77",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 172,
    "conversation_message_id": 168
  }
}
2024-10-03 23:20:09.153 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:09.154 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:09.155 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:09.156 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:09.157 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:09.159 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:09.160 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:09.161 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:09.163 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:09.164 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:09.165 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:09.166 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:09.167 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:09.168 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:09.169 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:09.170 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:09.171 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:09.172 +03:00 [ERR] Callback function
2024-10-03 23:20:09.173 +03:00 [ERR] 
2024-10-03 23:20:09.508 +03:00 [DBG] Connection id "0HN73T2UQLI5P" accepted.
2024-10-03 23:20:09.510 +03:00 [DBG] Connection id "0HN73T2UQLI5P" started.
2024-10-03 23:20:09.511 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:09.512 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:09.512 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:09.513 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:09.514 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:09.514 +03:00 [DBG] Connection id "0HN73T2UQLI5P", Request id "0HN73T2UQLI5P:00000001": started reading request body.
2024-10-03 23:20:09.515 +03:00 [DBG] Connection id "0HN73T2UQLI5P", Request id "0HN73T2UQLI5P:00000001": done reading request body.
2024-10-03 23:20:09.516 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "85dcb933158efd1687d1628013916c88484c2aad",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 173,
    "conversation_message_id": 169
  }
}
2024-10-03 23:20:09.516 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:09.517 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:09.518 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:09.519 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:09.520 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:09.521 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:09.522 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:09.523 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:09.523 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:09.524 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:09.525 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:09.525 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:09.526 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:09.527 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:09.527 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:09.528 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:09.529 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:09.530 +03:00 [ERR] Callback function
2024-10-03 23:20:09.530 +03:00 [ERR] 
2024-10-03 23:20:09.853 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:09.855 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:09.855 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:09.856 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:09.856 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:09.857 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:09.858 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 696.4386ms
2024-10-03 23:20:09.858 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:09.859 +03:00 [DBG] Connection id "0HN73T2UQLI5O" completed keep alive response.
2024-10-03 23:20:09.859 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 715.2602ms
2024-10-03 23:20:10.229 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:10.232 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:10.233 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:10.233 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:10.234 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:10.234 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:10.235 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 712.1391ms
2024-10-03 23:20:10.235 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:10.236 +03:00 [DBG] Connection id "0HN73T2UQLI5P" completed keep alive response.
2024-10-03 23:20:10.237 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 725.5564ms
2024-10-03 23:20:10.691 +03:00 [DBG] Connection id "0HN73T2UQLI5Q" accepted.
2024-10-03 23:20:10.691 +03:00 [DBG] Connection id "0HN73T2UQLI5Q" started.
2024-10-03 23:20:10.692 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:10.694 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:10.694 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:10.695 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:10.696 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:10.696 +03:00 [DBG] Connection id "0HN73T2UQLI5Q", Request id "0HN73T2UQLI5Q:00000001": started reading request body.
2024-10-03 23:20:10.697 +03:00 [DBG] Connection id "0HN73T2UQLI5Q", Request id "0HN73T2UQLI5Q:00000001": done reading request body.
2024-10-03 23:20:10.698 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "8652f47508252398e4189e89d9c616c8b58d14e7",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 174,
    "conversation_message_id": 170
  }
}
2024-10-03 23:20:10.698 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:10.699 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:10.700 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:10.701 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:10.701 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:10.703 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:10.703 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:10.704 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:10.705 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:10.705 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:10.706 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:10.707 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:10.707 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:10.708 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:10.709 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:10.710 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:10.710 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:10.711 +03:00 [ERR] Callback function
2024-10-03 23:20:10.712 +03:00 [ERR] 
2024-10-03 23:20:10.895 +03:00 [DBG] Connection id "0HN73T2UQLI5R" accepted.
2024-10-03 23:20:10.895 +03:00 [DBG] Connection id "0HN73T2UQLI5R" started.
2024-10-03 23:20:11.243 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:11.250 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:11.250 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:11.251 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:11.252 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:11.252 +03:00 [DBG] Connection id "0HN73T2UQLI5R", Request id "0HN73T2UQLI5R:00000001": started reading request body.
2024-10-03 23:20:11.253 +03:00 [DBG] Connection id "0HN73T2UQLI5R", Request id "0HN73T2UQLI5R:00000001": done reading request body.
2024-10-03 23:20:11.255 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "7939e70949eca033fd91a531b11674e2c40a3343",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 175,
    "conversation_message_id": 171
  }
}
2024-10-03 23:20:11.256 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:11.257 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:11.258 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:11.259 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:11.260 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:11.262 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:11.263 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:11.264 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:11.265 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:11.266 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:11.267 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:11.268 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:11.269 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:11.270 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:11.271 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:11.272 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:11.273 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:11.274 +03:00 [ERR] Callback function
2024-10-03 23:20:11.275 +03:00 [ERR] 
2024-10-03 23:20:11.724 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:11.724 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:11.726 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:11.727 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:11.727 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:11.728 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:11.728 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 1023.9649ms
2024-10-03 23:20:11.729 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:11.729 +03:00 [DBG] Connection id "0HN73T2UQLI5Q" completed keep alive response.
2024-10-03 23:20:11.729 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 1037.138ms
2024-10-03 23:20:11.954 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:11.960 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:11.961 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:11.962 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:11.963 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:11.964 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:11.964 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 700.7372ms
2024-10-03 23:20:11.966 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:11.967 +03:00 [DBG] Connection id "0HN73T2UQLI5R" completed keep alive response.
2024-10-03 23:20:11.968 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 724.176ms
2024-10-03 23:20:12.473 +03:00 [DBG] Connection id "0HN73T2UQLI5S" accepted.
2024-10-03 23:20:12.478 +03:00 [DBG] Connection id "0HN73T2UQLI5S" started.
2024-10-03 23:20:12.478 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:12.479 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:12.480 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:12.480 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:12.481 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:12.481 +03:00 [DBG] Connection id "0HN73T2UQLI5S", Request id "0HN73T2UQLI5S:00000001": started reading request body.
2024-10-03 23:20:12.482 +03:00 [DBG] Connection id "0HN73T2UQLI5S", Request id "0HN73T2UQLI5S:00000001": done reading request body.
2024-10-03 23:20:12.483 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "0d08b478eafc50776b83df3b4de671b52dd24801",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 176,
    "conversation_message_id": 172
  }
}
2024-10-03 23:20:12.484 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:12.485 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:12.487 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:12.488 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:12.489 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:12.490 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:12.492 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:12.493 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:12.494 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:12.494 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:12.495 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:12.496 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:12.497 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:12.498 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:12.499 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:12.500 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:12.502 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:12.502 +03:00 [ERR] Callback function
2024-10-03 23:20:12.503 +03:00 [ERR] 
2024-10-03 23:20:12.660 +03:00 [DBG] Connection id "0HN73T2UQLI5T" accepted.
2024-10-03 23:20:12.661 +03:00 [DBG] Connection id "0HN73T2UQLI5T" started.
2024-10-03 23:20:12.662 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:12.663 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:12.663 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:12.664 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:12.665 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:12.665 +03:00 [DBG] Connection id "0HN73T2UQLI5T", Request id "0HN73T2UQLI5T:00000001": started reading request body.
2024-10-03 23:20:12.666 +03:00 [DBG] Connection id "0HN73T2UQLI5T", Request id "0HN73T2UQLI5T:00000001": done reading request body.
2024-10-03 23:20:12.667 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "49f1cefbc43473c68441771106470bf74154e565",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 177,
    "conversation_message_id": 173
  }
}
2024-10-03 23:20:12.667 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:12.668 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:12.669 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:12.669 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:12.670 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:12.672 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:12.673 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:12.674 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:12.674 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:12.675 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:12.676 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:12.677 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:12.677 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:12.678 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:12.678 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:12.679 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:12.680 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:12.680 +03:00 [ERR] Callback function
2024-10-03 23:20:12.681 +03:00 [ERR] 
2024-10-03 23:20:13.221 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:13.222 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:13.222 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:13.223 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:13.223 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:13.224 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:13.224 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 731.8278ms
2024-10-03 23:20:13.225 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:13.225 +03:00 [DBG] Connection id "0HN73T2UQLI5S" completed keep alive response.
2024-10-03 23:20:13.226 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 747.7245ms
2024-10-03 23:20:13.347 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:13.348 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:13.349 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:13.349 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:13.350 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:13.350 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:13.350 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 676.4419ms
2024-10-03 23:20:13.352 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:13.354 +03:00 [DBG] Connection id "0HN73T2UQLI5T" completed keep alive response.
2024-10-03 23:20:13.356 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 694.1104ms
2024-10-03 23:20:13.968 +03:00 [DBG] Connection id "0HN73T2UQLI5U" accepted.
2024-10-03 23:20:13.969 +03:00 [DBG] Connection id "0HN73T2UQLI5U" started.
2024-10-03 23:20:13.970 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:13.971 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:13.972 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:13.973 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:13.973 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:13.974 +03:00 [DBG] Connection id "0HN73T2UQLI5U", Request id "0HN73T2UQLI5U:00000001": started reading request body.
2024-10-03 23:20:13.975 +03:00 [DBG] Connection id "0HN73T2UQLI5U", Request id "0HN73T2UQLI5U:00000001": done reading request body.
2024-10-03 23:20:13.975 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "13cbf84c7a1a29fefdde624b5364ade04b0e9837",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 178,
    "conversation_message_id": 174
  }
}
2024-10-03 23:20:13.976 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:13.976 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:13.977 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:13.978 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:13.979 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:13.980 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:13.980 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:13.981 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:13.982 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:13.983 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:13.984 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:13.984 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:13.985 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:13.986 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:13.986 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:13.987 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:13.988 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:13.988 +03:00 [ERR] Callback function
2024-10-03 23:20:13.989 +03:00 [ERR] 
2024-10-03 23:20:14.146 +03:00 [DBG] Connection id "0HN73T2UQLI5V" accepted.
2024-10-03 23:20:14.147 +03:00 [DBG] Connection id "0HN73T2UQLI5V" started.
2024-10-03 23:20:14.150 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:14.152 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:14.153 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:14.154 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:14.155 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:14.156 +03:00 [DBG] Connection id "0HN73T2UQLI5V", Request id "0HN73T2UQLI5V:00000001": started reading request body.
2024-10-03 23:20:14.157 +03:00 [DBG] Connection id "0HN73T2UQLI5V", Request id "0HN73T2UQLI5V:00000001": done reading request body.
2024-10-03 23:20:14.158 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "baeab10911b455ebfd67a57658a9868d2b0b9b8b",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 179,
    "conversation_message_id": 175
  }
}
2024-10-03 23:20:14.159 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:14.160 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:14.161 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:14.162 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:14.163 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:14.165 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:14.166 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:14.167 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:14.168 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:14.169 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:14.170 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:14.171 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:14.172 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:14.173 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:14.174 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:14.175 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:14.176 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:14.177 +03:00 [ERR] Callback function
2024-10-03 23:20:14.178 +03:00 [ERR] 
2024-10-03 23:20:14.675 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:14.676 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:14.676 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:14.677 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:14.677 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:14.678 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:14.678 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 696.9895ms
2024-10-03 23:20:14.679 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:14.679 +03:00 [DBG] Connection id "0HN73T2UQLI5U" completed keep alive response.
2024-10-03 23:20:14.680 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 709.7708ms
2024-10-03 23:20:14.862 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:14.864 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:14.865 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:14.865 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:14.866 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:14.866 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:14.867 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 700.133ms
2024-10-03 23:20:14.868 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:14.869 +03:00 [DBG] Connection id "0HN73T2UQLI5V" completed keep alive response.
2024-10-03 23:20:14.869 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 719.5632ms
2024-10-03 23:20:15.586 +03:00 [DBG] Connection id "0HN73T2UQLI60" accepted.
2024-10-03 23:20:15.587 +03:00 [DBG] Connection id "0HN73T2UQLI60" started.
2024-10-03 23:20:15.587 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:15.589 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:15.589 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:15.590 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:15.591 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:15.591 +03:00 [DBG] Connection id "0HN73T2UQLI60", Request id "0HN73T2UQLI60:00000001": started reading request body.
2024-10-03 23:20:15.591 +03:00 [DBG] Connection id "0HN73T2UQLI60", Request id "0HN73T2UQLI60:00000001": done reading request body.
2024-10-03 23:20:15.592 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "b45dab2721cf53391f0e5a7d0be96cbb84023975",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 181,
    "conversation_message_id": 177
  }
}
2024-10-03 23:20:15.593 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:15.593 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:15.594 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:15.595 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:15.596 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:15.597 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:15.597 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:15.598 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:15.599 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:15.599 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:15.600 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:15.601 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:15.601 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:15.602 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:15.603 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:15.603 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:15.604 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:15.606 +03:00 [ERR] Callback function
2024-10-03 23:20:15.607 +03:00 [ERR] 
2024-10-03 23:20:16.295 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:16.296 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:16.296 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:16.297 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:16.297 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:16.298 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:16.298 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 700.5205ms
2024-10-03 23:20:16.299 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:16.299 +03:00 [DBG] Connection id "0HN73T2UQLI60" completed keep alive response.
2024-10-03 23:20:16.300 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 712.6199ms
2024-10-03 23:20:17.020 +03:00 [DBG] Connection id "0HN73T2UQLI61" accepted.
2024-10-03 23:20:17.021 +03:00 [DBG] Connection id "0HN73T2UQLI61" started.
2024-10-03 23:20:17.021 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:17.022 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:17.023 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:17.023 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:17.024 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:17.024 +03:00 [DBG] Connection id "0HN73T2UQLI61", Request id "0HN73T2UQLI61:00000001": started reading request body.
2024-10-03 23:20:17.025 +03:00 [DBG] Connection id "0HN73T2UQLI61", Request id "0HN73T2UQLI61:00000001": done reading request body.
2024-10-03 23:20:17.025 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "30c8a81e4571f99d74b581625f9dc8e5d6e594a1",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 182,
    "conversation_message_id": 178
  }
}
2024-10-03 23:20:17.026 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:17.026 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:17.027 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:17.028 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:17.029 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:17.030 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:17.030 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:17.032 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:17.033 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:17.035 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:17.036 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:17.037 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:17.038 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:17.039 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:17.040 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:17.040 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:17.041 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:17.042 +03:00 [ERR] Callback function
2024-10-03 23:20:17.043 +03:00 [ERR] 
2024-10-03 23:20:17.746 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:17.747 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:17.748 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:17.750 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:17.750 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:17.751 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:17.751 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 719.013ms
2024-10-03 23:20:17.753 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:17.753 +03:00 [DBG] Connection id "0HN73T2UQLI61" completed keep alive response.
2024-10-03 23:20:17.754 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 732.8076ms
2024-10-03 23:20:18.633 +03:00 [DBG] Connection id "0HN73T2UQLI62" accepted.
2024-10-03 23:20:18.634 +03:00 [DBG] Connection id "0HN73T2UQLI62" started.
2024-10-03 23:20:18.636 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:18.638 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:18.638 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:18.639 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:18.640 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:18.640 +03:00 [DBG] Connection id "0HN73T2UQLI62", Request id "0HN73T2UQLI62:00000001": started reading request body.
2024-10-03 23:20:18.641 +03:00 [DBG] Connection id "0HN73T2UQLI62", Request id "0HN73T2UQLI62:00000001": done reading request body.
2024-10-03 23:20:18.642 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "5ec31a968666f7ed18ebb9c7ea49f05eb4f18f62",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 183,
    "conversation_message_id": 179
  }
}
2024-10-03 23:20:18.642 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:18.643 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:18.644 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:18.645 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:18.645 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:18.646 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:18.647 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:18.648 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:18.649 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:18.651 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:18.652 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:18.653 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:18.654 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:18.655 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:18.656 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:18.657 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:18.658 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:18.659 +03:00 [ERR] Callback function
2024-10-03 23:20:18.659 +03:00 [ERR] 
2024-10-03 23:20:19.462 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:19.464 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:19.464 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:19.465 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:19.465 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:19.465 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:19.466 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 818.051ms
2024-10-03 23:20:19.467 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:19.468 +03:00 [DBG] Connection id "0HN73T2UQLI62" completed keep alive response.
2024-10-03 23:20:19.468 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 832.366ms
2024-10-03 23:20:20.231 +03:00 [DBG] Connection id "0HN73T2UQLI63" accepted.
2024-10-03 23:20:20.232 +03:00 [DBG] Connection id "0HN73T2UQLI63" started.
2024-10-03 23:20:20.234 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:20.235 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:20.236 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:20.236 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:20.237 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:20.238 +03:00 [DBG] Connection id "0HN73T2UQLI63", Request id "0HN73T2UQLI63:00000001": started reading request body.
2024-10-03 23:20:20.238 +03:00 [DBG] Connection id "0HN73T2UQLI63", Request id "0HN73T2UQLI63:00000001": done reading request body.
2024-10-03 23:20:20.239 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "449feef3d68c1cf0142ee4f3b925fd5dd3692a6d",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 184,
    "conversation_message_id": 180
  }
}
2024-10-03 23:20:20.240 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:20.240 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:20.241 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:20.242 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:20.243 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:20.244 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:20.244 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:20.245 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:20.246 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:20.246 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:20.247 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:20.248 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:20.249 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:20.249 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:20.250 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:20.251 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:20.252 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:20.252 +03:00 [ERR] Callback function
2024-10-03 23:20:20.253 +03:00 [ERR] 
2024-10-03 23:20:21.191 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:21.192 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:21.193 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:21.193 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:21.193 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:21.194 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:21.194 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 949.1237ms
2024-10-03 23:20:21.195 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:21.195 +03:00 [DBG] Connection id "0HN73T2UQLI63" completed keep alive response.
2024-10-03 23:20:21.196 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 961.7539ms
2024-10-03 23:20:21.970 +03:00 [DBG] Connection id "0HN73T2UQLI64" accepted.
2024-10-03 23:20:21.972 +03:00 [DBG] Connection id "0HN73T2UQLI64" started.
2024-10-03 23:20:21.973 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:21.974 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:21.974 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:21.975 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:21.975 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:21.975 +03:00 [DBG] Connection id "0HN73T2UQLI64", Request id "0HN73T2UQLI64:00000001": started reading request body.
2024-10-03 23:20:21.976 +03:00 [DBG] Connection id "0HN73T2UQLI64", Request id "0HN73T2UQLI64:00000001": done reading request body.
2024-10-03 23:20:21.976 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "b615a54e928c27206a74f1ac5fe7b2c03a23a077",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 185,
    "conversation_message_id": 181
  }
}
2024-10-03 23:20:21.977 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:21.978 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:21.978 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:21.979 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:21.980 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:21.981 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:21.981 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:21.982 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:21.983 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:21.984 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:21.985 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:21.986 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:21.986 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:21.987 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:21.988 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:21.988 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:21.989 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:21.990 +03:00 [ERR] Callback function
2024-10-03 23:20:21.990 +03:00 [ERR] 
2024-10-03 23:20:22.688 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:22.688 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:22.689 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:22.689 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:22.689 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:22.690 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:22.690 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 707.9192ms
2024-10-03 23:20:22.691 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:22.692 +03:00 [DBG] Connection id "0HN73T2UQLI64" completed keep alive response.
2024-10-03 23:20:22.693 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 720.288ms
2024-10-03 23:20:23.511 +03:00 [DBG] Connection id "0HN73T2UQLI65" accepted.
2024-10-03 23:20:23.512 +03:00 [DBG] Connection id "0HN73T2UQLI65" started.
2024-10-03 23:20:23.514 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:23.515 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:23.516 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:23.516 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:23.517 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:23.518 +03:00 [DBG] Connection id "0HN73T2UQLI65", Request id "0HN73T2UQLI65:00000001": started reading request body.
2024-10-03 23:20:23.519 +03:00 [DBG] Connection id "0HN73T2UQLI65", Request id "0HN73T2UQLI65:00000001": done reading request body.
2024-10-03 23:20:23.520 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "f9af31dc28279f4f20a7364b54bb112f46060873",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 186,
    "conversation_message_id": 182
  }
}
2024-10-03 23:20:23.520 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:23.521 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:23.539 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:23.540 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:23.541 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:23.543 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:23.544 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:23.545 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:23.546 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:23.547 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:23.548 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:23.549 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:23.550 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:23.552 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:23.553 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:23.554 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:23.555 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:23.556 +03:00 [ERR] Callback function
2024-10-03 23:20:23.557 +03:00 [ERR] 
2024-10-03 23:20:24.226 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:24.228 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:24.229 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:24.229 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:24.230 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:24.230 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:24.230 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 685.184ms
2024-10-03 23:20:24.232 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:24.232 +03:00 [DBG] Connection id "0HN73T2UQLI65" completed keep alive response.
2024-10-03 23:20:24.234 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 720.1821ms
2024-10-03 23:20:25.099 +03:00 [DBG] Connection id "0HN73T2UQLI66" accepted.
2024-10-03 23:20:25.099 +03:00 [DBG] Connection id "0HN73T2UQLI66" started.
2024-10-03 23:20:25.100 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:25.102 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:25.103 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:25.105 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:25.107 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:25.107 +03:00 [DBG] Connection id "0HN73T2UQLI66", Request id "0HN73T2UQLI66:00000001": started reading request body.
2024-10-03 23:20:25.108 +03:00 [DBG] Connection id "0HN73T2UQLI66", Request id "0HN73T2UQLI66:00000001": done reading request body.
2024-10-03 23:20:25.109 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "510bd12f84a7e7165567b6347a6655cc6ba78fd2",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 187,
    "conversation_message_id": 183
  }
}
2024-10-03 23:20:25.110 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:25.111 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:25.112 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:25.114 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:25.116 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:25.118 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:25.119 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:25.120 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:25.121 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:25.122 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:25.123 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:25.124 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:25.125 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:25.126 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:25.127 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:25.128 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:25.129 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:25.130 +03:00 [ERR] Callback function
2024-10-03 23:20:25.132 +03:00 [ERR] 
2024-10-03 23:20:25.818 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:25.820 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:25.820 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:25.821 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:25.821 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:25.822 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:25.822 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 702.5344ms
2024-10-03 23:20:25.823 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:25.824 +03:00 [DBG] Connection id "0HN73T2UQLI66" completed keep alive response.
2024-10-03 23:20:25.824 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 724.571ms
2024-10-03 23:20:26.622 +03:00 [DBG] Connection id "0HN73T2UQLI67" accepted.
2024-10-03 23:20:26.623 +03:00 [DBG] Connection id "0HN73T2UQLI67" started.
2024-10-03 23:20:26.624 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:26.625 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:26.625 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:26.626 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:26.627 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:26.627 +03:00 [DBG] Connection id "0HN73T2UQLI67", Request id "0HN73T2UQLI67:00000001": started reading request body.
2024-10-03 23:20:26.628 +03:00 [DBG] Connection id "0HN73T2UQLI67", Request id "0HN73T2UQLI67:00000001": done reading request body.
2024-10-03 23:20:26.629 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "ddfdad714286c8d85a03cb4766a34fbcc11919c3",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 188,
    "conversation_message_id": 184
  }
}
2024-10-03 23:20:26.630 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:26.631 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:26.632 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:26.633 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:26.635 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:26.636 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:26.637 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:26.638 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:26.639 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:26.640 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:26.641 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:26.642 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:26.643 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:26.644 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:26.645 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:26.646 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:26.647 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:26.648 +03:00 [ERR] Callback function
2024-10-03 23:20:26.648 +03:00 [ERR] 
2024-10-03 23:20:27.403 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:27.405 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:27.405 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:27.406 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:27.406 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:27.407 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:27.407 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 769.0681ms
2024-10-03 23:20:27.408 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:27.409 +03:00 [DBG] Connection id "0HN73T2UQLI67" completed keep alive response.
2024-10-03 23:20:27.410 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 785.9167ms
2024-10-03 23:20:28.229 +03:00 [DBG] Connection id "0HN73T2UQLI68" accepted.
2024-10-03 23:20:28.230 +03:00 [DBG] Connection id "0HN73T2UQLI68" started.
2024-10-03 23:20:28.330 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:28.331 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:28.332 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:28.332 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:28.333 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:28.334 +03:00 [DBG] Connection id "0HN73T2UQLI68", Request id "0HN73T2UQLI68:00000001": started reading request body.
2024-10-03 23:20:28.335 +03:00 [DBG] Connection id "0HN73T2UQLI68", Request id "0HN73T2UQLI68:00000001": done reading request body.
2024-10-03 23:20:28.335 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "2668e1d8a68d26062cfa5d1b242ddfca588fc40e",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 189,
    "conversation_message_id": 185
  }
}
2024-10-03 23:20:28.336 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:28.337 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:28.338 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:28.339 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:28.340 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:28.341 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:28.341 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:28.342 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:28.343 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:28.343 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:28.344 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:28.345 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:28.346 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:28.346 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:28.347 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:28.347 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:28.348 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:28.349 +03:00 [ERR] Callback function
2024-10-03 23:20:28.349 +03:00 [ERR] 
2024-10-03 23:20:29.794 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:29.796 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:29.796 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:29.796 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:29.797 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:29.797 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:29.797 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 1455.1761ms
2024-10-03 23:20:29.798 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:29.798 +03:00 [DBG] Connection id "0HN73T2UQLI68" completed keep alive response.
2024-10-03 23:20:29.798 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 1468.4586ms
2024-10-03 23:20:30.573 +03:00 [DBG] Connection id "0HN73T2UQLI69" accepted.
2024-10-03 23:20:30.574 +03:00 [DBG] Connection id "0HN73T2UQLI69" started.
2024-10-03 23:20:30.575 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:30.576 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:30.577 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:30.578 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:30.579 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:30.579 +03:00 [DBG] Connection id "0HN73T2UQLI69", Request id "0HN73T2UQLI69:00000001": started reading request body.
2024-10-03 23:20:30.580 +03:00 [DBG] Connection id "0HN73T2UQLI69", Request id "0HN73T2UQLI69:00000001": done reading request body.
2024-10-03 23:20:30.580 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "8605a9562d7bf89d4e295feef6b8fdff9250f30c",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 190,
    "conversation_message_id": 186
  }
}
2024-10-03 23:20:30.581 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:30.582 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:30.583 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:30.583 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:30.584 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:30.585 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:30.586 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:30.587 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:30.587 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:30.588 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:30.589 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:30.590 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:30.590 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:30.591 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:30.592 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:30.593 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:30.594 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:30.594 +03:00 [ERR] Callback function
2024-10-03 23:20:30.595 +03:00 [ERR] 
2024-10-03 23:20:31.296 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:31.319 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:31.324 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:31.324 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:31.325 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:31.334 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:31.335 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 747.8525ms
2024-10-03 23:20:31.337 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:31.339 +03:00 [DBG] Connection id "0HN73T2UQLI69" completed keep alive response.
2024-10-03 23:20:31.340 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 765.6708ms
2024-10-03 23:20:32.090 +03:00 [DBG] Connection id "0HN73T2UQLI6A" accepted.
2024-10-03 23:20:32.091 +03:00 [DBG] Connection id "0HN73T2UQLI6A" started.
2024-10-03 23:20:32.092 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:32.094 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:32.095 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:32.096 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:32.097 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:32.098 +03:00 [DBG] Connection id "0HN73T2UQLI6A", Request id "0HN73T2UQLI6A:00000001": started reading request body.
2024-10-03 23:20:32.099 +03:00 [DBG] Connection id "0HN73T2UQLI6A", Request id "0HN73T2UQLI6A:00000001": done reading request body.
2024-10-03 23:20:32.100 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "5f46806ffe630408ed0879f59857ad315bc98450",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 191,
    "conversation_message_id": 187
  }
}
2024-10-03 23:20:32.101 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:32.102 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:32.104 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:32.105 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:32.107 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:32.109 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:32.110 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:32.111 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:32.112 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:32.113 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:32.115 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:32.116 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:32.117 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:32.119 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:32.120 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:32.121 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:32.124 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:32.126 +03:00 [ERR] Callback function
2024-10-03 23:20:32.126 +03:00 [ERR] 
2024-10-03 23:20:32.804 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:32.807 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:32.808 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:32.808 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:32.809 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:32.809 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:32.810 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 698.8467ms
2024-10-03 23:20:32.811 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:32.811 +03:00 [DBG] Connection id "0HN73T2UQLI6A" completed keep alive response.
2024-10-03 23:20:32.812 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 719.9105ms
2024-10-03 23:20:33.540 +03:00 [DBG] Connection id "0HN73T2UQLI6B" accepted.
2024-10-03 23:20:33.541 +03:00 [DBG] Connection id "0HN73T2UQLI6B" started.
2024-10-03 23:20:33.541 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:33.543 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:33.543 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:33.544 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:33.545 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:33.545 +03:00 [DBG] Connection id "0HN73T2UQLI6B", Request id "0HN73T2UQLI6B:00000001": started reading request body.
2024-10-03 23:20:33.546 +03:00 [DBG] Connection id "0HN73T2UQLI6B", Request id "0HN73T2UQLI6B:00000001": done reading request body.
2024-10-03 23:20:33.547 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "104c60221d9e65293d6ecc2dd1451f46cfb351fd",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 192,
    "conversation_message_id": 188
  }
}
2024-10-03 23:20:33.547 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:33.548 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:33.549 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:33.549 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:33.550 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:33.552 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:33.553 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:33.553 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:33.554 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:33.555 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:33.555 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:33.556 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:33.556 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:33.557 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:33.558 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:33.558 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:33.559 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:33.560 +03:00 [ERR] Callback function
2024-10-03 23:20:33.560 +03:00 [ERR] 
2024-10-03 23:20:34.262 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:34.264 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:34.264 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:34.265 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:34.265 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:34.266 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:34.267 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 713.3631ms
2024-10-03 23:20:34.268 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:34.269 +03:00 [DBG] Connection id "0HN73T2UQLI6B" completed keep alive response.
2024-10-03 23:20:34.271 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 729.9304ms
2024-10-03 23:20:35.072 +03:00 [DBG] Connection id "0HN73T2UQLI6C" accepted.
2024-10-03 23:20:35.073 +03:00 [DBG] Connection id "0HN73T2UQLI6C" started.
2024-10-03 23:20:35.074 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:35.075 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:35.075 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:35.076 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:35.077 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:35.077 +03:00 [DBG] Connection id "0HN73T2UQLI6C", Request id "0HN73T2UQLI6C:00000001": started reading request body.
2024-10-03 23:20:35.078 +03:00 [DBG] Connection id "0HN73T2UQLI6C", Request id "0HN73T2UQLI6C:00000001": done reading request body.
2024-10-03 23:20:35.078 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "3cf56ddfada291984381e138e024033031dae3de",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 193,
    "conversation_message_id": 189
  }
}
2024-10-03 23:20:35.079 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:35.079 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:35.080 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:35.081 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:35.082 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:35.083 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:35.083 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:35.084 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:35.085 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:35.086 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:35.086 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:35.087 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:35.088 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:35.088 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:35.089 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:35.090 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:35.090 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:35.091 +03:00 [ERR] Callback function
2024-10-03 23:20:35.091 +03:00 [ERR] 
2024-10-03 23:20:35.768 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:35.769 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:35.770 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:35.771 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:35.771 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:35.772 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:35.773 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 688.7607ms
2024-10-03 23:20:35.774 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:35.775 +03:00 [DBG] Connection id "0HN73T2UQLI6C" completed keep alive response.
2024-10-03 23:20:35.776 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 701.9504ms
2024-10-03 23:20:36.676 +03:00 [DBG] Connection id "0HN73T2UQLI6D" accepted.
2024-10-03 23:20:36.678 +03:00 [DBG] Connection id "0HN73T2UQLI6D" started.
2024-10-03 23:20:36.679 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:36.681 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:36.682 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:36.683 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:36.684 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:36.685 +03:00 [DBG] Connection id "0HN73T2UQLI6D", Request id "0HN73T2UQLI6D:00000001": started reading request body.
2024-10-03 23:20:36.686 +03:00 [DBG] Connection id "0HN73T2UQLI6D", Request id "0HN73T2UQLI6D:00000001": done reading request body.
2024-10-03 23:20:36.687 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "c41d8fff53125eb7bd1b05eccfd407e9514666d6",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 194,
    "conversation_message_id": 190
  }
}
2024-10-03 23:20:36.688 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:36.689 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:36.690 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:36.692 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:36.693 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:36.694 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:36.695 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:36.697 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:36.698 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:36.698 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:36.700 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:36.701 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:36.702 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:36.704 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:36.705 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:36.705 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:36.706 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:36.707 +03:00 [ERR] Callback function
2024-10-03 23:20:36.708 +03:00 [ERR] 
2024-10-03 23:20:37.374 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:37.376 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:37.376 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:37.377 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:37.377 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:37.378 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:37.378 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 681.9652ms
2024-10-03 23:20:37.379 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:37.380 +03:00 [DBG] Connection id "0HN73T2UQLI6D" completed keep alive response.
2024-10-03 23:20:37.381 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 701.9887ms
2024-10-03 23:20:38.133 +03:00 [DBG] Connection id "0HN73T2UQLI6E" accepted.
2024-10-03 23:20:38.134 +03:00 [DBG] Connection id "0HN73T2UQLI6E" started.
2024-10-03 23:20:38.137 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:38.139 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:38.140 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:38.141 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:38.141 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:38.142 +03:00 [DBG] Connection id "0HN73T2UQLI6E", Request id "0HN73T2UQLI6E:00000001": started reading request body.
2024-10-03 23:20:38.143 +03:00 [DBG] Connection id "0HN73T2UQLI6E", Request id "0HN73T2UQLI6E:00000001": done reading request body.
2024-10-03 23:20:38.143 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "799c70987ed1fa07964b68e2c492fc2beff0b631",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 195,
    "conversation_message_id": 191
  }
}
2024-10-03 23:20:38.144 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:38.144 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:38.145 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:38.146 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:38.146 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:38.147 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:38.148 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:38.149 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:38.150 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:38.151 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:38.151 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:38.153 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:38.153 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:38.154 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:38.154 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:38.155 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:38.156 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:38.156 +03:00 [ERR] Callback function
2024-10-03 23:20:38.157 +03:00 [ERR] 
2024-10-03 23:20:38.836 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:38.837 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:38.838 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:38.838 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:38.839 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:38.839 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:38.840 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 690.8424ms
2024-10-03 23:20:38.840 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:38.841 +03:00 [DBG] Connection id "0HN73T2UQLI6E" completed keep alive response.
2024-10-03 23:20:38.841 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 704.9188ms
2024-10-03 23:20:39.672 +03:00 [DBG] Connection id "0HN73T2UQLI6F" accepted.
2024-10-03 23:20:39.673 +03:00 [DBG] Connection id "0HN73T2UQLI6F" started.
2024-10-03 23:20:39.673 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:39.674 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:39.675 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:39.675 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:39.676 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:39.677 +03:00 [DBG] Connection id "0HN73T2UQLI6F", Request id "0HN73T2UQLI6F:00000001": started reading request body.
2024-10-03 23:20:39.677 +03:00 [DBG] Connection id "0HN73T2UQLI6F", Request id "0HN73T2UQLI6F:00000001": done reading request body.
2024-10-03 23:20:39.678 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "929b861d349034d01dc8c00e5e56639e3d0a487f",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 196,
    "conversation_message_id": 192
  }
}
2024-10-03 23:20:39.679 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:39.679 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:39.680 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:39.681 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:39.681 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:39.682 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:39.683 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:39.684 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:39.684 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:39.685 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:39.686 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:39.686 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:39.687 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:39.688 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:39.689 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:39.689 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:39.690 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:39.691 +03:00 [ERR] Callback function
2024-10-03 23:20:39.691 +03:00 [ERR] 
2024-10-03 23:20:40.454 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:40.455 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:40.455 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:40.456 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:40.457 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:40.457 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:40.458 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 774.2486ms
2024-10-03 23:20:40.459 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:40.459 +03:00 [DBG] Connection id "0HN73T2UQLI6F" completed keep alive response.
2024-10-03 23:20:40.459 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 786.0362ms
2024-10-03 23:20:41.231 +03:00 [DBG] Connection id "0HN73T2UQLI6G" accepted.
2024-10-03 23:20:41.232 +03:00 [DBG] Connection id "0HN73T2UQLI6G" started.
2024-10-03 23:20:41.243 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 214
2024-10-03 23:20:41.246 +03:00 [DBG] POST requests are not supported
2024-10-03 23:20:41.247 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:20:41.248 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:20:41.249 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:41.250 +03:00 [DBG] Connection id "0HN73T2UQLI6G", Request id "0HN73T2UQLI6G:00000001": started reading request body.
2024-10-03 23:20:41.250 +03:00 [DBG] Connection id "0HN73T2UQLI6G", Request id "0HN73T2UQLI6G:00000001": done reading request body.
2024-10-03 23:20:41.251 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_read",
  "event_id": "a8c925da8c0c56893fb1fa1c469a93bf25ce968a",
  "v": "5.199",
  "object": {
    "from_id": 651565729,
    "peer_id": -227681680,
    "read_message_id": 197,
    "conversation_message_id": 193
  }
}
2024-10-03 23:20:41.252 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:41.253 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:20:41.254 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:20:41.255 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:20:41.256 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:20:41.258 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:20:41.259 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:20:41.260 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:41.261 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:20:41.264 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:41.265 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' using the name '' in request data ...
2024-10-03 23:20:41.266 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-03 23:20:41.267 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-03 23:20:41.268 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:41.269 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:41.269 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:20:41.270 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:20:41.271 +03:00 [ERR] Callback function
2024-10-03 23:20:41.271 +03:00 [ERR] 
2024-10-03 23:20:43.095 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-10-03 23:20:43.098 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 23:20:43.098 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 23:20:43.100 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 23:20:43.100 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 23:20:43.101 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-03 23:20:43.102 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 1842.0923ms
2024-10-03 23:20:43.103 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:20:43.104 +03:00 [DBG] Connection id "0HN73T2UQLI6G" completed keep alive response.
2024-10-03 23:20:43.104 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 200 null text/plain; charset=utf-8 1861.0931ms
2024-10-03 23:31:03.523 +03:00 [DBG] Registered model binder providers, in the following order: ["VKBot.VkMessageBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 23:31:03.615 +03:00 [DBG] Hosting starting
2024-10-03 23:31:03.686 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 23:31:03.769 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 23:31:03.770 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 23:31:03.771 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 23:31:03.772 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 23:31:03.773 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 23:31:03.774 +03:00 [INF] Hosting environment: Development
2024-10-03 23:31:03.775 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 23:31:03.775 +03:00 [DBG] Hosting started
2024-10-03 23:31:04.189 +03:00 [DBG] Connection id "0HN73T96O175B" accepted.
2024-10-03 23:31:04.189 +03:00 [DBG] Connection id "0HN73T96O175C" accepted.
2024-10-03 23:31:04.192 +03:00 [DBG] Connection id "0HN73T96O175B" started.
2024-10-03 23:31:04.193 +03:00 [DBG] Connection id "0HN73T96O175C" started.
2024-10-03 23:31:04.203 +03:00 [DBG] Connection id "0HN73T96O175C" received FIN.
2024-10-03 23:31:04.203 +03:00 [DBG] Connection id "0HN73T96O175B" received FIN.
2024-10-03 23:31:04.210 +03:00 [DBG] Connection id "0HN73T96O175C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:31:04.210 +03:00 [DBG] Connection id "0HN73T96O175B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:31:04.213 +03:00 [DBG] Connection id "0HN73T96O175C" disconnecting.
2024-10-03 23:31:04.214 +03:00 [DBG] Connection id "0HN73T96O175B" disconnecting.
2024-10-03 23:31:04.217 +03:00 [DBG] Connection id "0HN73T96O175C" stopped.
2024-10-03 23:31:04.218 +03:00 [DBG] Connection id "0HN73T96O175B" stopped.
2024-10-03 23:31:04.403 +03:00 [DBG] Connection id "0HN73T96O175D" accepted.
2024-10-03 23:31:04.405 +03:00 [DBG] Connection id "0HN73T96O175D" started.
2024-10-03 23:31:04.411 +03:00 [DBG] Connection id "0HN73T96O175E" accepted.
2024-10-03 23:31:04.413 +03:00 [DBG] Connection id "0HN73T96O175E" started.
2024-10-03 23:31:04.436 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 23:31:04.559 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 23:31:04.565 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 23:31:04.578 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 23:31:04.579 +03:00 [DBG] Request did not match any endpoints
2024-10-03 23:31:04.595 +03:00 [DBG] Connection id "0HN73T96O175D" completed keep alive response.
2024-10-03 23:31:04.598 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 165.517ms
2024-10-03 23:31:04.603 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 23:31:24.414 +03:00 [DBG] Connection id "0HN73T96O175F" accepted.
2024-10-03 23:31:24.415 +03:00 [DBG] Connection id "0HN73T96O175F" started.
2024-10-03 23:31:24.418 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 567
2024-10-03 23:31:24.420 +03:00 [DBG] POST requests are not supported
2024-10-03 23:31:24.423 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:31:24.426 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:31:24.427 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:31:24.430 +03:00 [DBG] Connection id "0HN73T96O175F", Request id "0HN73T96O175F:00000001": started reading request body.
2024-10-03 23:31:24.432 +03:00 [DBG] Connection id "0HN73T96O175F", Request id "0HN73T96O175F:00000001": done reading request body.
2024-10-03 23:31:24.517 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "83b97458f0f9f997cf33a83c4507ed493fb41bc6",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727987484,
      "from_id": 651565729,
      "id": 199,
      "version": 10000286,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 195,
      "fwd_messages": [],
      "text": "3",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:31:24.522 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:31:24.548 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:31:24.551 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:31:24.554 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:31:24.555 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:31:24.557 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:31:24.558 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:31:24.561 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:31:24.580 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:31:24.583 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:31:35.221 +03:00 [DBG] Connection id "0HN73T96O175F" received FIN.
2024-10-03 23:31:35.222 +03:00 [DBG] Connection id "0HN73T96O175F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:31:35.224 +03:00 [DBG] Connection id "0HN73T96O175F" disconnecting.
2024-10-03 23:34:15.676 +03:00 [DBG] Registered model binder providers, in the following order: ["VKBot.VkMessageBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 23:34:15.753 +03:00 [DBG] Hosting starting
2024-10-03 23:34:15.811 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 23:34:15.893 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 23:34:15.894 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 23:34:15.895 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 23:34:15.896 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 23:34:15.897 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 23:34:15.898 +03:00 [INF] Hosting environment: Development
2024-10-03 23:34:15.899 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 23:34:15.900 +03:00 [DBG] Hosting started
2024-10-03 23:34:16.265 +03:00 [DBG] Connection id "0HN73TAVVQ12T" accepted.
2024-10-03 23:34:16.266 +03:00 [DBG] Connection id "0HN73TAVVQ12T" started.
2024-10-03 23:34:16.275 +03:00 [DBG] Connection id "0HN73TAVVQ12U" accepted.
2024-10-03 23:34:16.276 +03:00 [DBG] Connection id "0HN73TAVVQ12U" started.
2024-10-03 23:34:16.284 +03:00 [DBG] Connection id "0HN73TAVVQ12T" received FIN.
2024-10-03 23:34:16.284 +03:00 [DBG] Connection id "0HN73TAVVQ12U" received FIN.
2024-10-03 23:34:16.286 +03:00 [DBG] Connection id "0HN73TAVVQ12T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:34:16.287 +03:00 [DBG] Connection id "0HN73TAVVQ12U" disconnecting.
2024-10-03 23:34:16.294 +03:00 [DBG] Connection id "0HN73TAVVQ12T" disconnecting.
2024-10-03 23:34:16.298 +03:00 [DBG] Connection id "0HN73TAVVQ12U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:34:16.299 +03:00 [DBG] Connection id "0HN73TAVVQ12T" stopped.
2024-10-03 23:34:16.305 +03:00 [DBG] Connection id "0HN73TAVVQ12U" stopped.
2024-10-03 23:34:16.552 +03:00 [DBG] Connection id "0HN73TAVVQ12V" accepted.
2024-10-03 23:34:16.554 +03:00 [DBG] Connection id "0HN73TAVVQ12V" started.
2024-10-03 23:34:16.560 +03:00 [DBG] Connection id "0HN73TAVVQ130" accepted.
2024-10-03 23:34:16.561 +03:00 [DBG] Connection id "0HN73TAVVQ130" started.
2024-10-03 23:34:16.588 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 23:34:16.702 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 23:34:16.706 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 23:34:16.716 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 23:34:16.718 +03:00 [DBG] Request did not match any endpoints
2024-10-03 23:34:16.733 +03:00 [DBG] Connection id "0HN73TAVVQ12V" completed keep alive response.
2024-10-03 23:34:16.735 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 151.339ms
2024-10-03 23:34:16.739 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 23:34:35.880 +03:00 [DBG] Connection id "0HN73TAVVQ131" accepted.
2024-10-03 23:34:35.882 +03:00 [DBG] Connection id "0HN73TAVVQ131" started.
2024-10-03 23:34:35.883 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 567
2024-10-03 23:34:35.885 +03:00 [DBG] POST requests are not supported
2024-10-03 23:34:35.892 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:34:35.895 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:34:35.896 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:34:35.900 +03:00 [DBG] Connection id "0HN73TAVVQ131", Request id "0HN73TAVVQ131:00000001": started reading request body.
2024-10-03 23:34:35.901 +03:00 [DBG] Connection id "0HN73TAVVQ131", Request id "0HN73TAVVQ131:00000001": done reading request body.
2024-10-03 23:34:35.997 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "dcea95a1d32b7b0782a1a548bfb353956ee445ac",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727987675,
      "from_id": 651565729,
      "id": 200,
      "version": 10000287,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 196,
      "fwd_messages": [],
      "text": "5",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:34:36.001 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:34:36.035 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:34:36.038 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:34:36.039 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:34:36.040 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:34:36.041 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:34:36.042 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:34:36.045 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:34:36.070 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:34:36.073 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:38:19.134 +03:00 [DBG] Registered model binder providers, in the following order: ["VKBot.VkMessageBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 23:38:19.202 +03:00 [DBG] Hosting starting
2024-10-03 23:38:19.259 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 23:38:19.330 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 23:38:19.332 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 23:38:19.333 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 23:38:19.333 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 23:38:19.334 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 23:38:19.335 +03:00 [INF] Hosting environment: Development
2024-10-03 23:38:19.336 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 23:38:19.337 +03:00 [DBG] Hosting started
2024-10-03 23:38:19.437 +03:00 [DBG] Connection id "0HN73TD8ES616" accepted.
2024-10-03 23:38:19.437 +03:00 [DBG] Connection id "0HN73TD8ES615" accepted.
2024-10-03 23:38:19.438 +03:00 [DBG] Connection id "0HN73TD8ES616" started.
2024-10-03 23:38:19.438 +03:00 [DBG] Connection id "0HN73TD8ES615" started.
2024-10-03 23:38:19.450 +03:00 [DBG] Connection id "0HN73TD8ES615" received FIN.
2024-10-03 23:38:19.450 +03:00 [DBG] Connection id "0HN73TD8ES616" received FIN.
2024-10-03 23:38:19.457 +03:00 [DBG] Connection id "0HN73TD8ES615" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:38:19.458 +03:00 [DBG] Connection id "0HN73TD8ES616" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:38:19.460 +03:00 [DBG] Connection id "0HN73TD8ES615" disconnecting.
2024-10-03 23:38:19.465 +03:00 [DBG] Connection id "0HN73TD8ES616" disconnecting.
2024-10-03 23:38:19.466 +03:00 [DBG] Connection id "0HN73TD8ES615" stopped.
2024-10-03 23:38:19.466 +03:00 [DBG] Connection id "0HN73TD8ES616" stopped.
2024-10-03 23:38:19.646 +03:00 [DBG] Connection id "0HN73TD8ES617" accepted.
2024-10-03 23:38:19.648 +03:00 [DBG] Connection id "0HN73TD8ES617" started.
2024-10-03 23:38:19.652 +03:00 [DBG] Connection id "0HN73TD8ES618" accepted.
2024-10-03 23:38:19.653 +03:00 [DBG] Connection id "0HN73TD8ES618" started.
2024-10-03 23:38:19.684 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 23:38:19.797 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 23:38:19.805 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 23:38:19.816 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 23:38:19.817 +03:00 [DBG] Request did not match any endpoints
2024-10-03 23:38:19.833 +03:00 [DBG] Connection id "0HN73TD8ES617" completed keep alive response.
2024-10-03 23:38:19.835 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 157.4869ms
2024-10-03 23:38:19.840 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 23:38:23.546 +03:00 [DBG] Connection id "0HN73TD8ES619" accepted.
2024-10-03 23:38:23.547 +03:00 [DBG] Connection id "0HN73TD8ES619" started.
2024-10-03 23:38:23.549 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 567
2024-10-03 23:38:23.553 +03:00 [DBG] POST requests are not supported
2024-10-03 23:38:23.557 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:38:23.562 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:38:23.564 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:38:23.568 +03:00 [DBG] Connection id "0HN73TD8ES619", Request id "0HN73TD8ES619:00000001": started reading request body.
2024-10-03 23:38:23.570 +03:00 [DBG] Connection id "0HN73TD8ES619", Request id "0HN73TD8ES619:00000001": done reading request body.
2024-10-03 23:38:23.695 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "4a4d79778266e3f7aafe04f614c40f25dad76e5a",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727987903,
      "from_id": 651565729,
      "id": 201,
      "version": 10000288,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 197,
      "fwd_messages": [],
      "text": "6",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:38:23.698 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:38:23.738 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:38:23.742 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:38:23.744 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:38:23.746 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:38:23.748 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:38:23.749 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:38:23.751 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:38:23.778 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:38:23.782 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:38:23.793 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:38:23.795 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:38:23.874 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:38:24.013 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 259.9225ms
2024-10-03 23:38:24.041 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:38:24.094 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Stream was not readable.
   at System.IO.StreamReader..ctor(Stream stream, Encoding encoding, Boolean detectEncodingFromByteOrderMarks, Int32 bufferSize, Boolean leaveOpen)
   at System.IO.StreamReader..ctor(Stream stream)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:38:24.150 +03:00 [DBG] Connection id "0HN73TD8ES619" completed keep alive response.
2024-10-03 23:38:24.152 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 602.4024ms
2024-10-03 23:38:34.336 +03:00 [DBG] Connection id "0HN73TD8ES61A" accepted.
2024-10-03 23:38:34.338 +03:00 [DBG] Connection id "0HN73TD8ES61A" started.
2024-10-03 23:38:34.339 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 567
2024-10-03 23:38:34.343 +03:00 [DBG] POST requests are not supported
2024-10-03 23:38:34.344 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:38:34.346 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:38:34.347 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:38:34.349 +03:00 [DBG] Connection id "0HN73TD8ES61A", Request id "0HN73TD8ES61A:00000001": started reading request body.
2024-10-03 23:38:34.350 +03:00 [DBG] Connection id "0HN73TD8ES61A", Request id "0HN73TD8ES61A:00000001": done reading request body.
2024-10-03 23:38:34.352 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "4a4d79778266e3f7aafe04f614c40f25dad76e5a",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727987903,
      "from_id": 651565729,
      "id": 201,
      "version": 10000288,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 197,
      "fwd_messages": [],
      "text": "6",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:38:34.354 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:38:34.355 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:38:34.358 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:38:34.359 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:38:34.360 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:38:34.363 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:38:34.364 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:38:34.365 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:38:34.367 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:38:34.368 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:38:34.369 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:38:34.370 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:38:34.371 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:38:34.467 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 101.9754ms
2024-10-03 23:38:34.489 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:38:34.531 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Stream was not readable.
   at System.IO.StreamReader..ctor(Stream stream, Encoding encoding, Boolean detectEncodingFromByteOrderMarks, Int32 bufferSize, Boolean leaveOpen)
   at System.IO.StreamReader..ctor(Stream stream)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:38:34.537 +03:00 [DBG] Connection id "0HN73TD8ES61A" completed keep alive response.
2024-10-03 23:38:34.538 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 199.096ms
2024-10-03 23:38:37.756 +03:00 [DBG] Connection id "0HN73TD8ES61B" accepted.
2024-10-03 23:38:37.763 +03:00 [DBG] Connection id "0HN73TD8ES61B" started.
2024-10-03 23:38:37.764 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 567
2024-10-03 23:38:37.765 +03:00 [DBG] POST requests are not supported
2024-10-03 23:38:37.765 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:38:37.766 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:38:37.766 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:38:39.391 +03:00 [DBG] Connection id "0HN73TD8ES61B", Request id "0HN73TD8ES61B:00000001": started reading request body.
2024-10-03 23:38:39.394 +03:00 [DBG] Connection id "0HN73TD8ES61B", Request id "0HN73TD8ES61B:00000001": done reading request body.
2024-10-03 23:38:39.395 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "0866a4753686d3da4569f280b2448ce3d0f9474c",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727987917,
      "from_id": 651565729,
      "id": 202,
      "version": 10000289,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 198,
      "fwd_messages": [],
      "text": "5",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:38:39.397 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:38:39.398 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:38:39.399 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:38:39.401 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:38:39.402 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:38:39.404 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:38:39.406 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:38:39.407 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:38:39.408 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:38:39.410 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:38:39.411 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:38:39.412 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:38:39.413 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:38:39.498 +03:00 [INF] Executed action VKBot.Controllers.CallbackController.Callback (VKBot) in 90.6407ms
2024-10-03 23:38:39.520 +03:00 [INF] Executed endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:38:39.561 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Stream was not readable.
   at System.IO.StreamReader..ctor(Stream stream, Encoding encoding, Boolean detectEncodingFromByteOrderMarks, Int32 bufferSize, Boolean leaveOpen)
   at System.IO.StreamReader..ctor(Stream stream)
   at VKBot.Controllers.CallbackController.Callback(Message msg) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Controllers\CallbackController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at VKBot.Filters.ModifyRequestBodyMiddleware.InvokeAsync(HttpContext context) in C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\Filters\ModifyRequestBodyMiddleware.cs:line 67
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 23:38:39.567 +03:00 [DBG] Connection id "0HN73TD8ES61B" completed keep alive response.
2024-10-03 23:38:39.568 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 500 null text/plain; charset=utf-8 1803.9513ms
2024-10-03 23:38:47.418 +03:00 [DBG] Connection id "0HN73TD8ES61C" accepted.
2024-10-03 23:38:47.419 +03:00 [DBG] Connection id "0HN73TD8ES61C" started.
2024-10-03 23:38:47.419 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 567
2024-10-03 23:38:47.420 +03:00 [DBG] POST requests are not supported
2024-10-03 23:38:47.421 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:38:47.421 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:38:47.422 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:38:50.127 +03:00 [DBG] Connection id "0HN73TD8ES61C", Request id "0HN73TD8ES61C:00000001": started reading request body.
2024-10-03 23:38:50.128 +03:00 [DBG] Connection id "0HN73TD8ES61C", Request id "0HN73TD8ES61C:00000001": done reading request body.
2024-10-03 23:38:50.130 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "9af1a29eb08f956f005ad820c53aa236a64bad3d",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727987927,
      "from_id": 651565729,
      "id": 203,
      "version": 10000290,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 199,
      "fwd_messages": [],
      "text": "5",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:38:50.131 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:38:50.132 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:38:50.134 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:38:50.135 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:38:50.137 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:38:50.139 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:38:50.140 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:38:50.141 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:38:50.143 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:38:50.144 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:38:52.885 +03:00 [DBG] Connection id "0HN73TD8ES61D" accepted.
2024-10-03 23:38:52.900 +03:00 [DBG] Connection id "0HN73TD8ES61D" started.
2024-10-03 23:38:54.452 +03:00 [DBG] Connection id "0HN73TD8ES61E" accepted.
2024-10-03 23:38:54.454 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 565
2024-10-03 23:38:54.455 +03:00 [DBG] Connection id "0HN73TD8ES61E" started.
2024-10-03 23:38:58.072 +03:00 [DBG] Connection id "0HN73TD8ES61C" received FIN.
2024-10-03 23:38:58.073 +03:00 [DBG] Connection id "0HN73TD8ES61E" received FIN.
2024-10-03 23:39:17.946 +03:00 [DBG] Connection id "0HN73TD8ES61D" received FIN.
2024-10-03 23:39:31.457 +03:00 [DBG] Connection id "0HN73TD8ES61F" received FIN.
2024-10-03 23:41:46.962 +03:00 [DBG] Registered model binder providers, in the following order: ["VKBot.VkMessageBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 23:41:47.042 +03:00 [DBG] Hosting starting
2024-10-03 23:41:47.101 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 23:41:47.173 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 23:41:47.175 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 23:41:47.176 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 23:41:47.176 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 23:41:47.177 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 23:41:47.178 +03:00 [INF] Hosting environment: Development
2024-10-03 23:41:47.179 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 23:41:47.180 +03:00 [DBG] Hosting started
2024-10-03 23:41:47.502 +03:00 [DBG] Connection id "0HN73TF6F4OTP" received FIN.
2024-10-03 23:41:47.505 +03:00 [DBG] Connection id "0HN73TF6F4OTQ" received FIN.
2024-10-03 23:41:47.505 +03:00 [DBG] Connection id "0HN73TF6F4OTP" accepted.
2024-10-03 23:41:47.505 +03:00 [DBG] Connection id "0HN73TF6F4OTR" accepted.
2024-10-03 23:41:47.575 +03:00 [DBG] Connection id "0HN73TF6F4OTQ" started.
2024-10-03 23:41:47.576 +03:00 [DBG] Connection id "0HN73TF6F4OTP" started.
2024-10-03 23:41:47.583 +03:00 [DBG] Connection id "0HN73TF6F4OTQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:41:47.583 +03:00 [DBG] Connection id "0HN73TF6F4OTP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:41:47.588 +03:00 [DBG] Connection id "0HN73TF6F4OTQ" disconnecting.
2024-10-03 23:41:47.590 +03:00 [DBG] Connection id "0HN73TF6F4OTP" disconnecting.
2024-10-03 23:41:47.593 +03:00 [DBG] Connection id "0HN73TF6F4OTQ" stopped.
2024-10-03 23:41:47.593 +03:00 [DBG] Connection id "0HN73TF6F4OTP" stopped.
2024-10-03 23:41:47.859 +03:00 [DBG] Connection id "0HN73TF6F4OTS" accepted.
2024-10-03 23:41:47.860 +03:00 [DBG] Connection id "0HN73TF6F4OTS" started.
2024-10-03 23:41:47.869 +03:00 [DBG] Connection id "0HN73TF6F4OTT" accepted.
2024-10-03 23:41:47.870 +03:00 [DBG] Connection id "0HN73TF6F4OTT" started.
2024-10-03 23:41:47.895 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 23:41:48.024 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 23:41:48.029 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 23:41:48.044 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 23:41:48.045 +03:00 [DBG] Request did not match any endpoints
2024-10-03 23:41:48.061 +03:00 [DBG] Connection id "0HN73TF6F4OTS" completed keep alive response.
2024-10-03 23:41:48.064 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 177.027ms
2024-10-03 23:41:48.069 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 23:41:55.868 +03:00 [DBG] Connection id "0HN73TF6F4OTU" accepted.
2024-10-03 23:41:55.869 +03:00 [DBG] Connection id "0HN73TF6F4OTU" started.
2024-10-03 23:41:55.871 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 567
2024-10-03 23:41:55.873 +03:00 [DBG] POST requests are not supported
2024-10-03 23:41:55.879 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:41:55.882 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:41:55.884 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:41:55.887 +03:00 [DBG] Connection id "0HN73TF6F4OTU", Request id "0HN73TF6F4OTU:00000001": started reading request body.
2024-10-03 23:41:55.889 +03:00 [DBG] Connection id "0HN73TF6F4OTU", Request id "0HN73TF6F4OTU:00000001": done reading request body.
2024-10-03 23:41:55.994 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "2f98a8cb6a9b1d1a50246063bcd2e548d79815af",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727988115,
      "from_id": 651565729,
      "id": 204,
      "version": 10000291,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 200,
      "fwd_messages": [],
      "text": "5",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:41:55.997 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:41:56.032 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:41:56.035 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:41:56.036 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:41:56.037 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:41:56.038 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:41:56.039 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:41:56.041 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:41:56.066 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:41:56.070 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:41:59.539 +03:00 [DBG] Connection id "0HN73TF6F4OTV" accepted.
2024-10-03 23:41:59.541 +03:00 [DBG] Connection id "0HN73TF6F4OTV" started.
2024-10-03 23:42:07.205 +03:00 [DBG] Connection id "0HN73TF6F4OTV" received FIN.
2024-10-03 23:42:07.206 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 567
2024-10-03 23:42:07.206 +03:00 [DBG] Connection id "0HN73TF6F4OTU" received FIN.
2024-10-03 23:42:07.256 +03:00 [DBG] Connection id "0HN73TF6F4OTV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:42:08.868 +03:00 [DBG] Connection id "0HN73TF6F4OTU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:42:08.877 +03:00 [DBG] Connection id "0HN73TF6F4OTV" disconnecting.
2024-10-03 23:42:08.890 +03:00 [DBG] POST requests are not supported
2024-10-03 23:42:08.892 +03:00 [DBG] Connection id "0HN73TF6F4OTU" disconnecting.
2024-10-03 23:42:17.443 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:42:17.444 +03:00 [DBG] Connection id "0HN73TF6F4OU0" accepted.
2024-10-03 23:42:17.445 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:42:17.446 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:42:17.449 +03:00 [DBG] Connection id "0HN73TF6F4OU0" started.
2024-10-03 23:42:17.450 +03:00 [DBG] Connection id "0HN73TF6F4OU1" accepted.
2024-10-03 23:42:17.450 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:42:17.453 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 567
2024-10-03 23:42:17.453 +03:00 [DBG] Connection id "0HN73TF6F4OU1" started.
2024-10-03 23:42:17.455 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:42:17.456 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 567
2024-10-03 23:42:17.458 +03:00 [DBG] POST requests are not supported
2024-10-03 23:42:17.459 +03:00 [DBG] Connection id "0HN73TF6F4OTV", Request id "0HN73TF6F4OTV:00000001": started reading request body.
2024-10-03 23:42:17.461 +03:00 [DBG] POST requests are not supported
2024-10-03 23:42:17.462 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:42:17.465 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:42:17.478 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:42:17.479 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:42:17.491 +03:00 [DBG] Connection id "0HN73TF6F4OU0", Request id "0HN73TF6F4OU0:00000001": started reading request body.
2024-10-03 23:42:17.504 +03:00 [DBG] Connection id "0HN73TF6F4OU0", Request id "0HN73TF6F4OU0:00000001": done reading request body.
2024-10-03 23:42:17.520 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:42:17.531 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "9af1a29eb08f956f005ad820c53aa236a64bad3d",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727987927,
      "from_id": 651565729,
      "id": 203,
      "version": 10000290,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 199,
      "fwd_messages": [],
      "text": "5",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:42:17.557 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:42:17.571 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:42:17.575 +03:00 [DBG] The request was aborted by the client.
2024-10-03 23:42:17.576 +03:00 [DBG] Connection id "0HN73TF6F4OU1", Request id "0HN73TF6F4OU1:00000001": started reading request body.
2024-10-03 23:42:17.577 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:42:17.578 +03:00 [INF] Request finished HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - 499 null null 10372.6021ms
2024-10-03 23:42:17.578 +03:00 [DBG] Connection id "0HN73TF6F4OU1", Request id "0HN73TF6F4OU1:00000001": done reading request body.
2024-10-03 23:42:17.580 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:42:17.583 +03:00 [DBG] Connection id "0HN73TF6F4OTV", Request id "0HN73TF6F4OTV:00000001": done reading request body.
2024-10-03 23:42:17.584 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "2f98a8cb6a9b1d1a50246063bcd2e548d79815af",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727988115,
      "from_id": 651565729,
      "id": 204,
      "version": 10000291,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [],
      "conversation_message_id": 200,
      "fwd_messages": [],
      "text": "5",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:42:17.585 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:42:17.597 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:42:17.605 +03:00 [DBG] Connection id "0HN73TF6F4OTV" bad request data: "Invalid request line."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Invalid request line.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-10-03 23:42:17.605 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:42:17.605 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:42:17.674 +03:00 [DBG] Connection id "0HN73TF6F4OTV" stopped.
2024-10-03 23:42:17.675 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:42:17.676 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:42:17.679 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:42:17.681 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:42:17.682 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:42:17.682 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:42:17.683 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:42:17.684 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:42:17.686 +03:00 [DBG] Done attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:42:22.007 +03:00 [DBG] Connection id "0HN73TF6F4OU1" received FIN.
2024-10-03 23:42:22.007 +03:00 [DBG] Connection id "0HN73TF6F4OU0" received FIN.
2024-10-03 23:42:22.007 +03:00 [DBG] Done attempting to bind parameter 'msg' of type 'VkNet.Model.Message'.
2024-10-03 23:42:22.013 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:42:22.015 +03:00 [DBG] Connection id "0HN73TF6F4OU0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:42:22.017 +03:00 [DBG] Connection id "0HN73TF6F4OU1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:42:22.018 +03:00 [DBG] Attempting to validate the bound parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:50:09.437 +03:00 [DBG] Registered model binder providers, in the following order: ["VKBot.VkMessageBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 23:50:09.517 +03:00 [DBG] Hosting starting
2024-10-03 23:50:09.573 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 23:50:09.653 +03:00 [DBG] Connection id "0HN73TJS41444" received FIN.
2024-10-03 23:50:09.653 +03:00 [DBG] Connection id "0HN73TJS41443" received FIN.
2024-10-03 23:50:09.654 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 23:50:09.657 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 23:50:09.658 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 23:50:09.658 +03:00 [DBG] Connection id "0HN73TJS41443" accepted.
2024-10-03 23:50:09.658 +03:00 [DBG] Connection id "0HN73TJS41444" accepted.
2024-10-03 23:50:09.659 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 23:50:09.663 +03:00 [DBG] Connection id "0HN73TJS41443" started.
2024-10-03 23:50:09.664 +03:00 [DBG] Connection id "0HN73TJS41444" started.
2024-10-03 23:50:09.665 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 23:50:09.669 +03:00 [INF] Hosting environment: Development
2024-10-03 23:50:09.670 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 23:50:09.670 +03:00 [DBG] Hosting started
2024-10-03 23:50:09.672 +03:00 [DBG] Connection id "0HN73TJS41443" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:50:09.672 +03:00 [DBG] Connection id "0HN73TJS41444" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:50:09.675 +03:00 [DBG] Connection id "0HN73TJS41443" disconnecting.
2024-10-03 23:50:09.675 +03:00 [DBG] Connection id "0HN73TJS41444" disconnecting.
2024-10-03 23:50:09.683 +03:00 [DBG] Connection id "0HN73TJS41443" stopped.
2024-10-03 23:50:09.683 +03:00 [DBG] Connection id "0HN73TJS41444" stopped.
2024-10-03 23:50:09.850 +03:00 [DBG] Connection id "0HN73TJS41445" accepted.
2024-10-03 23:50:09.852 +03:00 [DBG] Connection id "0HN73TJS41445" started.
2024-10-03 23:50:09.855 +03:00 [DBG] Connection id "0HN73TJS41446" accepted.
2024-10-03 23:50:09.857 +03:00 [DBG] Connection id "0HN73TJS41446" started.
2024-10-03 23:50:09.887 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 23:50:09.999 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 23:50:10.003 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 23:50:10.012 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 23:50:10.016 +03:00 [DBG] Request did not match any endpoints
2024-10-03 23:50:10.031 +03:00 [DBG] Connection id "0HN73TJS41445" completed keep alive response.
2024-10-03 23:50:10.034 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 153.5653ms
2024-10-03 23:50:10.038 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 23:50:12.365 +03:00 [DBG] Connection id "0HN73TJS41447" accepted.
2024-10-03 23:50:12.367 +03:00 [DBG] Connection id "0HN73TJS41447" started.
2024-10-03 23:50:12.368 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 1292
2024-10-03 23:50:12.370 +03:00 [DBG] POST requests are not supported
2024-10-03 23:50:12.373 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:50:12.377 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:50:12.378 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:50:12.380 +03:00 [DBG] Connection id "0HN73TJS41447", Request id "0HN73TJS41447:00000001": started reading request body.
2024-10-03 23:50:12.382 +03:00 [DBG] Connection id "0HN73TJS41447", Request id "0HN73TJS41447:00000001": done reading request body.
2024-10-03 23:50:12.459 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "67b33801861758c194f331c67902238190efbeae",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727988601,
      "from_id": 651565729,
      "id": 205,
      "version": 10000292,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [
        {
          "type": "audio_message",
          "audio_message": {
            "duration": 11,
            "id": 680766917,
            "link_mp3": "https://psv4.userapi.com/s/v1/amsg2/tzBlfOShb4qjCu2DaM_MXMCNsOeYzZ8Fa_4do4YWSEgSpCIAOD1VU63UJGC3evgVvRh64cPaFFb3fX7-IUOJ0ryqczc.mp3",
            "link_ogg": "https://psv4.userapi.com/s/v1/amsg2/ujhPGW34-0AaydhUq7zm0Uw1rWZNPBFRyeqNSNBFmgRCo0Ca_U3OC4V6coGhyafXyE-PdT3hjDAc9GagAfVjI-yM8rI.ogg",
            "owner_id": 651565729,
            "access_key": "NQjlcZzg3sC3ZipZkRZhlRZo32j2XWXBpXM04nfeRkz",
            "waveform": [
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              1,
              0,
              0,
              2,
              0,
              1,
              0,
              0,
              0,
              1,
              1,
              1,
              1,
              1,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              1,
              1,
              0,
              0,
              0,
              0,
              0,
              1,
              0,
              0,
              0,
              1,
              2,
              0,
              1,
              0,
              6,
              20,
              31,
              23,
              14,
              0,
              3,
              1,
              1,
              1,
              1,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              2,
              1,
              2,
              2
            ]
          }
        }
      ],
      "conversation_message_id": 201,
      "fwd_messages": [],
      "text": "",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:50:12.465 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:50:12.491 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:50:12.496 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:50:12.497 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:50:12.498 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:50:12.499 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:50:12.500 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:50:12.502 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:50:12.518 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:50:12.525 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
2024-10-03 23:50:33.877 +03:00 [DBG] Registered model binder providers, in the following order: ["VKBot.VkMessageBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 23:50:33.957 +03:00 [DBG] Hosting starting
2024-10-03 23:50:34.013 +03:00 [WRN] The WebRootPath was not found: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot\wwwroot. Static files may be unavailable.
2024-10-03 23:50:34.095 +03:00 [INF] Now listening on: http://localhost:5137
2024-10-03 23:50:34.097 +03:00 [DBG] Loaded hosting startup assembly VKBot
2024-10-03 23:50:34.098 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 23:50:34.100 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 23:50:34.101 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 23:50:34.102 +03:00 [INF] Hosting environment: Development
2024-10-03 23:50:34.103 +03:00 [INF] Content root path: C:\studies\University\FifthSemestr\TPD\VKBot\VKBot\VKBot
2024-10-03 23:50:34.104 +03:00 [DBG] Hosting started
2024-10-03 23:50:34.224 +03:00 [DBG] Connection id "0HN73TK3EBJ5J" accepted.
2024-10-03 23:50:34.228 +03:00 [DBG] Connection id "0HN73TK3EBJ5J" started.
2024-10-03 23:50:34.232 +03:00 [DBG] Connection id "0HN73TK3EBJ5J" received FIN.
2024-10-03 23:50:34.234 +03:00 [DBG] Connection id "0HN73TK3EBJ5J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:50:34.237 +03:00 [DBG] Connection id "0HN73TK3EBJ5J" disconnecting.
2024-10-03 23:50:34.238 +03:00 [DBG] Connection id "0HN73TK3EBJ5J" stopped.
2024-10-03 23:50:34.699 +03:00 [DBG] Connection id "0HN73TK3EBJ5K" accepted.
2024-10-03 23:50:34.701 +03:00 [DBG] Connection id "0HN73TK3EBJ5K" started.
2024-10-03 23:50:34.707 +03:00 [DBG] Connection id "0HN73TK3EBJ5L" accepted.
2024-10-03 23:50:34.709 +03:00 [DBG] Connection id "0HN73TK3EBJ5L" started.
2024-10-03 23:50:34.733 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/ - null null
2024-10-03 23:50:34.844 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 23:50:34.848 +03:00 [DBG] The request path / does not match a supported file type
2024-10-03 23:50:34.860 +03:00 [DBG] No candidates found for the request path '/'
2024-10-03 23:50:34.862 +03:00 [DBG] Request did not match any endpoints
2024-10-03 23:50:34.878 +03:00 [DBG] Connection id "0HN73TK3EBJ5K" completed keep alive response.
2024-10-03 23:50:34.882 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/ - 404 0 null 154.6111ms
2024-10-03 23:50:34.886 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5137/, Response status code: 404
2024-10-03 23:50:42.967 +03:00 [DBG] Connection id "0HN73TK3EBJ5M" accepted.
2024-10-03 23:50:42.969 +03:00 [DBG] Connection id "0HN73TK3EBJ5M" started.
2024-10-03 23:50:42.971 +03:00 [INF] Request starting HTTP/1.1 POST http://trusting-raptor-admittedly.ngrok-free.app/api/callback - application/json 1331
2024-10-03 23:50:42.973 +03:00 [DBG] POST requests are not supported
2024-10-03 23:50:42.975 +03:00 [DBG] 1 candidate(s) found for the request path '/api/callback'
2024-10-03 23:50:42.978 +03:00 [DBG] Endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)' with route pattern 'api/Callback' is valid for the request path '/api/callback'
2024-10-03 23:50:42.979 +03:00 [DBG] Request matched endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:50:42.982 +03:00 [DBG] Connection id "0HN73TK3EBJ5M", Request id "0HN73TK3EBJ5M:00000001": started reading request body.
2024-10-03 23:50:42.983 +03:00 [DBG] Connection id "0HN73TK3EBJ5M", Request id "0HN73TK3EBJ5M:00000001": done reading request body.
2024-10-03 23:50:43.072 +03:00 [ERR] Middleware: {
  "group_id": 227681680,
  "type": "message_new",
  "event_id": "9cd9285832832fdfbcd246f111fd846f7e5723d9",
  "v": "5.199",
  "object": {
    "message": {
      "date": 1727988642,
      "from_id": 651565729,
      "id": 207,
      "version": 10000296,
      "out": 0,
      "important": false,
      "is_hidden": false,
      "attachments": [
        {
          "type": "audio_message",
          "audio_message": {
            "duration": 1,
            "id": 680766928,
            "link_mp3": "https://psv4.userapi.com/s/v1/amsg2/NiK3ttbotv_ckrLHRVPtq9JeTWUMfGOgug6HhY4lwna3ACfH9y2mjXfoQKovMIYY_AOzrdi3zf7AlvLd0pJkZT1CfBI.mp3",
            "link_ogg": "https://psv4.userapi.com/s/v1/amsg2/i37xAS9dW63n_e9TIx7XxnhkEzqsFDQ386tNtcSgCgma2wkAVBwjTwcOJZI3C-PjT3k3QikDEs_Bqi386yXSfAyGEDw.ogg",
            "owner_id": 651565729,
            "access_key": "G5tdI7jbq1mMtBh0og61Z8LxpO5GxflApMC3flDFmd0",
            "waveform": [
              0,
              2,
              12,
              31,
              5,
              8,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              16,
              27,
              3,
              24,
              6,
              3,
              9,
              10,
              0,
              5,
              0,
              18,
              5,
              25,
              31,
              31,
              0,
              27,
              0,
              2,
              4,
              4,
              9,
              4,
              13,
              12,
              1,
              12,
              2,
              6,
              6,
              4,
              10,
              0,
              11,
              1,
              10,
              3,
              2,
              0,
              11,
              15,
              9,
              16,
              10,
              22,
              11,
              9,
              15,
              24,
              3,
              7,
              14,
              20,
              10,
              4,
              13,
              2,
              2,
              0,
              0,
              14,
              4,
              1,
              0,
              6,
              22,
              0,
              15,
              9,
              1,
              5,
              7,
              13,
              10,
              12,
              18,
              6,
              14,
              3,
              1,
              5,
              23,
              22,
              12,
              4,
              15,
              11,
              19,
              6,
              5,
              11
            ]
          }
        }
      ],
      "conversation_message_id": 203,
      "fwd_messages": [],
      "text": "",
      "peer_id": 651565729,
      "random_id": 0
    },
    "client_info": {
      "button_actions": [
        "text",
        "vkpay",
        "open_app",
        "location",
        "open_link",
        "open_photo",
        "callback",
        "intent_subscribe",
        "intent_unsubscribe"
      ],
      "keyboard": true,
      "inline_keyboard": true,
      "carousel": true,
      "lang_id": 0
    }
  }
}
2024-10-03 23:50:43.075 +03:00 [INF] Executing endpoint 'VKBot.Controllers.CallbackController.Callback (VKBot)'
2024-10-03 23:50:43.108 +03:00 [INF] Route matched with {action = "Callback", controller = "Callback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Callback(VkNet.Model.Message) on controller VKBot.Controllers.CallbackController (VKBot).
2024-10-03 23:50:43.113 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 23:50:43.117 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 23:50:43.118 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 23:50:43.120 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 23:50:43.121 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 23:50:43.123 +03:00 [DBG] Executing controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:50:43.146 +03:00 [DBG] Executed controller factory for controller VKBot.Controllers.CallbackController (VKBot)
2024-10-03 23:50:43.149 +03:00 [DBG] Attempting to bind parameter 'msg' of type 'VkNet.Model.Message' ...
